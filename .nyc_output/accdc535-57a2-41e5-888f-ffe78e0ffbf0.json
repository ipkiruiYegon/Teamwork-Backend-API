{"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\index.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":58}},"2":{"start":{"line":7,"column":10},"end":{"line":7,"column":26}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}},"4":{"start":{"line":10,"column":11},"end":{"line":10,"column":27}},"5":{"start":{"line":11,"column":13},"end":{"line":17,"column":2}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":109}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":21}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":30},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":42},"end":{"line":17,"column":1}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","config","debug","app","process","env","port","listen","name","module","exports","address"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,KAAK,GAAGF,OAAO,CAAC,OAAD,CAAP,CAAiB,4BAAjB,CAAd;;AAEA,IAAMG,GAAG,GAAGH,OAAO,CAAC,OAAD,CAAnB;;AAEAE,KAAK,CAACE,OAAO,CAACC,GAAR,CAAYC,IAAb,CAAL;IACQA,I,GAASF,OAAO,CAACC,G,CAAjBC,I;AAER,IAAMC,MAAM,GAAGJ,GAAG,CAACI,MAAJ,CAAWD,IAAX,EAAiB,YAAM;AACpCJ,EAAAA,KAAK,qCAC0BE,OAAO,CAACC,GAAR,CAAYC,IADtC,qBACqDF,OAAO,CAACC,GAAR,CAAYG,IADjE,WAAL,CADoC,CAKpC;AACA;AACA;AACA;AACA;AACD,CAVc,CAAf;AAWAC,MAAM,CAACC,OAAP,GAAiBP,GAAjB;AACAM,MAAM,CAACC,OAAP,CAAeJ,IAAf,GAAsBC,MAAM,CAACI,OAAP,GAAiBL,IAAvC","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src","sourcesContent":["require('dotenv').config();\r\n\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\n\r\nconst app = require('./app');\r\n\r\ndebug(process.env.port);\r\nconst { port } = process.env;\r\n\r\nconst listen = app.listen(port, () => {\r\n  debug(\r\n    `server is running on port ${process.env.port} and in ${process.env.name} mode`\r\n  );\r\n\r\n  // console.log(\r\n  //   `server is running on port ${config.get('port')} and in ${config.get(\r\n  //     'name'\r\n  //   )} mode`\r\n  // );\r\n});\r\nmodule.exports = app;\r\nmodule.exports.port = listen.address().port;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e235164508200310bc4005470ee0da9c20ab0a55","contentHash":"14608665f9ca74e3ffb4a5bcc7409ca69dc071797822524dd56cf0a2af939093"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\app.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\app.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":17},"end":{"line":5,"column":39}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":39}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":49}},"4":{"start":{"line":11,"column":18},"end":{"line":11,"column":38}},"5":{"start":{"line":13,"column":16},"end":{"line":13,"column":49}},"6":{"start":{"line":14,"column":23},"end":{"line":14,"column":49}},"7":{"start":{"line":16,"column":10},"end":{"line":16,"column":19}},"8":{"start":{"line":17,"column":0},"end":{"line":22,"column":3}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":52}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":122}},"11":{"start":{"line":20,"column":2},"end":{"line":20,"column":80}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":9}},"13":{"start":{"line":23,"column":0},"end":{"line":25,"column":4}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":31}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":21}},"17":{"start":{"line":31,"column":0},"end":{"line":33,"column":3}},"18":{"start":{"line":32,"column":2},"end":{"line":32,"column":24}},"19":{"start":{"line":36,"column":0},"end":{"line":42,"column":3}},"20":{"start":{"line":37,"column":2},"end":{"line":37,"column":18}},"21":{"start":{"line":38,"column":2},"end":{"line":41,"column":5}},"22":{"start":{"line":43,"column":0},"end":{"line":43,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":8},"end":{"line":17,"column":9}},"loc":{"start":{"line":17,"column":34},"end":{"line":22,"column":1}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":8},"end":{"line":31,"column":9}},"loc":{"start":{"line":31,"column":39},"end":{"line":33,"column":1}},"line":31},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":8},"end":{"line":36,"column":9}},"loc":{"start":{"line":36,"column":34},"end":{"line":42,"column":1}},"line":36}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":60,"10":60,"11":60,"12":60,"13":1,"14":1,"15":1,"16":1,"17":1,"18":4,"19":1,"20":5,"21":5,"22":1},"f":{"0":60,"1":4,"2":5},"b":{},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["express","require","bodyParser","routes","handleError","cloudinaryConfig","app","use","req","res","next","setHeader","urlencoded","extended","json","err","status","error","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B,C,CACA;;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,iBAAD,CAAtB;;eACwBA,OAAO,CAAC,yBAAD,C;IAAvBG,W,YAAAA,W;;gBACqBH,OAAO,CAAC,wBAAD,C;IAA5BI,gB,aAAAA,gB;;AAER,IAAMC,GAAG,GAAGN,OAAO,EAAnB;AAEAM,GAAG,CAACC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,EAAAA,GAAG,CAACE,SAAJ,CAAc,6BAAd,EAA6C,GAA7C;AACAF,EAAAA,GAAG,CAACE,SAAJ,CACE,8BADF,EAEE,wEAFF;AAIAF,EAAAA,GAAG,CAACE,SAAJ,CAAc,8BAAd,EAA8C,8BAA9C;AACAD,EAAAA,IAAI;AACL,CARD;AASAJ,GAAG,CAACC,GAAJ,CACEL,UAAU,CAACU,UAAX,CAAsB;AACpBC,EAAAA,QAAQ,EAAE;AADU,CAAtB,CADF;AAKAP,GAAG,CAACC,GAAJ,CAAQL,UAAU,CAACY,IAAX,EAAR,E,CAEA;;AAEAR,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaF,gBAAb;AAEAC,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaJ,MAAb,E,CAEA;;AACAG,GAAG,CAACC,GAAJ,CAAQ,UAACQ,GAAD,EAAMP,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC/BN,EAAAA,WAAW,CAACW,GAAD,EAAMN,GAAN,CAAX;AACD,CAFD,E,CAGA;AACA;;AACAH,GAAG,CAACC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BD,EAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX;AACAP,EAAAA,GAAG,CAACK,IAAJ,CAAS;AACPE,IAAAA,MAAM,EAAE,OADD;AAEPC,IAAAA,KAAK,EAAE;AAFA,GAAT;AAID,CAND;AAQAC,MAAM,CAACC,OAAP,GAAiBb,GAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src","sourcesContent":["const express = require('express');\r\nconst bodyParser = require('body-parser');\r\n// const { resolve } = require('path');\r\nconst routes = require('./routes/routes');\r\nconst { handleError } = require('./auth/middleware/error');\r\nconst { cloudinaryConfig } = require('../cloudinaryConfig.js');\r\n\r\nconst app = express();\r\n\r\napp.use((req, res, next) => {\r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader(\r\n    'Access-Control-Allow-Headers',\r\n    'Origin, X-Requested-With, Content, Accept, Content-Type, Authorization'\r\n  );\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE,PATCH');\r\n  next();\r\n});\r\napp.use(\r\n  bodyParser.urlencoded({\r\n    extended: true\r\n  })\r\n);\r\napp.use(bodyParser.json());\r\n\r\n// app.use(express.static(resolve(__dirname, 'src')));\r\n\r\napp.use('*', cloudinaryConfig);\r\n\r\napp.use('/', routes);\r\n\r\n// eslint-disable-next-line no-unused-vars\r\napp.use((err, req, res, next) => {\r\n  handleError(err, res);\r\n});\r\n// handle all not found errors here\r\n// eslint-disable-next-line no-unused-vars\r\napp.use((req, res, next) => {\r\n  res.status(404);\r\n  res.json({\r\n    status: 'error',\r\n    error: 'Route not found'\r\n  });\r\n});\r\n\r\nmodule.exports = app;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"65f7817da45777ae0adc1bf99a20fe1f9cdc4c02","contentHash":"dd71725ef3d2368ff00313854a2bfa5b9c9abdf9ac7052715ac9cc2e1119c010"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\routes.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\routes.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":13},"end":{"line":5,"column":29}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":45}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":21}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["routes.js"],"names":["express","require","router","Router","routesV1","use","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,IAAMC,QAAQ,GAAGH,OAAO,CAAC,qBAAD,CAAxB;;AAEAC,MAAM,CAACG,GAAP,CAAWD,QAAX;AAEAE,MAAM,CAACC,OAAP,GAAiBL,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes","sourcesContent":["const express = require('express');\r\n\r\nconst router = express.Router();\r\n\r\nconst routesV1 = require('../routes/routes_v1');\r\n\r\nrouter.use(routesV1);\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f2189d8c547dca40f9c2f4eb12d02cccd64859e2","contentHash":"8552ea5dabf699363756b569fbb43045a20e1dff408a281ed67bff8a1f68369a"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\routes_v1.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\routes_v1.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":13},"end":{"line":5,"column":29}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":50}},"3":{"start":{"line":9,"column":15},"end":{"line":9,"column":56}},"4":{"start":{"line":11,"column":11},"end":{"line":11,"column":48}},"5":{"start":{"line":13,"column":18},"end":{"line":13,"column":64}},"6":{"start":{"line":15,"column":22},"end":{"line":15,"column":71}},"7":{"start":{"line":17,"column":17},"end":{"line":17,"column":60}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":32}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":28}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":35}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":39}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}},"14":{"start":{"line":25,"column":0},"end":{"line":25,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["routes_v1.js"],"names":["express","require","router","Router","users","articles","gifs","gifComments","articleComments","authRoutes","use","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,IAAMC,KAAK,GAAGH,OAAO,CAAC,6BAAD,CAArB;;AACA,IAAMI,QAAQ,GAAGJ,OAAO,CAAC,gCAAD,CAAxB;;AACA,IAAMK,IAAI,GAAGL,OAAO,CAAC,4BAAD,CAApB;;AACA,IAAMM,WAAW,GAAGN,OAAO,CAAC,qCAAD,CAA3B;;AACA,IAAMO,eAAe,GAAGP,OAAO,CAAC,wCAAD,CAA/B;;AACA,IAAMQ,UAAU,GAAGR,OAAO,CAAC,kCAAD,CAA1B;;AAEAC,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBN,KAAtB;AACAF,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBL,QAAtB;AACAH,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBJ,IAAtB;AACAJ,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBH,WAAtB;AACAL,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBF,eAAtB;AACAN,MAAM,CAACQ,GAAP,CAAW,SAAX,EAAsBD,UAAtB;AAEAE,MAAM,CAACC,OAAP,GAAiBV,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes","sourcesContent":["const express = require('express');\r\n\r\nconst router = express.Router();\r\n\r\nconst users = require('../routes/controllers/users');\r\nconst articles = require('../routes/controllers/articles');\r\nconst gifs = require('../routes/controllers/gifs');\r\nconst gifComments = require('../routes/controllers/gifs_comments');\r\nconst articleComments = require('../routes/controllers/articles_comment');\r\nconst authRoutes = require('../routes/controllers/auth_login');\r\n\r\nrouter.use('/api/v1', users);\r\nrouter.use('/api/v1', articles);\r\nrouter.use('/api/v1', gifs);\r\nrouter.use('/api/v1', gifComments);\r\nrouter.use('/api/v1', articleComments);\r\nrouter.use('/api/v1', authRoutes);\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a25dd0b9993368e4651a4d3ad7bc9eaf408399d5","contentHash":"8de78ee366311e1aebeb2ea94d95d6844d8811494aac9350283fa9f0dfd4315b"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\users.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\users.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":13},"end":{"line":5,"column":29}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":51}},"3":{"start":{"line":9,"column":0},"end":{"line":15,"column":3}},"4":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"5":{"start":{"line":11,"column":2},"end":{"line":14,"column":5}},"6":{"start":{"line":16,"column":0},"end":{"line":22,"column":3}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":18}},"8":{"start":{"line":18,"column":2},"end":{"line":21,"column":5}},"9":{"start":{"line":23,"column":0},"end":{"line":29,"column":3}},"10":{"start":{"line":24,"column":2},"end":{"line":24,"column":18}},"11":{"start":{"line":25,"column":2},"end":{"line":28,"column":5}},"12":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":47},"end":{"line":9,"column":48}},"loc":{"start":{"line":9,"column":67},"end":{"line":15,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":39},"end":{"line":16,"column":40}},"loc":{"start":{"line":16,"column":59},"end":{"line":22,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":52},"end":{"line":23,"column":53}},"loc":{"start":{"line":23,"column":72},"end":{"line":29,"column":1}},"line":23}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"sources":["users.js"],"names":["express","require","router","Router","Auth","get","verifyToken","req","res","status","json","message","put","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,IAAI,GAAGH,OAAO,CAAC,+BAAD,CAApB;;AAEAC,MAAM,CAACG,GAAP,CAAW,gBAAX,EAA6BD,IAAI,CAACE,WAAlC,EAA+C,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3DA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,IAAAA,MAAM,EAAE,SADD;AAEPE,IAAAA,OAAO,EAAE;AAFF,GAAT;AAID,CAND;AAQAT,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBD,IAAI,CAACE,WAA1B,EAAuC,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnDA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,IAAAA,MAAM,EAAE,SADD;AAEPE,IAAAA,OAAO,EAAE;AAFF,GAAT;AAID,CAND;AAQAT,MAAM,CAACU,GAAP,CAAW,qBAAX,EAAkCR,IAAI,CAACE,WAAvC,EAAoD,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChEA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,IAAAA,MAAM,EAAE,SADD;AAEPE,IAAAA,OAAO,EAAE;AAFF,GAAT;AAID,CAND;AAQAE,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\n\r\nconst router = express.Router();\r\nconst Auth = require('../../auth/middleware/auth.js');\r\n\r\nrouter.get('/users/:userId', Auth.verifyToken, (req, res) => {\r\n  res.status(200);\r\n  res.json({\r\n    status: 'success',\r\n    message: 'Welcome to Api v1'\r\n  });\r\n});\r\n\r\nrouter.get('/users', Auth.verifyToken, (req, res) => {\r\n  res.status(200);\r\n  res.json({\r\n    status: 'success',\r\n    message: 'Welcome to Api v1'\r\n  });\r\n});\r\n\r\nrouter.put('/users/:userId/type', Auth.verifyToken, (req, res) => {\r\n  res.status(200);\r\n  res.json({\r\n    status: 'success',\r\n    message: 'Welcome to Api v1'\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"802e809129121304f62dafcacf8a18375bef5231","contentHash":"b4c102aa0e7ad6cae63f003644348c37220aacee0186b638f5cd850b231bb81e"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\auth.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\auth.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"3":{"start":{"line":9,"column":10},"end":{"line":9,"column":33}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":58}},"5":{"start":{"line":13,"column":9},"end":{"line":13,"column":37}},"6":{"start":{"line":15,"column":15},"end":{"line":15,"column":53}},"7":{"start":{"line":16,"column":19},"end":{"line":16,"column":40}},"8":{"start":{"line":18,"column":11},"end":{"line":279,"column":1}},"9":{"start":{"line":23,"column":4},"end":{"line":149,"column":30}},"10":{"start":{"line":24,"column":6},"end":{"line":148,"column":7}},"11":{"start":{"line":25,"column":8},"end":{"line":147,"column":9}},"12":{"start":{"line":27,"column":12},"end":{"line":27,"column":30}},"13":{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},"14":{"start":{"line":30,"column":14},"end":{"line":30,"column":32}},"15":{"start":{"line":31,"column":14},"end":{"line":31,"column":20}},"16":{"start":{"line":34,"column":12},"end":{"line":34,"column":65}},"17":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"18":{"start":{"line":38,"column":14},"end":{"line":38,"column":33}},"19":{"start":{"line":39,"column":14},"end":{"line":39,"column":20}},"20":{"start":{"line":42,"column":12},"end":{"line":42,"column":30}},"21":{"start":{"line":43,"column":12},"end":{"line":43,"column":68}},"22":{"start":{"line":46,"column":12},"end":{"line":46,"column":34}},"23":{"start":{"line":47,"column":12},"end":{"line":47,"column":44}},"24":{"start":{"line":48,"column":12},"end":{"line":48,"column":31}},"25":{"start":{"line":49,"column":12},"end":{"line":49,"column":80}},"26":{"start":{"line":52,"column":12},"end":{"line":52,"column":36}},"27":{"start":{"line":53,"column":12},"end":{"line":53,"column":34}},"28":{"start":{"line":55,"column":12},"end":{"line":55,"column":59}},"29":{"start":{"line":56,"column":12},"end":{"line":56,"column":31}},"30":{"start":{"line":57,"column":12},"end":{"line":57,"column":73}},"31":{"start":{"line":60,"column":12},"end":{"line":60,"column":33}},"32":{"start":{"line":61,"column":12},"end":{"line":61,"column":29}},"33":{"start":{"line":63,"column":12},"end":{"line":66,"column":13}},"34":{"start":{"line":64,"column":14},"end":{"line":64,"column":33}},"35":{"start":{"line":65,"column":14},"end":{"line":65,"column":20}},"36":{"start":{"line":68,"column":12},"end":{"line":68,"column":58}},"37":{"start":{"line":71,"column":12},"end":{"line":74,"column":13}},"38":{"start":{"line":72,"column":14},"end":{"line":72,"column":33}},"39":{"start":{"line":73,"column":14},"end":{"line":73,"column":20}},"40":{"start":{"line":76,"column":12},"end":{"line":76,"column":62}},"41":{"start":{"line":79,"column":12},"end":{"line":81,"column":14}},"42":{"start":{"line":82,"column":12},"end":{"line":82,"column":19}},"43":{"start":{"line":85,"column":12},"end":{"line":85,"column":31}},"44":{"start":{"line":86,"column":12},"end":{"line":86,"column":18}},"45":{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},"46":{"start":{"line":90,"column":14},"end":{"line":90,"column":33}},"47":{"start":{"line":91,"column":14},"end":{"line":91,"column":20}},"48":{"start":{"line":94,"column":12},"end":{"line":94,"column":61}},"49":{"start":{"line":95,"column":12},"end":{"line":95,"column":45}},"50":{"start":{"line":96,"column":12},"end":{"line":96,"column":31}},"51":{"start":{"line":97,"column":12},"end":{"line":97,"column":82}},"52":{"start":{"line":100,"column":12},"end":{"line":100,"column":37}},"53":{"start":{"line":101,"column":12},"end":{"line":101,"column":36}},"54":{"start":{"line":103,"column":12},"end":{"line":103,"column":60}},"55":{"start":{"line":104,"column":12},"end":{"line":104,"column":31}},"56":{"start":{"line":105,"column":12},"end":{"line":105,"column":75}},"57":{"start":{"line":108,"column":12},"end":{"line":108,"column":34}},"58":{"start":{"line":109,"column":12},"end":{"line":109,"column":31}},"59":{"start":{"line":111,"column":12},"end":{"line":114,"column":13}},"60":{"start":{"line":112,"column":14},"end":{"line":112,"column":33}},"61":{"start":{"line":113,"column":14},"end":{"line":113,"column":20}},"62":{"start":{"line":116,"column":12},"end":{"line":116,"column":58}},"63":{"start":{"line":119,"column":12},"end":{"line":119,"column":62}},"64":{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},"65":{"start":{"line":122,"column":14},"end":{"line":122,"column":33}},"66":{"start":{"line":123,"column":14},"end":{"line":123,"column":20}},"67":{"start":{"line":126,"column":12},"end":{"line":126,"column":62}},"68":{"start":{"line":129,"column":12},"end":{"line":131,"column":14}},"69":{"start":{"line":132,"column":12},"end":{"line":132,"column":19}},"70":{"start":{"line":135,"column":12},"end":{"line":135,"column":31}},"71":{"start":{"line":136,"column":12},"end":{"line":136,"column":18}},"72":{"start":{"line":139,"column":12},"end":{"line":139,"column":31}},"73":{"start":{"line":140,"column":12},"end":{"line":140,"column":47}},"74":{"start":{"line":141,"column":12},"end":{"line":141,"column":31}},"75":{"start":{"line":142,"column":12},"end":{"line":142,"column":30}},"76":{"start":{"line":146,"column":12},"end":{"line":146,"column":35}},"77":{"start":{"line":155,"column":4},"end":{"line":277,"column":30}},"78":{"start":{"line":156,"column":6},"end":{"line":276,"column":7}},"79":{"start":{"line":157,"column":8},"end":{"line":275,"column":9}},"80":{"start":{"line":159,"column":12},"end":{"line":159,"column":31}},"81":{"start":{"line":161,"column":12},"end":{"line":164,"column":13}},"82":{"start":{"line":162,"column":14},"end":{"line":162,"column":33}},"83":{"start":{"line":163,"column":14},"end":{"line":163,"column":20}},"84":{"start":{"line":166,"column":12},"end":{"line":166,"column":65}},"85":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"86":{"start":{"line":170,"column":14},"end":{"line":170,"column":34}},"87":{"start":{"line":171,"column":14},"end":{"line":171,"column":20}},"88":{"start":{"line":174,"column":12},"end":{"line":174,"column":31}},"89":{"start":{"line":175,"column":12},"end":{"line":175,"column":68}},"90":{"start":{"line":178,"column":12},"end":{"line":178,"column":35}},"91":{"start":{"line":179,"column":12},"end":{"line":179,"column":44}},"92":{"start":{"line":180,"column":12},"end":{"line":180,"column":32}},"93":{"start":{"line":181,"column":12},"end":{"line":181,"column":80}},"94":{"start":{"line":184,"column":12},"end":{"line":184,"column":37}},"95":{"start":{"line":185,"column":12},"end":{"line":185,"column":34}},"96":{"start":{"line":186,"column":12},"end":{"line":186,"column":81}},"97":{"start":{"line":187,"column":12},"end":{"line":187,"column":32}},"98":{"start":{"line":188,"column":12},"end":{"line":188,"column":81}},"99":{"start":{"line":191,"column":12},"end":{"line":191,"column":35}},"100":{"start":{"line":192,"column":12},"end":{"line":192,"column":30}},"101":{"start":{"line":194,"column":12},"end":{"line":197,"column":13}},"102":{"start":{"line":195,"column":14},"end":{"line":195,"column":34}},"103":{"start":{"line":196,"column":14},"end":{"line":196,"column":20}},"104":{"start":{"line":199,"column":12},"end":{"line":199,"column":78}},"105":{"start":{"line":202,"column":12},"end":{"line":205,"column":13}},"106":{"start":{"line":203,"column":14},"end":{"line":203,"column":34}},"107":{"start":{"line":204,"column":14},"end":{"line":204,"column":20}},"108":{"start":{"line":207,"column":12},"end":{"line":207,"column":62}},"109":{"start":{"line":210,"column":12},"end":{"line":212,"column":14}},"110":{"start":{"line":213,"column":12},"end":{"line":213,"column":19}},"111":{"start":{"line":214,"column":12},"end":{"line":214,"column":32}},"112":{"start":{"line":215,"column":12},"end":{"line":215,"column":18}},"113":{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},"114":{"start":{"line":219,"column":14},"end":{"line":219,"column":34}},"115":{"start":{"line":220,"column":14},"end":{"line":220,"column":20}},"116":{"start":{"line":223,"column":12},"end":{"line":223,"column":62}},"117":{"start":{"line":224,"column":12},"end":{"line":224,"column":46}},"118":{"start":{"line":225,"column":12},"end":{"line":225,"column":32}},"119":{"start":{"line":226,"column":12},"end":{"line":226,"column":84}},"120":{"start":{"line":229,"column":12},"end":{"line":229,"column":39}},"121":{"start":{"line":230,"column":12},"end":{"line":230,"column":38}},"122":{"start":{"line":231,"column":12},"end":{"line":231,"column":29}},"123":{"start":{"line":232,"column":12},"end":{"line":232,"column":26}},"124":{"start":{"line":233,"column":12},"end":{"line":233,"column":83}},"125":{"start":{"line":234,"column":12},"end":{"line":234,"column":32}},"126":{"start":{"line":235,"column":12},"end":{"line":235,"column":85}},"127":{"start":{"line":238,"column":12},"end":{"line":238,"column":35}},"128":{"start":{"line":239,"column":12},"end":{"line":239,"column":32}},"129":{"start":{"line":241,"column":12},"end":{"line":244,"column":13}},"130":{"start":{"line":242,"column":14},"end":{"line":242,"column":34}},"131":{"start":{"line":243,"column":14},"end":{"line":243,"column":20}},"132":{"start":{"line":246,"column":12},"end":{"line":246,"column":78}},"133":{"start":{"line":249,"column":12},"end":{"line":252,"column":13}},"134":{"start":{"line":250,"column":14},"end":{"line":250,"column":34}},"135":{"start":{"line":251,"column":14},"end":{"line":251,"column":20}},"136":{"start":{"line":254,"column":12},"end":{"line":254,"column":62}},"137":{"start":{"line":257,"column":12},"end":{"line":259,"column":14}},"138":{"start":{"line":260,"column":12},"end":{"line":260,"column":19}},"139":{"start":{"line":263,"column":12},"end":{"line":263,"column":32}},"140":{"start":{"line":264,"column":12},"end":{"line":264,"column":18}},"141":{"start":{"line":267,"column":12},"end":{"line":267,"column":32}},"142":{"start":{"line":268,"column":12},"end":{"line":268,"column":49}},"143":{"start":{"line":269,"column":12},"end":{"line":269,"column":32}},"144":{"start":{"line":270,"column":12},"end":{"line":270,"column":31}},"145":{"start":{"line":274,"column":12},"end":{"line":274,"column":36}},"146":{"start":{"line":280,"column":0},"end":{"line":280,"column":22}}},"fnMap":{"0":{"name":"verifyToken","decl":{"start":{"line":20,"column":24},"end":{"line":20,"column":35}},"loc":{"start":{"line":20,"column":52},"end":{"line":150,"column":3}},"line":20},"1":{"name":"verifyToken$","decl":{"start":{"line":23,"column":50},"end":{"line":23,"column":62}},"loc":{"start":{"line":23,"column":73},"end":{"line":149,"column":5}},"line":23},"2":{"name":"verifyTokenAdmin","decl":{"start":{"line":152,"column":29},"end":{"line":152,"column":45}},"loc":{"start":{"line":152,"column":62},"end":{"line":278,"column":3}},"line":152},"3":{"name":"verifyTokenAdmin$","decl":{"start":{"line":155,"column":50},"end":{"line":155,"column":67}},"loc":{"start":{"line":155,"column":79},"end":{"line":277,"column":5}},"line":155}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":8},"end":{"line":147,"column":9}},"type":"switch","locations":[{"start":{"line":26,"column":10},"end":{"line":34,"column":65}},{"start":{"line":36,"column":10},"end":{"line":43,"column":68}},{"start":{"line":45,"column":10},"end":{"line":49,"column":80}},{"start":{"line":51,"column":10},"end":{"line":57,"column":73}},{"start":{"line":59,"column":10},"end":{"line":68,"column":58}},{"start":{"line":70,"column":10},"end":{"line":76,"column":62}},{"start":{"line":78,"column":10},"end":{"line":82,"column":19}},{"start":{"line":84,"column":10},"end":{"line":86,"column":18}},{"start":{"line":88,"column":10},"end":{"line":97,"column":82}},{"start":{"line":99,"column":10},"end":{"line":105,"column":75}},{"start":{"line":107,"column":10},"end":{"line":116,"column":58}},{"start":{"line":118,"column":10},"end":{"line":126,"column":62}},{"start":{"line":128,"column":10},"end":{"line":132,"column":19}},{"start":{"line":134,"column":10},"end":{"line":136,"column":18}},{"start":{"line":138,"column":10},"end":{"line":142,"column":30}},{"start":{"line":144,"column":10},"end":{"line":144,"column":18}},{"start":{"line":145,"column":10},"end":{"line":146,"column":35}}],"line":25},"1":{"loc":{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},{"start":{"line":29,"column":12},"end":{"line":32,"column":13}}],"line":29},"2":{"loc":{"start":{"line":29,"column":18},"end":{"line":29,"column":66}},"type":"binary-expr","locations":[{"start":{"line":29,"column":18},"end":{"line":29,"column":36}},{"start":{"line":29,"column":40},"end":{"line":29,"column":66}}],"line":29},"3":{"loc":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},{"start":{"line":37,"column":12},"end":{"line":40,"column":13}}],"line":37},"4":{"loc":{"start":{"line":63,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":63,"column":12},"end":{"line":66,"column":13}},{"start":{"line":63,"column":12},"end":{"line":66,"column":13}}],"line":63},"5":{"loc":{"start":{"line":71,"column":12},"end":{"line":74,"column":13}},"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":74,"column":13}},{"start":{"line":71,"column":12},"end":{"line":74,"column":13}}],"line":71},"6":{"loc":{"start":{"line":71,"column":18},"end":{"line":71,"column":61}},"type":"binary-expr","locations":[{"start":{"line":71,"column":18},"end":{"line":71,"column":33}},{"start":{"line":71,"column":37},"end":{"line":71,"column":61}}],"line":71},"7":{"loc":{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},"type":"if","locations":[{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},{"start":{"line":89,"column":12},"end":{"line":92,"column":13}}],"line":89},"8":{"loc":{"start":{"line":111,"column":12},"end":{"line":114,"column":13}},"type":"if","locations":[{"start":{"line":111,"column":12},"end":{"line":114,"column":13}},{"start":{"line":111,"column":12},"end":{"line":114,"column":13}}],"line":111},"9":{"loc":{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},{"start":{"line":121,"column":12},"end":{"line":124,"column":13}}],"line":121},"10":{"loc":{"start":{"line":121,"column":18},"end":{"line":121,"column":62}},"type":"binary-expr","locations":[{"start":{"line":121,"column":18},"end":{"line":121,"column":33}},{"start":{"line":121,"column":37},"end":{"line":121,"column":62}}],"line":121},"11":{"loc":{"start":{"line":157,"column":8},"end":{"line":275,"column":9}},"type":"switch","locations":[{"start":{"line":158,"column":10},"end":{"line":166,"column":65}},{"start":{"line":168,"column":10},"end":{"line":175,"column":68}},{"start":{"line":177,"column":10},"end":{"line":181,"column":80}},{"start":{"line":183,"column":10},"end":{"line":188,"column":81}},{"start":{"line":190,"column":10},"end":{"line":199,"column":78}},{"start":{"line":201,"column":10},"end":{"line":207,"column":62}},{"start":{"line":209,"column":10},"end":{"line":215,"column":18}},{"start":{"line":217,"column":10},"end":{"line":226,"column":84}},{"start":{"line":228,"column":10},"end":{"line":235,"column":85}},{"start":{"line":237,"column":10},"end":{"line":246,"column":78}},{"start":{"line":248,"column":10},"end":{"line":254,"column":62}},{"start":{"line":256,"column":10},"end":{"line":260,"column":19}},{"start":{"line":262,"column":10},"end":{"line":264,"column":18}},{"start":{"line":266,"column":10},"end":{"line":270,"column":31}},{"start":{"line":272,"column":10},"end":{"line":272,"column":18}},{"start":{"line":273,"column":10},"end":{"line":274,"column":36}}],"line":157},"12":{"loc":{"start":{"line":161,"column":12},"end":{"line":164,"column":13}},"type":"if","locations":[{"start":{"line":161,"column":12},"end":{"line":164,"column":13}},{"start":{"line":161,"column":12},"end":{"line":164,"column":13}}],"line":161},"13":{"loc":{"start":{"line":161,"column":18},"end":{"line":161,"column":66}},"type":"binary-expr","locations":[{"start":{"line":161,"column":18},"end":{"line":161,"column":36}},{"start":{"line":161,"column":40},"end":{"line":161,"column":66}}],"line":161},"14":{"loc":{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":169,"column":12},"end":{"line":172,"column":13}},{"start":{"line":169,"column":12},"end":{"line":172,"column":13}}],"line":169},"15":{"loc":{"start":{"line":194,"column":12},"end":{"line":197,"column":13}},"type":"if","locations":[{"start":{"line":194,"column":12},"end":{"line":197,"column":13}},{"start":{"line":194,"column":12},"end":{"line":197,"column":13}}],"line":194},"16":{"loc":{"start":{"line":202,"column":12},"end":{"line":205,"column":13}},"type":"if","locations":[{"start":{"line":202,"column":12},"end":{"line":205,"column":13}},{"start":{"line":202,"column":12},"end":{"line":205,"column":13}}],"line":202},"17":{"loc":{"start":{"line":202,"column":18},"end":{"line":202,"column":61}},"type":"binary-expr","locations":[{"start":{"line":202,"column":18},"end":{"line":202,"column":33}},{"start":{"line":202,"column":37},"end":{"line":202,"column":61}}],"line":202},"18":{"loc":{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},"type":"if","locations":[{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},{"start":{"line":218,"column":12},"end":{"line":221,"column":13}}],"line":218},"19":{"loc":{"start":{"line":241,"column":12},"end":{"line":244,"column":13}},"type":"if","locations":[{"start":{"line":241,"column":12},"end":{"line":244,"column":13}},{"start":{"line":241,"column":12},"end":{"line":244,"column":13}}],"line":241},"20":{"loc":{"start":{"line":249,"column":12},"end":{"line":252,"column":13}},"type":"if","locations":[{"start":{"line":249,"column":12},"end":{"line":252,"column":13}},{"start":{"line":249,"column":12},"end":{"line":252,"column":13}}],"line":249},"21":{"loc":{"start":{"line":249,"column":18},"end":{"line":249,"column":63}},"type":"binary-expr","locations":[{"start":{"line":249,"column":18},"end":{"line":249,"column":33}},{"start":{"line":249,"column":37},"end":{"line":249,"column":63}}],"line":249}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":26,"10":78,"11":208,"12":26,"13":26,"14":26,"15":26,"16":0,"17":26,"18":26,"19":26,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":26,"46":0,"47":0,"48":26,"49":26,"50":26,"51":26,"52":26,"53":26,"54":26,"55":26,"56":26,"57":26,"58":26,"59":26,"60":26,"61":26,"62":0,"63":26,"64":26,"65":26,"66":26,"67":0,"68":26,"69":26,"70":26,"71":26,"72":0,"73":0,"74":0,"75":0,"76":26,"77":3,"78":10,"79":22,"80":3,"81":3,"82":3,"83":3,"84":0,"85":3,"86":3,"87":3,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":3,"114":0,"115":0,"116":3,"117":3,"118":3,"119":3,"120":3,"121":3,"122":3,"123":3,"124":3,"125":3,"126":3,"127":3,"128":3,"129":3,"130":2,"131":2,"132":1,"133":2,"134":2,"135":2,"136":0,"137":2,"138":2,"139":2,"140":2,"141":1,"142":1,"143":1,"144":1,"145":3,"146":1},"f":{"0":26,"1":78,"2":3,"3":10},"b":{"0":[26,26,0,0,0,0,0,0,26,26,26,26,26,26,0,26,26],"1":[26,0],"2":[26,26],"3":[26,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,26],"8":[26,0],"9":[26,0],"10":[26,12],"11":[3,3,0,0,0,0,0,3,3,3,2,2,2,1,3,3],"12":[3,0],"13":[3,3],"14":[3,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,3],"19":[2,1],"20":[2,0],"21":[2,2]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["require","config","jwt","debug","db","ErrorHandler","Auth","verifyToken","req","res","next","headers","token","authorization","secretWord","process","env","secret","verify","decoded","user","userId","text","query","rows","body","id","split","verifyTokenAdmin","module","exports"],"mappings":"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","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware","sourcesContent":["require('dotenv').config();\r\nconst jwt = require('jsonwebtoken');\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\nconst db = require('../../db/index.js');\r\nconst { ErrorHandler } = require('../../auth/middleware/error');\r\n\r\nconst Auth = {\r\n  // eslint-disable-next-line consistent-return\r\n  async verifyToken(req, res, next) {\r\n    try {\r\n      if (!req.headers.token && !req.headers.authorization) {\r\n        throw new ErrorHandler(401, 'Token is not provided');\r\n      }\r\n      // const token = await req.headers.authorization.split(' ')[1];\r\n      if (req.headers.token) {\r\n        const token = await req.headers.token;\r\n        const secretWord = process.env.secret;\r\n        const decoded = await jwt.verify(token, secretWord);\r\n        const user = decoded.userId;\r\n        // debug(user);\r\n        const text = 'SELECT * FROM sys_users WHERE id = $1';\r\n        const { rows } = await db.query(text, [user]);\r\n        if (!rows[0]) {\r\n          throw new ErrorHandler(401, 'User not Found');\r\n        }\r\n        if (req.body.userId && req.body.userId !== user) {\r\n          throw new ErrorHandler(401, 'invalid user token');\r\n        } else {\r\n          req.user = { id: user };\r\n          next();\r\n        }\r\n      } else if (req.headers.authorization) {\r\n        const token = req.headers.authorization.split(' ')[1];\r\n        const secretWord = process.env.secret;\r\n        const decoded = await jwt.verify(token, secretWord);\r\n        const user = decoded.userId;\r\n        // debug(user);\r\n        const text = 'SELECT * FROM sys_users WHERE id = $1';\r\n        const { rows } = await db.query(text, [user]);\r\n        if (!rows[0]) {\r\n          throw new ErrorHandler(401, 'User not Found');\r\n        }\r\n        debug(req.body.userId, req.body.userId !== user);\r\n        if (req.body.userId && req.body.userId !== user) {\r\n          throw new ErrorHandler(401, 'invalid user token');\r\n        } else {\r\n          req.user = { id: user };\r\n          next();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      next(error);\r\n    }\r\n  },\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  async verifyTokenAdmin(req, res, next) {\r\n    try {\r\n      if (!req.headers.token && !req.headers.authorization) {\r\n        throw new ErrorHandler(401, 'Token is not provided');\r\n      }\r\n      if (req.headers.token) {\r\n        const token = await req.headers.token;\r\n        const secretWord = process.env.secret;\r\n        const decoded = await jwt.verify(token, secretWord);\r\n        const user = decoded.userId;\r\n        const text =\r\n          'SELECT * FROM sys_users WHERE id = $1 and is_superuser = $2';\r\n        const { rows } = await db.query(text, [user, 'True']);\r\n        if (!rows[0]) {\r\n          throw new ErrorHandler(401, 'Only Admin can create system users');\r\n        }\r\n        if (req.body.userId && req.body.userId !== user) {\r\n          throw new ErrorHandler(401, 'invalid user token');\r\n        }\r\n        req.user = { id: user };\r\n        next();\r\n      } else if (req.headers.authorization) {\r\n        const token = req.headers.authorization.split(' ')[1];\r\n        const secretWord = process.env.secret;\r\n        const decoded = await jwt.verify(token, secretWord);\r\n        const user = decoded.userId;\r\n        debug(decoded);\r\n        debug(user);\r\n        const text =\r\n          'SELECT * FROM sys_users WHERE id = $1 and is_superuser = $2';\r\n        const { rows } = await db.query(text, [user, 'True']);\r\n        if (!rows[0]) {\r\n          throw new ErrorHandler(401, 'Only Admin can create system users');\r\n        }\r\n        if (req.body.userId && req.body.userId !== user) {\r\n          throw new ErrorHandler(401, 'invalid user token');\r\n        }\r\n        req.user = { id: user };\r\n        next();\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      next(error);\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = Auth;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cda3066d4b8e4649510a7c6fb4f7cb9d12fe5902","contentHash":"afd0c77f16b4abf62821c3696dbc5b4e347d10feea22637a0bf9e8f12cf59be7"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\db\\index.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\db\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":28}},"2":{"start":{"line":6,"column":11},"end":{"line":6,"column":24}},"3":{"start":{"line":8,"column":11},"end":{"line":10,"column":2}},"4":{"start":{"line":11,"column":0},"end":{"line":21,"column":2}},"5":{"start":{"line":13,"column":4},"end":{"line":19,"column":7}},"6":{"start":{"line":14,"column":6},"end":{"line":18,"column":9}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":20}}},"fnMap":{"0":{"name":"query","decl":{"start":{"line":12,"column":18},"end":{"line":12,"column":23}},"loc":{"start":{"line":12,"column":38},"end":{"line":20,"column":3}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":24}},"loc":{"start":{"line":13,"column":50},"end":{"line":19,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":36},"end":{"line":14,"column":37}},"loc":{"start":{"line":14,"column":51},"end":{"line":16,"column":7}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":18},"end":{"line":16,"column":19}},"loc":{"start":{"line":16,"column":33},"end":{"line":18,"column":7}},"line":16}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":126,"6":126,"7":126,"8":0},"f":{"0":126,"1":126,"2":126,"3":0},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","config","Pool","pool","connectionString","process","env","database","module","exports","query","text","params","Promise","resolve","reject","then","res","err"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;eACiBD,OAAO,CAAC,IAAD,C;IAAhBE,I,YAAAA,I;;AAER,IAAMC,IAAI,GAAG,IAAID,IAAJ,CAAS;AACpBE,EAAAA,gBAAgB,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADV,CAAT,CAAb;AAIAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KADe,iBACTC,IADS,EACHC,MADG,EACK;AAClB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCZ,MAAAA,IAAI,CACDO,KADH,CACSC,IADT,EACeC,MADf,EAEGI,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXH,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD,OAJH,WAKS,UAAAC,GAAG,EAAI;AACZH,QAAAA,MAAM,CAACG,GAAD,CAAN;AACD,OAPH;AAQD,KATM,CAAP;AAUD;AAZc,CAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\db","sourcesContent":["require('dotenv').config();\r\nconst { Pool } = require('pg');\r\n\r\nconst pool = new Pool({\r\n  connectionString: process.env.database\r\n});\r\n\r\nmodule.exports = {\r\n  query(text, params) {\r\n    return new Promise((resolve, reject) => {\r\n      pool\r\n        .query(text, params)\r\n        .then(res => {\r\n          resolve(res);\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"63714ae114eef14383dd8d04659a97b6d2f35ee2","contentHash":"51179d06c9d216a97ccab2b110c01d0d4ca0acc12c02383447e4d4f35226e3b5"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\error.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\error.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":23},"end":{"line":5,"column":95}},"2":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"3":{"start":{"line":9,"column":23},"end":{"line":9,"column":95}},"4":{"start":{"line":11,"column":17},"end":{"line":11,"column":83}},"5":{"start":{"line":13,"column":24},"end":{"line":13,"column":97}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":58}},"7":{"start":{"line":19,"column":0},"end":{"line":33,"column":43}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":51}},"9":{"start":{"line":25,"column":4},"end":{"line":25,"column":57}},"10":{"start":{"line":26,"column":4},"end":{"line":26,"column":121}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":34}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":28}},"13":{"start":{"line":29,"column":4},"end":{"line":29,"column":17}},"14":{"start":{"line":32,"column":2},"end":{"line":32,"column":22}},"15":{"start":{"line":35,"column":18},"end":{"line":52,"column":1}},"16":{"start":{"line":36,"column":19},"end":{"line":36,"column":33}},"17":{"start":{"line":37,"column":16},"end":{"line":37,"column":27}},"18":{"start":{"line":39,"column":2},"end":{"line":51,"column":3}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":34}},"20":{"start":{"line":41,"column":4},"end":{"line":44,"column":7}},"21":{"start":{"line":46,"column":4},"end":{"line":46,"column":34}},"22":{"start":{"line":47,"column":4},"end":{"line":50,"column":7}},"23":{"start":{"line":54,"column":0},"end":{"line":57,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":19,"column":0},"end":{"line":19,"column":1}},"loc":{"start":{"line":19,"column":18},"end":{"line":33,"column":1}},"line":19},"1":{"name":"ErrorHandler","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":23}},"loc":{"start":{"line":22,"column":45},"end":{"line":30,"column":3}},"line":22},"2":{"name":"handleError","decl":{"start":{"line":35,"column":27},"end":{"line":35,"column":38}},"loc":{"start":{"line":35,"column":49},"end":{"line":52,"column":1}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":39,"column":2},"end":{"line":51,"column":3}},"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":51,"column":3}},{"start":{"line":39,"column":2},"end":{"line":51,"column":3}}],"line":39},"1":{"loc":{"start":{"line":40,"column":15},"end":{"line":40,"column":32}},"type":"binary-expr","locations":[{"start":{"line":40,"column":15},"end":{"line":40,"column":25}},{"start":{"line":40,"column":29},"end":{"line":40,"column":32}}],"line":40},"2":{"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":32}},"type":"binary-expr","locations":[{"start":{"line":46,"column":15},"end":{"line":46,"column":25}},{"start":{"line":46,"column":29},"end":{"line":46,"column":32}}],"line":46}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":4,"11":4,"12":4,"13":4,"14":1,"15":1,"16":4,"17":4,"18":4,"19":4,"20":4,"21":0,"22":0,"23":1},"f":{"0":1,"1":4,"2":4},"b":{"0":[4,0],"1":[4,0],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["error.js"],"names":["debug","require","ErrorHandler","statusCode","message","Error","handleError","err","res","status","json","error","module","exports"],"mappings":";;;;;;;;;;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiB,4BAAjB,CAAd;;IAEMC,Y;;;;;AACJ,wBAAYC,UAAZ,EAAwBC,OAAxB,EAAiC;AAAA;;AAAA;AAC/B;AACA,UAAKD,UAAL,GAAkBA,UAAlB;AACA,UAAKC,OAAL,GAAeA,OAAf;AAH+B;AAIhC;;;oCALwBC,K;;AAQ3B,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,MACxBL,UADwB,GACAI,GADA,CACxBJ,UADwB;AAAA,MACZC,OADY,GACAG,GADA,CACZH,OADY;;AAEhC,MAAIJ,KAAJ,EAAW;AACTQ,IAAAA,GAAG,CAACC,MAAJ,CAAWN,UAAU,IAAI,GAAzB;AACAK,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,MAAAA,MAAM,EAAE,OADD;AAEPE,MAAAA,KAAK,EAAEP;AAFA,KAAT;AAID,GAND,MAMO;AACLI,IAAAA,GAAG,CAACC,MAAJ,CAAWN,UAAU,IAAI,GAAzB;AACAK,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,MAAAA,MAAM,EAAE,OADD;AAEPE,MAAAA,KAAK,EAAE;AAFA,KAAT;AAID;AACF,CAfD;;AAiBAC,MAAM,CAACC,OAAP,GAAiB;AACfX,EAAAA,YAAY,EAAZA,YADe;AAEfI,EAAAA,WAAW,EAAXA;AAFe,CAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware","sourcesContent":["const debug = require('debug')('teamwork-backend-api:debug');\r\n\r\nclass ErrorHandler extends Error {\r\n  constructor(statusCode, message) {\r\n    super();\r\n    this.statusCode = statusCode;\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nconst handleError = (err, res) => {\r\n  const { statusCode, message } = err;\r\n  if (debug) {\r\n    res.status(statusCode || 500);\r\n    res.json({\r\n      status: 'error',\r\n      error: message\r\n    });\r\n  } else {\r\n    res.status(statusCode || 500);\r\n    res.json({\r\n      status: 'error',\r\n      error: 'An internal error occurred while processing your request'\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  ErrorHandler,\r\n  handleError\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"20fd41c2b8d30da62a5e7eaedeff45bc737bf712","contentHash":"a84eecfc03b7d705879eeeb5081a9963b539bb9df54c6d29abdb428d53ec03ae"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\articles.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\articles.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":32}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":58}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":29}},"5":{"start":{"line":13,"column":11},"end":{"line":13,"column":51}},"6":{"start":{"line":15,"column":15},"end":{"line":15,"column":53}},"7":{"start":{"line":16,"column":19},"end":{"line":16,"column":40}},"8":{"start":{"line":18,"column":13},"end":{"line":18,"column":44}},"9":{"start":{"line":20,"column":9},"end":{"line":20,"column":37}},"10":{"start":{"line":22,"column":0},"end":{"line":62,"column":3}},"11":{"start":{"line":25,"column":2},"end":{"line":61,"column":28}},"12":{"start":{"line":26,"column":4},"end":{"line":60,"column":5}},"13":{"start":{"line":27,"column":6},"end":{"line":59,"column":7}},"14":{"start":{"line":29,"column":10},"end":{"line":29,"column":28}},"15":{"start":{"line":30,"column":10},"end":{"line":30,"column":400}},"16":{"start":{"line":31,"column":10},"end":{"line":31,"column":28}},"17":{"start":{"line":32,"column":10},"end":{"line":32,"column":62}},"18":{"start":{"line":35,"column":10},"end":{"line":35,"column":31}},"19":{"start":{"line":36,"column":10},"end":{"line":36,"column":27}},"20":{"start":{"line":37,"column":10},"end":{"line":37,"column":22}},"21":{"start":{"line":39,"column":10},"end":{"line":45,"column":11}},"22":{"start":{"line":40,"column":12},"end":{"line":40,"column":28}},"23":{"start":{"line":41,"column":12},"end":{"line":44,"column":15}},"24":{"start":{"line":47,"column":10},"end":{"line":47,"column":29}},"25":{"start":{"line":48,"column":10},"end":{"line":48,"column":16}},"26":{"start":{"line":51,"column":10},"end":{"line":51,"column":29}},"27":{"start":{"line":52,"column":10},"end":{"line":52,"column":45}},"28":{"start":{"line":53,"column":10},"end":{"line":53,"column":29}},"29":{"start":{"line":54,"column":10},"end":{"line":54,"column":92}},"30":{"start":{"line":58,"column":10},"end":{"line":58,"column":33}},"31":{"start":{"line":63,"column":0},"end":{"line":120,"column":3}},"32":{"start":{"line":66,"column":2},"end":{"line":119,"column":28}},"33":{"start":{"line":67,"column":4},"end":{"line":118,"column":5}},"34":{"start":{"line":68,"column":6},"end":{"line":117,"column":7}},"35":{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},"36":{"start":{"line":71,"column":12},"end":{"line":71,"column":32}},"37":{"start":{"line":72,"column":12},"end":{"line":72,"column":18}},"38":{"start":{"line":75,"column":10},"end":{"line":75,"column":39}},"39":{"start":{"line":76,"column":10},"end":{"line":76,"column":29}},"40":{"start":{"line":77,"column":10},"end":{"line":77,"column":58}},"41":{"start":{"line":78,"column":10},"end":{"line":78,"column":427}},"42":{"start":{"line":79,"column":10},"end":{"line":79,"column":29}},"43":{"start":{"line":80,"column":10},"end":{"line":80,"column":69}},"44":{"start":{"line":83,"column":10},"end":{"line":83,"column":33}},"45":{"start":{"line":84,"column":10},"end":{"line":84,"column":28}},"46":{"start":{"line":85,"column":10},"end":{"line":85,"column":22}},"47":{"start":{"line":87,"column":10},"end":{"line":93,"column":11}},"48":{"start":{"line":88,"column":12},"end":{"line":88,"column":28}},"49":{"start":{"line":89,"column":12},"end":{"line":92,"column":15}},"50":{"start":{"line":95,"column":10},"end":{"line":95,"column":30}},"51":{"start":{"line":96,"column":10},"end":{"line":96,"column":16}},"52":{"start":{"line":99,"column":10},"end":{"line":99,"column":30}},"53":{"start":{"line":100,"column":10},"end":{"line":100,"column":47}},"54":{"start":{"line":101,"column":10},"end":{"line":101,"column":30}},"55":{"start":{"line":102,"column":10},"end":{"line":102,"column":92}},"56":{"start":{"line":105,"column":10},"end":{"line":105,"column":30}},"57":{"start":{"line":106,"column":10},"end":{"line":106,"column":16}},"58":{"start":{"line":109,"column":10},"end":{"line":112,"column":14}},"59":{"start":{"line":116,"column":10},"end":{"line":116,"column":34}},"60":{"start":{"line":122,"column":0},"end":{"line":201,"column":3}},"61":{"start":{"line":125,"column":2},"end":{"line":200,"column":28}},"62":{"start":{"line":126,"column":4},"end":{"line":199,"column":5}},"63":{"start":{"line":127,"column":6},"end":{"line":198,"column":7}},"64":{"start":{"line":129,"column":10},"end":{"line":132,"column":11}},"65":{"start":{"line":130,"column":12},"end":{"line":130,"column":31}},"66":{"start":{"line":131,"column":12},"end":{"line":131,"column":18}},"67":{"start":{"line":134,"column":10},"end":{"line":137,"column":14}},"68":{"start":{"line":140,"column":10},"end":{"line":140,"column":29}},"69":{"start":{"line":142,"column":10},"end":{"line":145,"column":11}},"70":{"start":{"line":143,"column":12},"end":{"line":143,"column":31}},"71":{"start":{"line":144,"column":12},"end":{"line":144,"column":18}},"72":{"start":{"line":147,"column":10},"end":{"line":150,"column":14}},"73":{"start":{"line":153,"column":10},"end":{"line":153,"column":59}},"74":{"start":{"line":154,"column":10},"end":{"line":154,"column":54}},"75":{"start":{"line":155,"column":10},"end":{"line":155,"column":53}},"76":{"start":{"line":156,"column":10},"end":{"line":156,"column":111}},"77":{"start":{"line":157,"column":10},"end":{"line":157,"column":30}},"78":{"start":{"line":158,"column":10},"end":{"line":158,"column":125}},"79":{"start":{"line":161,"column":10},"end":{"line":161,"column":33}},"80":{"start":{"line":162,"column":10},"end":{"line":162,"column":28}},"81":{"start":{"line":164,"column":10},"end":{"line":167,"column":11}},"82":{"start":{"line":165,"column":12},"end":{"line":165,"column":32}},"83":{"start":{"line":166,"column":12},"end":{"line":166,"column":18}},"84":{"start":{"line":169,"column":10},"end":{"line":172,"column":14}},"85":{"start":{"line":175,"column":10},"end":{"line":175,"column":26}},"86":{"start":{"line":176,"column":10},"end":{"line":185,"column":13}},"87":{"start":{"line":186,"column":10},"end":{"line":186,"column":30}},"88":{"start":{"line":187,"column":10},"end":{"line":187,"column":16}},"89":{"start":{"line":190,"column":10},"end":{"line":190,"column":30}},"90":{"start":{"line":191,"column":10},"end":{"line":191,"column":47}},"91":{"start":{"line":192,"column":10},"end":{"line":192,"column":30}},"92":{"start":{"line":193,"column":10},"end":{"line":193,"column":92}},"93":{"start":{"line":197,"column":10},"end":{"line":197,"column":34}},"94":{"start":{"line":202,"column":0},"end":{"line":296,"column":3}},"95":{"start":{"line":205,"column":2},"end":{"line":295,"column":28}},"96":{"start":{"line":206,"column":4},"end":{"line":294,"column":5}},"97":{"start":{"line":207,"column":6},"end":{"line":293,"column":7}},"98":{"start":{"line":209,"column":10},"end":{"line":212,"column":11}},"99":{"start":{"line":210,"column":12},"end":{"line":210,"column":32}},"100":{"start":{"line":211,"column":12},"end":{"line":211,"column":18}},"101":{"start":{"line":214,"column":10},"end":{"line":214,"column":29}},"102":{"start":{"line":215,"column":10},"end":{"line":215,"column":51}},"103":{"start":{"line":217,"column":10},"end":{"line":220,"column":11}},"104":{"start":{"line":218,"column":12},"end":{"line":218,"column":32}},"105":{"start":{"line":219,"column":12},"end":{"line":219,"column":18}},"106":{"start":{"line":222,"column":10},"end":{"line":222,"column":53}},"107":{"start":{"line":223,"column":10},"end":{"line":223,"column":29}},"108":{"start":{"line":224,"column":10},"end":{"line":224,"column":75}},"109":{"start":{"line":227,"column":10},"end":{"line":227,"column":33}},"110":{"start":{"line":228,"column":10},"end":{"line":228,"column":28}},"111":{"start":{"line":230,"column":10},"end":{"line":233,"column":11}},"112":{"start":{"line":231,"column":12},"end":{"line":231,"column":32}},"113":{"start":{"line":232,"column":12},"end":{"line":232,"column":18}},"114":{"start":{"line":235,"column":10},"end":{"line":238,"column":14}},"115":{"start":{"line":241,"column":10},"end":{"line":241,"column":145}},"116":{"start":{"line":242,"column":10},"end":{"line":242,"column":30}},"117":{"start":{"line":243,"column":10},"end":{"line":243,"column":76}},"118":{"start":{"line":246,"column":10},"end":{"line":246,"column":36}},"119":{"start":{"line":247,"column":10},"end":{"line":247,"column":26}},"120":{"start":{"line":248,"column":10},"end":{"line":260,"column":13}},"121":{"start":{"line":261,"column":10},"end":{"line":261,"column":30}},"122":{"start":{"line":262,"column":10},"end":{"line":262,"column":16}},"123":{"start":{"line":265,"column":10},"end":{"line":268,"column":14}},"124":{"start":{"line":271,"column":10},"end":{"line":271,"column":30}},"125":{"start":{"line":272,"column":10},"end":{"line":272,"column":16}},"126":{"start":{"line":275,"column":10},"end":{"line":275,"column":30}},"127":{"start":{"line":276,"column":10},"end":{"line":276,"column":47}},"128":{"start":{"line":277,"column":10},"end":{"line":277,"column":30}},"129":{"start":{"line":278,"column":10},"end":{"line":278,"column":92}},"130":{"start":{"line":281,"column":10},"end":{"line":281,"column":30}},"131":{"start":{"line":282,"column":10},"end":{"line":282,"column":16}},"132":{"start":{"line":285,"column":10},"end":{"line":288,"column":14}},"133":{"start":{"line":292,"column":10},"end":{"line":292,"column":34}},"134":{"start":{"line":297,"column":0},"end":{"line":472,"column":3}},"135":{"start":{"line":300,"column":2},"end":{"line":471,"column":28}},"136":{"start":{"line":301,"column":4},"end":{"line":470,"column":5}},"137":{"start":{"line":302,"column":6},"end":{"line":469,"column":7}},"138":{"start":{"line":304,"column":10},"end":{"line":307,"column":11}},"139":{"start":{"line":305,"column":12},"end":{"line":305,"column":32}},"140":{"start":{"line":306,"column":12},"end":{"line":306,"column":18}},"141":{"start":{"line":309,"column":10},"end":{"line":309,"column":29}},"142":{"start":{"line":310,"column":10},"end":{"line":310,"column":51}},"143":{"start":{"line":312,"column":10},"end":{"line":315,"column":11}},"144":{"start":{"line":313,"column":12},"end":{"line":313,"column":32}},"145":{"start":{"line":314,"column":12},"end":{"line":314,"column":18}},"146":{"start":{"line":317,"column":10},"end":{"line":317,"column":53}},"147":{"start":{"line":318,"column":10},"end":{"line":318,"column":29}},"148":{"start":{"line":319,"column":10},"end":{"line":319,"column":75}},"149":{"start":{"line":322,"column":10},"end":{"line":322,"column":33}},"150":{"start":{"line":323,"column":10},"end":{"line":323,"column":28}},"151":{"start":{"line":325,"column":10},"end":{"line":328,"column":11}},"152":{"start":{"line":326,"column":12},"end":{"line":326,"column":32}},"153":{"start":{"line":327,"column":12},"end":{"line":327,"column":18}},"154":{"start":{"line":330,"column":10},"end":{"line":333,"column":14}},"155":{"start":{"line":336,"column":10},"end":{"line":339,"column":11}},"156":{"start":{"line":337,"column":12},"end":{"line":337,"column":32}},"157":{"start":{"line":338,"column":12},"end":{"line":338,"column":18}},"158":{"start":{"line":341,"column":10},"end":{"line":341,"column":64}},"159":{"start":{"line":342,"column":10},"end":{"line":342,"column":30}},"160":{"start":{"line":343,"column":10},"end":{"line":343,"column":77}},"161":{"start":{"line":346,"column":10},"end":{"line":346,"column":42}},"162":{"start":{"line":348,"column":10},"end":{"line":351,"column":11}},"163":{"start":{"line":349,"column":12},"end":{"line":349,"column":32}},"164":{"start":{"line":350,"column":12},"end":{"line":350,"column":18}},"165":{"start":{"line":353,"column":10},"end":{"line":356,"column":14}},"166":{"start":{"line":359,"column":10},"end":{"line":359,"column":26}},"167":{"start":{"line":360,"column":10},"end":{"line":366,"column":13}},"168":{"start":{"line":367,"column":10},"end":{"line":367,"column":30}},"169":{"start":{"line":368,"column":10},"end":{"line":368,"column":16}},"170":{"start":{"line":372,"column":10},"end":{"line":372,"column":79}},"171":{"start":{"line":373,"column":10},"end":{"line":373,"column":30}},"172":{"start":{"line":374,"column":10},"end":{"line":374,"column":86}},"173":{"start":{"line":377,"column":10},"end":{"line":377,"column":33}},"174":{"start":{"line":379,"column":10},"end":{"line":382,"column":11}},"175":{"start":{"line":380,"column":12},"end":{"line":380,"column":32}},"176":{"start":{"line":381,"column":12},"end":{"line":381,"column":18}},"177":{"start":{"line":384,"column":10},"end":{"line":387,"column":14}},"178":{"start":{"line":390,"column":10},"end":{"line":390,"column":78}},"179":{"start":{"line":391,"column":10},"end":{"line":391,"column":30}},"180":{"start":{"line":392,"column":10},"end":{"line":392,"column":84}},"181":{"start":{"line":395,"column":10},"end":{"line":395,"column":35}},"182":{"start":{"line":397,"column":10},"end":{"line":400,"column":11}},"183":{"start":{"line":398,"column":12},"end":{"line":398,"column":32}},"184":{"start":{"line":399,"column":12},"end":{"line":399,"column":18}},"185":{"start":{"line":402,"column":10},"end":{"line":405,"column":14}},"186":{"start":{"line":409,"column":10},"end":{"line":409,"column":65}},"187":{"start":{"line":410,"column":10},"end":{"line":410,"column":30}},"188":{"start":{"line":411,"column":10},"end":{"line":411,"column":78}},"189":{"start":{"line":414,"column":10},"end":{"line":414,"column":36}},"190":{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},"191":{"start":{"line":417,"column":12},"end":{"line":417,"column":32}},"192":{"start":{"line":418,"column":12},"end":{"line":418,"column":18}},"193":{"start":{"line":421,"column":10},"end":{"line":424,"column":14}},"194":{"start":{"line":427,"column":10},"end":{"line":427,"column":26}},"195":{"start":{"line":428,"column":10},"end":{"line":434,"column":13}},"196":{"start":{"line":437,"column":10},"end":{"line":437,"column":30}},"197":{"start":{"line":438,"column":10},"end":{"line":438,"column":16}},"198":{"start":{"line":441,"column":10},"end":{"line":444,"column":14}},"199":{"start":{"line":447,"column":10},"end":{"line":447,"column":30}},"200":{"start":{"line":448,"column":10},"end":{"line":448,"column":16}},"201":{"start":{"line":451,"column":10},"end":{"line":451,"column":30}},"202":{"start":{"line":452,"column":10},"end":{"line":452,"column":47}},"203":{"start":{"line":453,"column":10},"end":{"line":453,"column":30}},"204":{"start":{"line":454,"column":10},"end":{"line":454,"column":92}},"205":{"start":{"line":457,"column":10},"end":{"line":457,"column":30}},"206":{"start":{"line":458,"column":10},"end":{"line":458,"column":16}},"207":{"start":{"line":461,"column":10},"end":{"line":464,"column":14}},"208":{"start":{"line":468,"column":10},"end":{"line":468,"column":34}},"209":{"start":{"line":473,"column":0},"end":{"line":596,"column":3}},"210":{"start":{"line":476,"column":2},"end":{"line":595,"column":28}},"211":{"start":{"line":477,"column":4},"end":{"line":594,"column":5}},"212":{"start":{"line":478,"column":6},"end":{"line":593,"column":7}},"213":{"start":{"line":480,"column":10},"end":{"line":483,"column":11}},"214":{"start":{"line":481,"column":12},"end":{"line":481,"column":32}},"215":{"start":{"line":482,"column":12},"end":{"line":482,"column":18}},"216":{"start":{"line":485,"column":10},"end":{"line":488,"column":11}},"217":{"start":{"line":486,"column":12},"end":{"line":486,"column":31}},"218":{"start":{"line":487,"column":12},"end":{"line":487,"column":18}},"219":{"start":{"line":490,"column":10},"end":{"line":493,"column":14}},"220":{"start":{"line":496,"column":10},"end":{"line":496,"column":29}},"221":{"start":{"line":497,"column":10},"end":{"line":497,"column":51}},"222":{"start":{"line":499,"column":10},"end":{"line":502,"column":11}},"223":{"start":{"line":500,"column":12},"end":{"line":500,"column":32}},"224":{"start":{"line":501,"column":12},"end":{"line":501,"column":18}},"225":{"start":{"line":504,"column":10},"end":{"line":504,"column":53}},"226":{"start":{"line":505,"column":10},"end":{"line":505,"column":29}},"227":{"start":{"line":506,"column":10},"end":{"line":506,"column":75}},"228":{"start":{"line":509,"column":10},"end":{"line":509,"column":33}},"229":{"start":{"line":510,"column":10},"end":{"line":510,"column":28}},"230":{"start":{"line":512,"column":10},"end":{"line":515,"column":11}},"231":{"start":{"line":513,"column":12},"end":{"line":513,"column":32}},"232":{"start":{"line":514,"column":12},"end":{"line":514,"column":18}},"233":{"start":{"line":517,"column":10},"end":{"line":520,"column":14}},"234":{"start":{"line":523,"column":10},"end":{"line":526,"column":11}},"235":{"start":{"line":524,"column":12},"end":{"line":524,"column":32}},"236":{"start":{"line":525,"column":12},"end":{"line":525,"column":18}},"237":{"start":{"line":528,"column":10},"end":{"line":528,"column":54}},"238":{"start":{"line":529,"column":10},"end":{"line":529,"column":53}},"239":{"start":{"line":530,"column":10},"end":{"line":530,"column":82}},"240":{"start":{"line":531,"column":10},"end":{"line":531,"column":30}},"241":{"start":{"line":532,"column":10},"end":{"line":532,"column":92}},"242":{"start":{"line":535,"column":10},"end":{"line":535,"column":41}},"243":{"start":{"line":537,"column":10},"end":{"line":540,"column":11}},"244":{"start":{"line":538,"column":12},"end":{"line":538,"column":32}},"245":{"start":{"line":539,"column":12},"end":{"line":539,"column":18}},"246":{"start":{"line":542,"column":10},"end":{"line":545,"column":14}},"247":{"start":{"line":548,"column":10},"end":{"line":548,"column":26}},"248":{"start":{"line":549,"column":10},"end":{"line":558,"column":13}},"249":{"start":{"line":561,"column":10},"end":{"line":561,"column":30}},"250":{"start":{"line":562,"column":10},"end":{"line":562,"column":16}},"251":{"start":{"line":565,"column":10},"end":{"line":568,"column":14}},"252":{"start":{"line":571,"column":10},"end":{"line":571,"column":30}},"253":{"start":{"line":572,"column":10},"end":{"line":572,"column":16}},"254":{"start":{"line":575,"column":10},"end":{"line":575,"column":30}},"255":{"start":{"line":576,"column":10},"end":{"line":576,"column":47}},"256":{"start":{"line":577,"column":10},"end":{"line":577,"column":30}},"257":{"start":{"line":578,"column":10},"end":{"line":578,"column":92}},"258":{"start":{"line":581,"column":10},"end":{"line":581,"column":30}},"259":{"start":{"line":582,"column":10},"end":{"line":582,"column":16}},"260":{"start":{"line":585,"column":10},"end":{"line":588,"column":14}},"261":{"start":{"line":592,"column":10},"end":{"line":592,"column":34}},"262":{"start":{"line":597,"column":0},"end":{"line":730,"column":3}},"263":{"start":{"line":600,"column":2},"end":{"line":729,"column":28}},"264":{"start":{"line":601,"column":4},"end":{"line":728,"column":5}},"265":{"start":{"line":602,"column":6},"end":{"line":727,"column":7}},"266":{"start":{"line":604,"column":10},"end":{"line":604,"column":28}},"267":{"start":{"line":606,"column":10},"end":{"line":609,"column":11}},"268":{"start":{"line":607,"column":12},"end":{"line":607,"column":32}},"269":{"start":{"line":608,"column":12},"end":{"line":608,"column":18}},"270":{"start":{"line":611,"column":10},"end":{"line":611,"column":29}},"271":{"start":{"line":612,"column":10},"end":{"line":612,"column":51}},"272":{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},"273":{"start":{"line":615,"column":12},"end":{"line":615,"column":32}},"274":{"start":{"line":616,"column":12},"end":{"line":616,"column":18}},"275":{"start":{"line":619,"column":10},"end":{"line":619,"column":53}},"276":{"start":{"line":620,"column":10},"end":{"line":620,"column":29}},"277":{"start":{"line":621,"column":10},"end":{"line":621,"column":75}},"278":{"start":{"line":624,"column":10},"end":{"line":624,"column":33}},"279":{"start":{"line":625,"column":10},"end":{"line":625,"column":28}},"280":{"start":{"line":627,"column":10},"end":{"line":630,"column":11}},"281":{"start":{"line":628,"column":12},"end":{"line":628,"column":32}},"282":{"start":{"line":629,"column":12},"end":{"line":629,"column":18}},"283":{"start":{"line":632,"column":10},"end":{"line":635,"column":14}},"284":{"start":{"line":638,"column":10},"end":{"line":638,"column":55}},"285":{"start":{"line":639,"column":10},"end":{"line":639,"column":30}},"286":{"start":{"line":640,"column":10},"end":{"line":640,"column":139}},"287":{"start":{"line":643,"column":10},"end":{"line":643,"column":35}},"288":{"start":{"line":645,"column":10},"end":{"line":648,"column":11}},"289":{"start":{"line":646,"column":12},"end":{"line":646,"column":32}},"290":{"start":{"line":647,"column":12},"end":{"line":647,"column":18}},"291":{"start":{"line":650,"column":10},"end":{"line":650,"column":30}},"292":{"start":{"line":651,"column":10},"end":{"line":651,"column":144}},"293":{"start":{"line":654,"column":10},"end":{"line":654,"column":39}},"294":{"start":{"line":656,"column":10},"end":{"line":659,"column":11}},"295":{"start":{"line":657,"column":12},"end":{"line":657,"column":32}},"296":{"start":{"line":658,"column":12},"end":{"line":658,"column":18}},"297":{"start":{"line":661,"column":10},"end":{"line":664,"column":14}},"298":{"start":{"line":667,"column":10},"end":{"line":667,"column":30}},"299":{"start":{"line":668,"column":10},"end":{"line":668,"column":179}},"300":{"start":{"line":671,"column":10},"end":{"line":671,"column":32}},"301":{"start":{"line":673,"column":10},"end":{"line":676,"column":11}},"302":{"start":{"line":674,"column":12},"end":{"line":674,"column":32}},"303":{"start":{"line":675,"column":12},"end":{"line":675,"column":18}},"304":{"start":{"line":678,"column":10},"end":{"line":681,"column":14}},"305":{"start":{"line":684,"column":10},"end":{"line":684,"column":26}},"306":{"start":{"line":685,"column":10},"end":{"line":694,"column":13}},"307":{"start":{"line":695,"column":10},"end":{"line":695,"column":30}},"308":{"start":{"line":696,"column":10},"end":{"line":696,"column":16}},"309":{"start":{"line":699,"column":10},"end":{"line":702,"column":14}},"310":{"start":{"line":705,"column":10},"end":{"line":705,"column":30}},"311":{"start":{"line":706,"column":10},"end":{"line":706,"column":16}},"312":{"start":{"line":709,"column":10},"end":{"line":709,"column":30}},"313":{"start":{"line":710,"column":10},"end":{"line":710,"column":47}},"314":{"start":{"line":711,"column":10},"end":{"line":711,"column":30}},"315":{"start":{"line":712,"column":10},"end":{"line":712,"column":92}},"316":{"start":{"line":715,"column":10},"end":{"line":715,"column":30}},"317":{"start":{"line":716,"column":10},"end":{"line":716,"column":16}},"318":{"start":{"line":719,"column":10},"end":{"line":722,"column":14}},"319":{"start":{"line":726,"column":10},"end":{"line":726,"column":34}},"320":{"start":{"line":731,"column":0},"end":{"line":839,"column":3}},"321":{"start":{"line":734,"column":2},"end":{"line":838,"column":28}},"322":{"start":{"line":735,"column":4},"end":{"line":837,"column":5}},"323":{"start":{"line":736,"column":6},"end":{"line":836,"column":7}},"324":{"start":{"line":738,"column":10},"end":{"line":738,"column":28}},"325":{"start":{"line":740,"column":10},"end":{"line":743,"column":11}},"326":{"start":{"line":741,"column":12},"end":{"line":741,"column":32}},"327":{"start":{"line":742,"column":12},"end":{"line":742,"column":18}},"328":{"start":{"line":745,"column":10},"end":{"line":745,"column":29}},"329":{"start":{"line":746,"column":10},"end":{"line":746,"column":51}},"330":{"start":{"line":748,"column":10},"end":{"line":751,"column":11}},"331":{"start":{"line":749,"column":12},"end":{"line":749,"column":32}},"332":{"start":{"line":750,"column":12},"end":{"line":750,"column":18}},"333":{"start":{"line":753,"column":10},"end":{"line":753,"column":53}},"334":{"start":{"line":754,"column":10},"end":{"line":754,"column":29}},"335":{"start":{"line":755,"column":10},"end":{"line":755,"column":75}},"336":{"start":{"line":758,"column":10},"end":{"line":758,"column":33}},"337":{"start":{"line":759,"column":10},"end":{"line":759,"column":28}},"338":{"start":{"line":761,"column":10},"end":{"line":764,"column":11}},"339":{"start":{"line":762,"column":12},"end":{"line":762,"column":32}},"340":{"start":{"line":763,"column":12},"end":{"line":763,"column":18}},"341":{"start":{"line":766,"column":10},"end":{"line":769,"column":14}},"342":{"start":{"line":772,"column":10},"end":{"line":772,"column":57}},"343":{"start":{"line":773,"column":10},"end":{"line":773,"column":30}},"344":{"start":{"line":774,"column":10},"end":{"line":774,"column":181}},"345":{"start":{"line":777,"column":10},"end":{"line":777,"column":42}},"346":{"start":{"line":779,"column":10},"end":{"line":782,"column":11}},"347":{"start":{"line":780,"column":12},"end":{"line":780,"column":32}},"348":{"start":{"line":781,"column":12},"end":{"line":781,"column":18}},"349":{"start":{"line":784,"column":10},"end":{"line":787,"column":14}},"350":{"start":{"line":790,"column":10},"end":{"line":790,"column":26}},"351":{"start":{"line":791,"column":10},"end":{"line":803,"column":13}},"352":{"start":{"line":804,"column":10},"end":{"line":804,"column":30}},"353":{"start":{"line":805,"column":10},"end":{"line":805,"column":16}},"354":{"start":{"line":808,"column":10},"end":{"line":811,"column":14}},"355":{"start":{"line":814,"column":10},"end":{"line":814,"column":30}},"356":{"start":{"line":815,"column":10},"end":{"line":815,"column":16}},"357":{"start":{"line":818,"column":10},"end":{"line":818,"column":30}},"358":{"start":{"line":819,"column":10},"end":{"line":819,"column":47}},"359":{"start":{"line":820,"column":10},"end":{"line":820,"column":30}},"360":{"start":{"line":821,"column":10},"end":{"line":821,"column":92}},"361":{"start":{"line":824,"column":10},"end":{"line":824,"column":30}},"362":{"start":{"line":825,"column":10},"end":{"line":825,"column":16}},"363":{"start":{"line":828,"column":10},"end":{"line":831,"column":14}},"364":{"start":{"line":835,"column":10},"end":{"line":835,"column":34}},"365":{"start":{"line":840,"column":0},"end":{"line":840,"column":24}}},"fnMap":{"0":{"name":"_callee","decl":{"start":{"line":22,"column":51},"end":{"line":22,"column":58}},"loc":{"start":{"line":22,"column":69},"end":{"line":62,"column":1}},"line":22},"1":{"name":"_callee$","decl":{"start":{"line":25,"column":48},"end":{"line":25,"column":56}},"loc":{"start":{"line":25,"column":67},"end":{"line":61,"column":3}},"line":25},"2":{"name":"_callee2","decl":{"start":{"line":63,"column":65},"end":{"line":63,"column":73}},"loc":{"start":{"line":63,"column":84},"end":{"line":120,"column":1}},"line":63},"3":{"name":"_callee2$","decl":{"start":{"line":66,"column":48},"end":{"line":66,"column":57}},"loc":{"start":{"line":66,"column":69},"end":{"line":119,"column":3}},"line":66},"4":{"name":"_callee3","decl":{"start":{"line":122,"column":52},"end":{"line":122,"column":60}},"loc":{"start":{"line":122,"column":71},"end":{"line":201,"column":1}},"line":122},"5":{"name":"_callee3$","decl":{"start":{"line":125,"column":48},"end":{"line":125,"column":57}},"loc":{"start":{"line":125,"column":69},"end":{"line":200,"column":3}},"line":125},"6":{"name":"_callee4","decl":{"start":{"line":202,"column":62},"end":{"line":202,"column":70}},"loc":{"start":{"line":202,"column":81},"end":{"line":296,"column":1}},"line":202},"7":{"name":"_callee4$","decl":{"start":{"line":205,"column":48},"end":{"line":205,"column":57}},"loc":{"start":{"line":205,"column":69},"end":{"line":295,"column":3}},"line":205},"8":{"name":"_callee5","decl":{"start":{"line":297,"column":68},"end":{"line":297,"column":76}},"loc":{"start":{"line":297,"column":87},"end":{"line":472,"column":1}},"line":297},"9":{"name":"_callee5$","decl":{"start":{"line":300,"column":48},"end":{"line":300,"column":57}},"loc":{"start":{"line":300,"column":69},"end":{"line":471,"column":3}},"line":300},"10":{"name":"_callee6","decl":{"start":{"line":473,"column":64},"end":{"line":473,"column":72}},"loc":{"start":{"line":473,"column":83},"end":{"line":596,"column":1}},"line":473},"11":{"name":"_callee6$","decl":{"start":{"line":476,"column":48},"end":{"line":476,"column":57}},"loc":{"start":{"line":476,"column":69},"end":{"line":595,"column":3}},"line":476},"12":{"name":"_callee7","decl":{"start":{"line":597,"column":69},"end":{"line":597,"column":77}},"loc":{"start":{"line":597,"column":88},"end":{"line":730,"column":1}},"line":597},"13":{"name":"_callee7$","decl":{"start":{"line":600,"column":48},"end":{"line":600,"column":57}},"loc":{"start":{"line":600,"column":69},"end":{"line":729,"column":3}},"line":600},"14":{"name":"_callee8","decl":{"start":{"line":731,"column":71},"end":{"line":731,"column":79}},"loc":{"start":{"line":731,"column":90},"end":{"line":839,"column":1}},"line":731},"15":{"name":"_callee8$","decl":{"start":{"line":734,"column":48},"end":{"line":734,"column":57}},"loc":{"start":{"line":734,"column":69},"end":{"line":838,"column":3}},"line":734}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":6},"end":{"line":59,"column":7}},"type":"switch","locations":[{"start":{"line":28,"column":8},"end":{"line":32,"column":62}},{"start":{"line":34,"column":8},"end":{"line":48,"column":16}},{"start":{"line":50,"column":8},"end":{"line":54,"column":92}},{"start":{"line":56,"column":8},"end":{"line":56,"column":16}},{"start":{"line":57,"column":8},"end":{"line":58,"column":33}}],"line":27},"1":{"loc":{"start":{"line":39,"column":10},"end":{"line":45,"column":11}},"type":"if","locations":[{"start":{"line":39,"column":10},"end":{"line":45,"column":11}},{"start":{"line":39,"column":10},"end":{"line":45,"column":11}}],"line":39},"2":{"loc":{"start":{"line":68,"column":6},"end":{"line":117,"column":7}},"type":"switch","locations":[{"start":{"line":69,"column":8},"end":{"line":80,"column":69}},{"start":{"line":82,"column":8},"end":{"line":96,"column":16}},{"start":{"line":98,"column":8},"end":{"line":102,"column":92}},{"start":{"line":104,"column":8},"end":{"line":106,"column":16}},{"start":{"line":108,"column":8},"end":{"line":112,"column":14}},{"start":{"line":114,"column":8},"end":{"line":114,"column":16}},{"start":{"line":115,"column":8},"end":{"line":116,"column":34}}],"line":68},"3":{"loc":{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},"type":"if","locations":[{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},{"start":{"line":70,"column":10},"end":{"line":73,"column":11}}],"line":70},"4":{"loc":{"start":{"line":87,"column":10},"end":{"line":93,"column":11}},"type":"if","locations":[{"start":{"line":87,"column":10},"end":{"line":93,"column":11}},{"start":{"line":87,"column":10},"end":{"line":93,"column":11}}],"line":87},"5":{"loc":{"start":{"line":127,"column":6},"end":{"line":198,"column":7}},"type":"switch","locations":[{"start":{"line":128,"column":8},"end":{"line":137,"column":14}},{"start":{"line":139,"column":8},"end":{"line":150,"column":14}},{"start":{"line":152,"column":8},"end":{"line":158,"column":125}},{"start":{"line":160,"column":8},"end":{"line":172,"column":14}},{"start":{"line":174,"column":8},"end":{"line":187,"column":16}},{"start":{"line":189,"column":8},"end":{"line":193,"column":92}},{"start":{"line":195,"column":8},"end":{"line":195,"column":16}},{"start":{"line":196,"column":8},"end":{"line":197,"column":34}}],"line":127},"6":{"loc":{"start":{"line":129,"column":10},"end":{"line":132,"column":11}},"type":"if","locations":[{"start":{"line":129,"column":10},"end":{"line":132,"column":11}},{"start":{"line":129,"column":10},"end":{"line":132,"column":11}}],"line":129},"7":{"loc":{"start":{"line":129,"column":16},"end":{"line":129,"column":72}},"type":"binary-expr","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":31}},{"start":{"line":129,"column":35},"end":{"line":129,"column":52}},{"start":{"line":129,"column":56},"end":{"line":129,"column":72}}],"line":129},"8":{"loc":{"start":{"line":142,"column":10},"end":{"line":145,"column":11}},"type":"if","locations":[{"start":{"line":142,"column":10},"end":{"line":145,"column":11}},{"start":{"line":142,"column":10},"end":{"line":145,"column":11}}],"line":142},"9":{"loc":{"start":{"line":164,"column":10},"end":{"line":167,"column":11}},"type":"if","locations":[{"start":{"line":164,"column":10},"end":{"line":167,"column":11}},{"start":{"line":164,"column":10},"end":{"line":167,"column":11}}],"line":164},"10":{"loc":{"start":{"line":207,"column":6},"end":{"line":293,"column":7}},"type":"switch","locations":[{"start":{"line":208,"column":8},"end":{"line":224,"column":75}},{"start":{"line":226,"column":8},"end":{"line":238,"column":14}},{"start":{"line":240,"column":8},"end":{"line":243,"column":76}},{"start":{"line":245,"column":8},"end":{"line":262,"column":16}},{"start":{"line":264,"column":8},"end":{"line":268,"column":14}},{"start":{"line":270,"column":8},"end":{"line":272,"column":16}},{"start":{"line":274,"column":8},"end":{"line":278,"column":92}},{"start":{"line":280,"column":8},"end":{"line":282,"column":16}},{"start":{"line":284,"column":8},"end":{"line":288,"column":14}},{"start":{"line":290,"column":8},"end":{"line":290,"column":16}},{"start":{"line":291,"column":8},"end":{"line":292,"column":34}}],"line":207},"11":{"loc":{"start":{"line":209,"column":10},"end":{"line":212,"column":11}},"type":"if","locations":[{"start":{"line":209,"column":10},"end":{"line":212,"column":11}},{"start":{"line":209,"column":10},"end":{"line":212,"column":11}}],"line":209},"12":{"loc":{"start":{"line":217,"column":10},"end":{"line":220,"column":11}},"type":"if","locations":[{"start":{"line":217,"column":10},"end":{"line":220,"column":11}},{"start":{"line":217,"column":10},"end":{"line":220,"column":11}}],"line":217},"13":{"loc":{"start":{"line":230,"column":10},"end":{"line":233,"column":11}},"type":"if","locations":[{"start":{"line":230,"column":10},"end":{"line":233,"column":11}},{"start":{"line":230,"column":10},"end":{"line":233,"column":11}}],"line":230},"14":{"loc":{"start":{"line":302,"column":6},"end":{"line":469,"column":7}},"type":"switch","locations":[{"start":{"line":303,"column":8},"end":{"line":319,"column":75}},{"start":{"line":321,"column":8},"end":{"line":333,"column":14}},{"start":{"line":335,"column":8},"end":{"line":343,"column":77}},{"start":{"line":345,"column":8},"end":{"line":356,"column":14}},{"start":{"line":358,"column":8},"end":{"line":368,"column":16}},{"start":{"line":370,"column":8},"end":{"line":374,"column":86}},{"start":{"line":376,"column":8},"end":{"line":387,"column":14}},{"start":{"line":389,"column":8},"end":{"line":392,"column":84}},{"start":{"line":394,"column":8},"end":{"line":405,"column":14}},{"start":{"line":407,"column":8},"end":{"line":411,"column":78}},{"start":{"line":413,"column":8},"end":{"line":424,"column":14}},{"start":{"line":426,"column":8},"end":{"line":434,"column":13}},{"start":{"line":436,"column":8},"end":{"line":438,"column":16}},{"start":{"line":440,"column":8},"end":{"line":444,"column":14}},{"start":{"line":446,"column":8},"end":{"line":448,"column":16}},{"start":{"line":450,"column":8},"end":{"line":454,"column":92}},{"start":{"line":456,"column":8},"end":{"line":458,"column":16}},{"start":{"line":460,"column":8},"end":{"line":464,"column":14}},{"start":{"line":466,"column":8},"end":{"line":466,"column":16}},{"start":{"line":467,"column":8},"end":{"line":468,"column":34}}],"line":302},"15":{"loc":{"start":{"line":304,"column":10},"end":{"line":307,"column":11}},"type":"if","locations":[{"start":{"line":304,"column":10},"end":{"line":307,"column":11}},{"start":{"line":304,"column":10},"end":{"line":307,"column":11}}],"line":304},"16":{"loc":{"start":{"line":312,"column":10},"end":{"line":315,"column":11}},"type":"if","locations":[{"start":{"line":312,"column":10},"end":{"line":315,"column":11}},{"start":{"line":312,"column":10},"end":{"line":315,"column":11}}],"line":312},"17":{"loc":{"start":{"line":325,"column":10},"end":{"line":328,"column":11}},"type":"if","locations":[{"start":{"line":325,"column":10},"end":{"line":328,"column":11}},{"start":{"line":325,"column":10},"end":{"line":328,"column":11}}],"line":325},"18":{"loc":{"start":{"line":336,"column":10},"end":{"line":339,"column":11}},"type":"if","locations":[{"start":{"line":336,"column":10},"end":{"line":339,"column":11}},{"start":{"line":336,"column":10},"end":{"line":339,"column":11}}],"line":336},"19":{"loc":{"start":{"line":348,"column":10},"end":{"line":351,"column":11}},"type":"if","locations":[{"start":{"line":348,"column":10},"end":{"line":351,"column":11}},{"start":{"line":348,"column":10},"end":{"line":351,"column":11}}],"line":348},"20":{"loc":{"start":{"line":379,"column":10},"end":{"line":382,"column":11}},"type":"if","locations":[{"start":{"line":379,"column":10},"end":{"line":382,"column":11}},{"start":{"line":379,"column":10},"end":{"line":382,"column":11}}],"line":379},"21":{"loc":{"start":{"line":397,"column":10},"end":{"line":400,"column":11}},"type":"if","locations":[{"start":{"line":397,"column":10},"end":{"line":400,"column":11}},{"start":{"line":397,"column":10},"end":{"line":400,"column":11}}],"line":397},"22":{"loc":{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},"type":"if","locations":[{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},{"start":{"line":416,"column":10},"end":{"line":419,"column":11}}],"line":416},"23":{"loc":{"start":{"line":478,"column":6},"end":{"line":593,"column":7}},"type":"switch","locations":[{"start":{"line":479,"column":8},"end":{"line":493,"column":14}},{"start":{"line":495,"column":8},"end":{"line":506,"column":75}},{"start":{"line":508,"column":8},"end":{"line":520,"column":14}},{"start":{"line":522,"column":8},"end":{"line":532,"column":92}},{"start":{"line":534,"column":8},"end":{"line":545,"column":14}},{"start":{"line":547,"column":8},"end":{"line":558,"column":13}},{"start":{"line":560,"column":8},"end":{"line":562,"column":16}},{"start":{"line":564,"column":8},"end":{"line":568,"column":14}},{"start":{"line":570,"column":8},"end":{"line":572,"column":16}},{"start":{"line":574,"column":8},"end":{"line":578,"column":92}},{"start":{"line":580,"column":8},"end":{"line":582,"column":16}},{"start":{"line":584,"column":8},"end":{"line":588,"column":14}},{"start":{"line":590,"column":8},"end":{"line":590,"column":16}},{"start":{"line":591,"column":8},"end":{"line":592,"column":34}}],"line":478},"24":{"loc":{"start":{"line":480,"column":10},"end":{"line":483,"column":11}},"type":"if","locations":[{"start":{"line":480,"column":10},"end":{"line":483,"column":11}},{"start":{"line":480,"column":10},"end":{"line":483,"column":11}}],"line":480},"25":{"loc":{"start":{"line":485,"column":10},"end":{"line":488,"column":11}},"type":"if","locations":[{"start":{"line":485,"column":10},"end":{"line":488,"column":11}},{"start":{"line":485,"column":10},"end":{"line":488,"column":11}}],"line":485},"26":{"loc":{"start":{"line":485,"column":16},"end":{"line":485,"column":72}},"type":"binary-expr","locations":[{"start":{"line":485,"column":16},"end":{"line":485,"column":31}},{"start":{"line":485,"column":35},"end":{"line":485,"column":52}},{"start":{"line":485,"column":56},"end":{"line":485,"column":72}}],"line":485},"27":{"loc":{"start":{"line":499,"column":10},"end":{"line":502,"column":11}},"type":"if","locations":[{"start":{"line":499,"column":10},"end":{"line":502,"column":11}},{"start":{"line":499,"column":10},"end":{"line":502,"column":11}}],"line":499},"28":{"loc":{"start":{"line":512,"column":10},"end":{"line":515,"column":11}},"type":"if","locations":[{"start":{"line":512,"column":10},"end":{"line":515,"column":11}},{"start":{"line":512,"column":10},"end":{"line":515,"column":11}}],"line":512},"29":{"loc":{"start":{"line":523,"column":10},"end":{"line":526,"column":11}},"type":"if","locations":[{"start":{"line":523,"column":10},"end":{"line":526,"column":11}},{"start":{"line":523,"column":10},"end":{"line":526,"column":11}}],"line":523},"30":{"loc":{"start":{"line":537,"column":10},"end":{"line":540,"column":11}},"type":"if","locations":[{"start":{"line":537,"column":10},"end":{"line":540,"column":11}},{"start":{"line":537,"column":10},"end":{"line":540,"column":11}}],"line":537},"31":{"loc":{"start":{"line":602,"column":6},"end":{"line":727,"column":7}},"type":"switch","locations":[{"start":{"line":603,"column":8},"end":{"line":621,"column":75}},{"start":{"line":623,"column":8},"end":{"line":635,"column":14}},{"start":{"line":637,"column":8},"end":{"line":640,"column":139}},{"start":{"line":642,"column":8},"end":{"line":651,"column":144}},{"start":{"line":653,"column":8},"end":{"line":664,"column":14}},{"start":{"line":666,"column":8},"end":{"line":668,"column":179}},{"start":{"line":670,"column":8},"end":{"line":681,"column":14}},{"start":{"line":683,"column":8},"end":{"line":696,"column":16}},{"start":{"line":698,"column":8},"end":{"line":702,"column":14}},{"start":{"line":704,"column":8},"end":{"line":706,"column":16}},{"start":{"line":708,"column":8},"end":{"line":712,"column":92}},{"start":{"line":714,"column":8},"end":{"line":716,"column":16}},{"start":{"line":718,"column":8},"end":{"line":722,"column":14}},{"start":{"line":724,"column":8},"end":{"line":724,"column":16}},{"start":{"line":725,"column":8},"end":{"line":726,"column":34}}],"line":602},"32":{"loc":{"start":{"line":606,"column":10},"end":{"line":609,"column":11}},"type":"if","locations":[{"start":{"line":606,"column":10},"end":{"line":609,"column":11}},{"start":{"line":606,"column":10},"end":{"line":609,"column":11}}],"line":606},"33":{"loc":{"start":{"line":606,"column":16},"end":{"line":606,"column":45}},"type":"binary-expr","locations":[{"start":{"line":606,"column":16},"end":{"line":606,"column":26}},{"start":{"line":606,"column":30},"end":{"line":606,"column":45}}],"line":606},"34":{"loc":{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},"type":"if","locations":[{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},{"start":{"line":614,"column":10},"end":{"line":617,"column":11}}],"line":614},"35":{"loc":{"start":{"line":627,"column":10},"end":{"line":630,"column":11}},"type":"if","locations":[{"start":{"line":627,"column":10},"end":{"line":630,"column":11}},{"start":{"line":627,"column":10},"end":{"line":630,"column":11}}],"line":627},"36":{"loc":{"start":{"line":645,"column":10},"end":{"line":648,"column":11}},"type":"if","locations":[{"start":{"line":645,"column":10},"end":{"line":648,"column":11}},{"start":{"line":645,"column":10},"end":{"line":648,"column":11}}],"line":645},"37":{"loc":{"start":{"line":656,"column":10},"end":{"line":659,"column":11}},"type":"if","locations":[{"start":{"line":656,"column":10},"end":{"line":659,"column":11}},{"start":{"line":656,"column":10},"end":{"line":659,"column":11}}],"line":656},"38":{"loc":{"start":{"line":673,"column":10},"end":{"line":676,"column":11}},"type":"if","locations":[{"start":{"line":673,"column":10},"end":{"line":676,"column":11}},{"start":{"line":673,"column":10},"end":{"line":676,"column":11}}],"line":673},"39":{"loc":{"start":{"line":736,"column":6},"end":{"line":836,"column":7}},"type":"switch","locations":[{"start":{"line":737,"column":8},"end":{"line":755,"column":75}},{"start":{"line":757,"column":8},"end":{"line":769,"column":14}},{"start":{"line":771,"column":8},"end":{"line":774,"column":181}},{"start":{"line":776,"column":8},"end":{"line":787,"column":14}},{"start":{"line":789,"column":8},"end":{"line":805,"column":16}},{"start":{"line":807,"column":8},"end":{"line":811,"column":14}},{"start":{"line":813,"column":8},"end":{"line":815,"column":16}},{"start":{"line":817,"column":8},"end":{"line":821,"column":92}},{"start":{"line":823,"column":8},"end":{"line":825,"column":16}},{"start":{"line":827,"column":8},"end":{"line":831,"column":14}},{"start":{"line":833,"column":8},"end":{"line":833,"column":16}},{"start":{"line":834,"column":8},"end":{"line":835,"column":34}}],"line":736},"40":{"loc":{"start":{"line":740,"column":10},"end":{"line":743,"column":11}},"type":"if","locations":[{"start":{"line":740,"column":10},"end":{"line":743,"column":11}},{"start":{"line":740,"column":10},"end":{"line":743,"column":11}}],"line":740},"41":{"loc":{"start":{"line":740,"column":16},"end":{"line":740,"column":46}},"type":"binary-expr","locations":[{"start":{"line":740,"column":16},"end":{"line":740,"column":26}},{"start":{"line":740,"column":30},"end":{"line":740,"column":46}}],"line":740},"42":{"loc":{"start":{"line":748,"column":10},"end":{"line":751,"column":11}},"type":"if","locations":[{"start":{"line":748,"column":10},"end":{"line":751,"column":11}},{"start":{"line":748,"column":10},"end":{"line":751,"column":11}}],"line":748},"43":{"loc":{"start":{"line":761,"column":10},"end":{"line":764,"column":11}},"type":"if","locations":[{"start":{"line":761,"column":10},"end":{"line":764,"column":11}},{"start":{"line":761,"column":10},"end":{"line":764,"column":11}}],"line":761},"44":{"loc":{"start":{"line":779,"column":10},"end":{"line":782,"column":11}},"type":"if","locations":[{"start":{"line":779,"column":10},"end":{"line":782,"column":11}},{"start":{"line":779,"column":10},"end":{"line":782,"column":11}}],"line":779}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1,"33":2,"34":4,"35":1,"36":0,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":0,"53":0,"54":0,"55":0,"56":1,"57":1,"58":0,"59":1,"60":1,"61":7,"62":14,"63":38,"64":7,"65":6,"66":6,"67":1,"68":6,"69":6,"70":6,"71":6,"72":0,"73":6,"74":6,"75":6,"76":6,"77":6,"78":6,"79":6,"80":6,"81":6,"82":6,"83":6,"84":0,"85":6,"86":6,"87":6,"88":6,"89":0,"90":0,"91":0,"92":0,"93":7,"94":1,"95":1,"96":3,"97":7,"98":1,"99":0,"100":0,"101":1,"102":1,"103":1,"104":0,"105":0,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":0,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":0,"124":1,"125":1,"126":0,"127":0,"128":0,"129":0,"130":1,"131":1,"132":0,"133":1,"134":1,"135":1,"136":3,"137":9,"138":1,"139":0,"140":0,"141":1,"142":1,"143":1,"144":0,"145":0,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":0,"155":1,"156":0,"157":0,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":0,"166":1,"167":1,"168":1,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":1,"197":1,"198":0,"199":1,"200":1,"201":0,"202":0,"203":0,"204":0,"205":1,"206":1,"207":0,"208":1,"209":1,"210":1,"211":3,"212":9,"213":1,"214":0,"215":0,"216":1,"217":1,"218":1,"219":0,"220":1,"221":1,"222":1,"223":0,"224":0,"225":1,"226":1,"227":1,"228":1,"229":1,"230":1,"231":1,"232":1,"233":0,"234":1,"235":0,"236":0,"237":1,"238":1,"239":1,"240":1,"241":1,"242":1,"243":1,"244":1,"245":1,"246":0,"247":1,"248":1,"249":1,"250":1,"251":0,"252":1,"253":1,"254":0,"255":0,"256":0,"257":0,"258":1,"259":1,"260":0,"261":1,"262":1,"263":1,"264":5,"265":11,"266":1,"267":1,"268":0,"269":0,"270":1,"271":1,"272":1,"273":0,"274":0,"275":1,"276":1,"277":1,"278":1,"279":1,"280":1,"281":1,"282":1,"283":0,"284":1,"285":1,"286":1,"287":1,"288":1,"289":0,"290":0,"291":1,"292":1,"293":1,"294":1,"295":1,"296":1,"297":0,"298":1,"299":1,"300":1,"301":1,"302":1,"303":1,"304":0,"305":1,"306":1,"307":1,"308":1,"309":0,"310":1,"311":1,"312":0,"313":0,"314":0,"315":0,"316":1,"317":1,"318":0,"319":1,"320":1,"321":1,"322":3,"323":8,"324":1,"325":1,"326":0,"327":0,"328":1,"329":1,"330":1,"331":0,"332":0,"333":1,"334":1,"335":1,"336":1,"337":1,"338":1,"339":1,"340":1,"341":0,"342":1,"343":1,"344":1,"345":1,"346":1,"347":1,"348":1,"349":0,"350":1,"351":1,"352":1,"353":1,"354":0,"355":1,"356":1,"357":0,"358":0,"359":0,"360":0,"361":1,"362":1,"363":0,"364":1,"365":1},"f":{"0":0,"1":0,"2":1,"3":2,"4":7,"5":14,"6":1,"7":3,"8":1,"9":3,"10":1,"11":3,"12":1,"13":5,"14":1,"15":3},"b":{"0":[0,0,0,0,0],"1":[0,0],"2":[1,1,0,1,0,1,1],"3":[0,1],"4":[1,0],"5":[7,6,6,6,6,0,6,7],"6":[6,1],"7":[7,6,6],"8":[6,0],"9":[6,0],"10":[1,1,1,1,0,1,0,1,0,1,1],"11":[0,1],"12":[0,1],"13":[1,0],"14":[1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1],"15":[0,1],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[1,1,1,1,1,1,1,0,1,0,1,0,1,1],"24":[0,1],"25":[1,0],"26":[1,1,1],"27":[0,1],"28":[1,0],"29":[0,1],"30":[1,0],"31":[1,1,1,1,1,1,1,1,0,1,0,1,0,1,1],"32":[0,1],"33":[1,1],"34":[0,1],"35":[1,0],"36":[0,1],"37":[1,0],"38":[1,0],"39":[1,1,1,1,1,0,1,0,1,0,1,1],"40":[0,1],"41":[1,1],"42":[0,1],"43":[1,0],"44":[1,0]},"inputSourceMap":{"version":3,"sources":["articles.js"],"names":["express","require","debug","router","Router","Auth","ErrorHandler","Helper","db","get","verifyToken","req","res","sql","query","rows","status","json","data","params","tag","trim","toTitleCase","message","post","body","title","article","userId","error","parseInt","user","id","category","text","createdOn","posted_date","articleId","user_id","Number","isInteger","sql2","comments","url","gifurl","delG","deletedArticle","admin","sql3","flagged","delG2","dArticle","patch","update","updateArticle","authorId","reason","articleFlag","flag","flagId","comment","articleComment","comment_date","articleTitle","author","commentedBy","module","exports"],"mappings":"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","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\n\r\nconst router = express.Router();\r\nconst Auth = require('../../auth/middleware/auth.js');\r\nconst { ErrorHandler } = require('../../auth/middleware/error');\r\nconst Helper = require('../../auth/helper.js');\r\nconst db = require('../../db/index.js');\r\n\r\nrouter.get('/articles', Auth.verifyToken, async (req, res) => {\r\n  try {\r\n    const sql =\r\n      'SELECT articles.id as id, articles.category as category, articles.title as title, articles.text as article,  articles.posted_date as createdOn, articles.article_flagged as flagged, articles.user_id AS authorId,count(articles_comments.id) as comments FROM articles LEFT JOIN articles_comments ON articles.id = articles_comments.article GROUP BY articles.id ORDER BY posted_date DESC';\r\n    const { rows } = await db.query(sql);\r\n    debug(rows);\r\n    if (rows) {\r\n      res.status(200);\r\n      res.json({\r\n        status: 'success',\r\n        data: rows\r\n      });\r\n    }\r\n  } catch (error) {\r\n    debug(error);\r\n    throw new ErrorHandler(\r\n      500,\r\n      'something went wrong while processing your request'\r\n    );\r\n  }\r\n});\r\n\r\nrouter.get('/articles/category/:tag', Auth.verifyToken, async (req, res) => {\r\n  if (req.params) {\r\n    debug(req.params.tag.trim());\r\n    try {\r\n      const tag = Helper.toTitleCase(req.params.tag.trim());\r\n      const sql =\r\n        'SELECT articles.id as id, articles.category as category, articles.title as title, articles.text as article,  articles.posted_date as createdOn, articles.article_flagged as flagged, articles.user_id AS authorId,count(articles_comments.id) as comments FROM articles LEFT JOIN articles_comments ON articles.id = articles_comments.article where articles.category=$1 GROUP BY articles.id ORDER BY posted_date DESC';\r\n      const { rows } = await db.query(sql, [tag]);\r\n      debug(rows);\r\n      if (rows) {\r\n        res.status(200);\r\n        res.json({\r\n          status: 'success',\r\n          data: rows\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\n// eslint-disable-next-line consistent-return\r\nrouter.post('/articles', Auth.verifyToken, async (req, res) => {\r\n  if (!req.body.title || !req.body.article || !req.body.userId) {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      error: 'Incomplete request'\r\n    });\r\n  }\r\n  try {\r\n    /* check if authenticated(token) user is same as the user in request body */\r\n    // eslint-disable-next-line radix\r\n    if (parseInt(req.user.id) !== parseInt(req.body.userId)) {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'Invalid user'\r\n      });\r\n    }\r\n    const category = Helper.toTitleCase(req.body.category);\r\n    const text = Helper.toTitleCase(req.body.article);\r\n    const title = Helper.toTitleCase(req.body.title);\r\n    const article =\r\n      'INSERT INTO articles(category, title, text, user_id) VALUES ($1, $2, $3, $4) returning *';\r\n    const { rows } = await db.query(article, [\r\n      category.trim(),\r\n      title.trim(),\r\n      text.trim(),\r\n      req.user.id\r\n    ]);\r\n    if (!rows[0]) {\r\n      return res.status(500).json({\r\n        status: 'error',\r\n        error: 'something went wrong while saving your request'\r\n      });\r\n    }\r\n    res.status(201);\r\n    res.json({\r\n      status: 'success',\r\n      data: {\r\n        message: 'Article successfully posted',\r\n        createdOn: rows[0].posted_date,\r\n        title: rows[0].title,\r\n        articleId: rows[0].id,\r\n        userId: rows[0].user_id\r\n      }\r\n    });\r\n  } catch (error) {\r\n    debug(error);\r\n    throw new ErrorHandler(\r\n      500,\r\n      'something went wrong while processing your request'\r\n    );\r\n  }\r\n});\r\n\r\nrouter.get('/articles/:articleId', Auth.verifyToken, async (req, res) => {\r\n  if (req.params) {\r\n    try {\r\n      const articleId = Number(req.params.articleId);\r\n      if (Number.isInteger(articleId)) {\r\n        const sql = 'Select * from articles where id=$1';\r\n        const { rows } = await db.query(sql, [articleId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Article not found'\r\n          });\r\n        }\r\n        const sql2 =\r\n          'select id as commentId,user_id as authorId,text as comment from articles_comments where article=$1 ORDER BY comment_date desc';\r\n        const comments = await db.query(sql2, [articleId]);\r\n        res.status(200);\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            id: rows[0].id,\r\n            createdOn: rows[0].posted_date,\r\n            category: rows[0].category,\r\n            title: rows[0].title,\r\n            article: rows[0].text,\r\n            url: rows[0].gifurl,\r\n            userId: rows[0].user_id,\r\n            comments: comments.rows\r\n          }\r\n        });\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.delete('/articles/:articleId', Auth.verifyToken, async (req, res) => {\r\n  if (req.params) {\r\n    try {\r\n      const articleId = Number(req.params.articleId);\r\n      if (Number.isInteger(articleId)) {\r\n        const sql = 'Select * from articles where id=$1';\r\n        const { rows } = await db.query(sql, [articleId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Article not found'\r\n          });\r\n        }\r\n        if (req.user.id === rows[0].user_id) {\r\n          const delG = 'Delete from articles where id=$1 RETURNING *';\r\n          const deletedArticle = await db.query(delG, [rows[0].id]);\r\n          if (!deletedArticle.rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Article not found'\r\n            });\r\n          }\r\n          res.status(200);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'Article successfully deleted',\r\n              articleId: deletedArticle.rows[0].id\r\n            }\r\n          });\r\n        } else {\r\n          /* check if user is admin and Article has been flagged as inappropriate */\r\n          const sql2 =\r\n            'SELECT * FROM sys_users WHERE id = $1 and is_superuser = $2';\r\n          const admin = await db.query(sql2, [req.user.id, 'True']);\r\n          if (!admin.rows[0]) {\r\n            return res.status(401).json({\r\n              status: 'error',\r\n              message: 'You are not allowed to do this'\r\n            });\r\n          }\r\n          const sql3 =\r\n            'Select * from articles where id=$1 and article_flagged =$2';\r\n          const flagged = await db.query(sql3, [articleId, 'True']);\r\n          if (!flagged.rows[0]) {\r\n            return res.status(401).json({\r\n              status: 'error',\r\n              message: 'You are not allowed to do this'\r\n            });\r\n          }\r\n          /* admin can now delete flagged articles- inappropriate */\r\n          const delG2 = 'Delete from articles where id=$1 RETURNING *';\r\n          const dArticle = await db.query(delG2, [rows[0].id]);\r\n          if (!dArticle.rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Article not found'\r\n            });\r\n          }\r\n          res.status(200);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'Article flagged inappropriate successfully deleted',\r\n              articleId: dArticle.rows[0].id\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.patch('/articles/:articleId', Auth.verifyToken, async (req, res) => {\r\n  if (req.params) {\r\n    if (!req.body.title || !req.body.article || !req.body.userId) {\r\n      return res.status(400).json({\r\n        status: 'error',\r\n        error: 'Incomplete request'\r\n      });\r\n    }\r\n    try {\r\n      const articleId = Number(req.params.articleId);\r\n      if (Number.isInteger(articleId)) {\r\n        const sql = 'Select * from articles where id=$1';\r\n        const { rows } = await db.query(sql, [articleId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Article not found'\r\n          });\r\n        }\r\n        if (req.user.id === rows[0].user_id) {\r\n          const text = Helper.toTitleCase(req.body.article);\r\n          const title = Helper.toTitleCase(req.body.title);\r\n          const update =\r\n            'Update articles set title=$1,text=$2 where id=$3 RETURNING *';\r\n          const updateArticle = await db.query(update, [\r\n            title,\r\n            text,\r\n            rows[0].id\r\n          ]);\r\n          if (!updateArticle.rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Article with that Id not found'\r\n            });\r\n          }\r\n          res.status(201);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'Article successfully updated',\r\n              articleId: updateArticle.rows[0].id,\r\n              title: updateArticle.rows[0].title,\r\n              article: updateArticle.rows[0].text,\r\n              authorId: updateArticle.rows[0].user_id\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.patch(\r\n  '/articles/:articleId/flag',\r\n  Auth.verifyToken,\r\n  async (req, res) => {\r\n    debug(req.params);\r\n    if (req.params && req.body.reason) {\r\n      try {\r\n        const articleId = Number(req.params.articleId);\r\n        if (Number.isInteger(articleId)) {\r\n          const sql = 'Select * from articles where id=$1';\r\n          const { rows } = await db.query(sql, [articleId]);\r\n          if (!rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Article not found'\r\n            });\r\n          }\r\n          const reason = Helper.toTitleCase(req.body.reason);\r\n          const flagged = await db.query(\r\n            'Select * from articles where article_flagged=$1 and id=$2',\r\n            ['True', articleId]\r\n          );\r\n          if (!flagged.rows[0]) {\r\n            const articleFlag = await db.query(\r\n              'UPDATE articles SET article_flagged=$1 where id=$2 returning *',\r\n              ['True', articleId]\r\n            );\r\n            if (!articleFlag.rows[0]) {\r\n              return res.status(500).json({\r\n                status: 'error',\r\n                message: 'something went wrong while processing your request'\r\n              });\r\n            }\r\n          }\r\n          const flag = await db.query(\r\n            'INSERT INTO articles_flags(article, reason, user_id) VALUES ($1, $2, $3) returning *',\r\n            [articleId, reason, req.user.id]\r\n          );\r\n          if (!flag.rows[0]) {\r\n            return res.status(500).json({\r\n              status: 'error',\r\n              message: 'something went wrong while processing your request'\r\n            });\r\n          }\r\n          res.status(200);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'gif successfully flagged as inapproriate',\r\n              articleId,\r\n              flagId: flag.rows[0].id,\r\n              reason: flag.rows[0].reason,\r\n              userId: flag.rows[0].user_id\r\n            }\r\n          });\r\n        } else {\r\n          return res.status(400).json({\r\n            status: 'error',\r\n            message: 'Incomplete request'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        debug(error);\r\n        throw new ErrorHandler(\r\n          500,\r\n          'something went wrong while processing your request'\r\n        );\r\n      }\r\n    } else {\r\n      return res.status(400).json({\r\n        status: 'error',\r\n        message: 'Incomplete request'\r\n      });\r\n    }\r\n  }\r\n);\r\n\r\nrouter.post(\r\n  '/articles/:articleId/comment',\r\n  Auth.verifyToken,\r\n  async (req, res) => {\r\n    debug(req.params);\r\n    if (req.params && req.body.comment) {\r\n      try {\r\n        const articleId = Number(req.params.articleId);\r\n        if (Number.isInteger(articleId)) {\r\n          const sql = 'Select * from articles where id=$1';\r\n          const { rows } = await db.query(sql, [articleId]);\r\n          if (!rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Article not found'\r\n            });\r\n          }\r\n          const comment = Helper.toTitleCase(req.body.comment);\r\n          const articleComment = await db.query(\r\n            'INSERT INTO articles_comments(article, text, user_id) VALUES ($1, $2, $3) returning *',\r\n            [articleId, comment, req.user.id]\r\n          );\r\n          if (!articleComment.rows[0]) {\r\n            return res.status(500).json({\r\n              status: 'error',\r\n              message: 'something went wrong while processing your request'\r\n            });\r\n          }\r\n          res.status(201);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'comment successfully created',\r\n              articleId,\r\n              createdOn: articleComment.rows[0].comment_date,\r\n              articleTitle: rows[0].title,\r\n              article: rows[0].text,\r\n              author: rows[0].user_id,\r\n              comment: articleComment.rows[0].text,\r\n              commentedBy: articleComment.rows[0].user_id\r\n            }\r\n          });\r\n        } else {\r\n          return res.status(400).json({\r\n            status: 'error',\r\n            message: 'Incomplete request'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        debug(error);\r\n        throw new ErrorHandler(\r\n          500,\r\n          'something went wrong while processing your request'\r\n        );\r\n      }\r\n    } else {\r\n      return res.status(400).json({\r\n        status: 'error',\r\n        message: 'Incomplete request'\r\n      });\r\n    }\r\n  }\r\n);\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d1292ee7ecddaa25bdc48fd7d008ee0b40bfb98","contentHash":"76fcaa2ec4b666508fb19a00b7feb192fbe20ed3631985dc29e208e6d91ae16d"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\helper.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\helper.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"3":{"start":{"line":9,"column":17},"end":{"line":9,"column":38}},"4":{"start":{"line":11,"column":10},"end":{"line":11,"column":33}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":30}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":58}},"7":{"start":{"line":17,"column":9},"end":{"line":17,"column":34}},"8":{"start":{"line":19,"column":13},"end":{"line":109,"column":1}},"9":{"start":{"line":23,"column":4},"end":{"line":58,"column":30}},"10":{"start":{"line":24,"column":6},"end":{"line":57,"column":7}},"11":{"start":{"line":25,"column":8},"end":{"line":56,"column":9}},"12":{"start":{"line":27,"column":12},"end":{"line":27,"column":30}},"13":{"start":{"line":28,"column":12},"end":{"line":28,"column":42}},"14":{"start":{"line":29,"column":12},"end":{"line":29,"column":88}},"15":{"start":{"line":30,"column":12},"end":{"line":30,"column":30}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":93}},"17":{"start":{"line":34,"column":12},"end":{"line":34,"column":33}},"18":{"start":{"line":35,"column":12},"end":{"line":35,"column":29}},"19":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"20":{"start":{"line":38,"column":14},"end":{"line":38,"column":32}},"21":{"start":{"line":39,"column":14},"end":{"line":39,"column":20}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":52}},"23":{"start":{"line":45,"column":12},"end":{"line":45,"column":51}},"24":{"start":{"line":48,"column":12},"end":{"line":48,"column":31}},"25":{"start":{"line":49,"column":12},"end":{"line":49,"column":47}},"26":{"start":{"line":50,"column":12},"end":{"line":50,"column":31}},"27":{"start":{"line":51,"column":12},"end":{"line":51,"column":52}},"28":{"start":{"line":55,"column":12},"end":{"line":55,"column":35}},"29":{"start":{"line":61,"column":4},"end":{"line":63,"column":17}},"30":{"start":{"line":62,"column":6},"end":{"line":62,"column":60}},"31":{"start":{"line":66,"column":21},"end":{"line":66,"column":39}},"32":{"start":{"line":67,"column":17},"end":{"line":67,"column":35}},"33":{"start":{"line":68,"column":16},"end":{"line":72,"column":6}},"34":{"start":{"line":73,"column":4},"end":{"line":73,"column":17}},"35":{"start":{"line":77,"column":4},"end":{"line":107,"column":7}},"36":{"start":{"line":78,"column":6},"end":{"line":106,"column":7}},"37":{"start":{"line":79,"column":8},"end":{"line":105,"column":9}},"38":{"start":{"line":81,"column":12},"end":{"line":88,"column":15}},"39":{"start":{"line":90,"column":12},"end":{"line":100,"column":15}},"40":{"start":{"line":91,"column":14},"end":{"line":94,"column":15}},"41":{"start":{"line":92,"column":16},"end":{"line":92,"column":27}},"42":{"start":{"line":93,"column":16},"end":{"line":93,"column":29}},"43":{"start":{"line":96,"column":14},"end":{"line":99,"column":15}},"44":{"start":{"line":97,"column":16},"end":{"line":97,"column":28}},"45":{"start":{"line":98,"column":16},"end":{"line":98,"column":28}},"46":{"start":{"line":104,"column":12},"end":{"line":104,"column":36}},"47":{"start":{"line":110,"column":0},"end":{"line":110,"column":24}}},"fnMap":{"0":{"name":"updateLogin","decl":{"start":{"line":20,"column":24},"end":{"line":20,"column":35}},"loc":{"start":{"line":20,"column":44},"end":{"line":59,"column":3}},"line":20},"1":{"name":"updateLogin$","decl":{"start":{"line":23,"column":50},"end":{"line":23,"column":62}},"loc":{"start":{"line":23,"column":73},"end":{"line":58,"column":5}},"line":23},"2":{"name":"toTitleCase","decl":{"start":{"line":60,"column":24},"end":{"line":60,"column":35}},"loc":{"start":{"line":60,"column":42},"end":{"line":64,"column":3}},"line":60},"3":{"name":"(anonymous_3)","decl":{"start":{"line":61,"column":31},"end":{"line":61,"column":32}},"loc":{"start":{"line":61,"column":44},"end":{"line":63,"column":5}},"line":61},"4":{"name":"generateToken","decl":{"start":{"line":65,"column":26},"end":{"line":65,"column":39}},"loc":{"start":{"line":65,"column":44},"end":{"line":74,"column":3}},"line":65},"5":{"name":"sendMail","decl":{"start":{"line":75,"column":21},"end":{"line":75,"column":29}},"loc":{"start":{"line":75,"column":39},"end":{"line":108,"column":3}},"line":75},"6":{"name":"sendMail$","decl":{"start":{"line":77,"column":50},"end":{"line":77,"column":59}},"loc":{"start":{"line":77,"column":71},"end":{"line":107,"column":5}},"line":77},"7":{"name":"(anonymous_7)","decl":{"start":{"line":90,"column":40},"end":{"line":90,"column":41}},"loc":{"start":{"line":90,"column":61},"end":{"line":100,"column":13}},"line":90}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":8},"end":{"line":56,"column":9}},"type":"switch","locations":[{"start":{"line":26,"column":10},"end":{"line":31,"column":93}},{"start":{"line":33,"column":10},"end":{"line":42,"column":52}},{"start":{"line":44,"column":10},"end":{"line":45,"column":51}},{"start":{"line":47,"column":10},"end":{"line":51,"column":52}},{"start":{"line":53,"column":10},"end":{"line":53,"column":18}},{"start":{"line":54,"column":10},"end":{"line":55,"column":35}}],"line":25},"1":{"loc":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},{"start":{"line":37,"column":12},"end":{"line":40,"column":13}}],"line":37},"2":{"loc":{"start":{"line":79,"column":8},"end":{"line":105,"column":9}},"type":"switch","locations":[{"start":{"line":80,"column":10},"end":{"line":100,"column":15}},{"start":{"line":102,"column":10},"end":{"line":102,"column":17}},{"start":{"line":103,"column":10},"end":{"line":104,"column":36}}],"line":79},"3":{"loc":{"start":{"line":91,"column":14},"end":{"line":94,"column":15}},"type":"if","locations":[{"start":{"line":91,"column":14},"end":{"line":94,"column":15}},{"start":{"line":91,"column":14},"end":{"line":94,"column":15}}],"line":91},"4":{"loc":{"start":{"line":96,"column":14},"end":{"line":99,"column":15}},"type":"if","locations":[{"start":{"line":96,"column":14},"end":{"line":99,"column":15}},{"start":{"line":96,"column":14},"end":{"line":99,"column":15}}],"line":96}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":25,"10":75,"11":100,"12":25,"13":25,"14":25,"15":25,"16":25,"17":25,"18":25,"19":25,"20":25,"21":25,"22":0,"23":25,"24":0,"25":0,"26":0,"27":0,"28":25,"29":36,"30":153,"31":26,"32":26,"33":26,"34":26,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":1,"44":1,"45":1,"46":1,"47":1},"f":{"0":25,"1":75,"2":36,"3":153,"4":26,"5":1,"6":1,"7":1},"b":{"0":[25,25,25,0,0,25],"1":[25,0],"2":[1,1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"sources":["helper.js"],"names":["require","config","nodemailer","jwt","moment","debug","db","Helper","updateLogin","userId","loginDate","format","query","rows","id","toTitleCase","word","split","map","w","toUpperCase","substr","toLowerCase","join","generateToken","secretWord","process","env","secret","expiry","token","sign","expiresIn","sendMail","message","transport","createTransport","host","port","email_port","auth","user","pass","err","info","module","exports"],"mappings":";;;;;;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,UAAU,GAAGF,OAAO,CAAC,YAAD,CAA1B;;AAEA,IAAMG,GAAG,GAAGH,OAAO,CAAC,cAAD,CAAnB;;AAEA,IAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAAtB;;AAEA,IAAMK,KAAK,GAAGL,OAAO,CAAC,OAAD,CAAP,CAAiB,4BAAjB,CAAd;;AAEA,IAAMM,EAAE,GAAGN,OAAO,CAAC,gBAAD,CAAlB;;AAEA,IAAMO,MAAM,GAAG;AACPC,EAAAA,WADO,uBACKC,MADL;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGHC,YAAAA,SAHG,GAGSN,MAAM,GAAGO,MAAT,EAHT;AAKHH,YAAAA,WALG,GAMP,6DANO;AAAA;AAAA,iDAQcF,EAAE,CAACM,KAAH,CAASJ,WAAT,EAAsB,CAACE,SAAD,EAAYD,MAAZ,CAAtB,CARd;;AAAA;AAAA;AAQDI,YAAAA,IARC,QAQDA,IARC;;AAAA,gBAUJA,IAAI,CAAC,CAAD,CAAJ,CAAQC,EAVJ;AAAA;AAAA;AAAA;;AAAA,6CAWA,KAXA;;AAAA;AAAA,6CAcF,IAdE;;AAAA;AAAA;AAAA;AAgBTT,YAAAA,KAAK,aAAL;AAhBS,6CAkBF,KAlBE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBbU,EAAAA,WAtBa,uBAsBDC,IAtBC,EAsBK;AAChB,WAAOA,IAAI,CAERC,KAFI,CAEE,GAFF,EAIJC,GAJI,CAIA,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAAC,CAAD,CAAD,CAAKC,WAAL,KAAqBD,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,WAAZ,EAAzB;AAAA,KAJD,EAMJC,IANI,CAMC,GAND,CAAP;AAOD,GA9BY;AAgCbC,EAAAA,aAhCa,yBAgCCV,EAhCD,EAgCK;AAChB,QAAMW,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,MAA/B;AADgB,QAGRC,MAHQ,GAGGH,OAAO,CAACC,GAHX,CAGRE,MAHQ;AAKhB,QAAMC,KAAK,GAAG3B,GAAG,CAAC4B,IAAJ,CACZ;AACEtB,MAAAA,MAAM,EAAEK;AADV,KADY,EAKZW,UALY,EAOZ;AAAEO,MAAAA,SAAS,EAAEH;AAAb,KAPY,CAAd;AAUA,WAAOC,KAAP;AACD,GAhDY;AAkDPG,EAAAA,QAlDO,oBAkDEC,OAlDF;AAAA;AAAA;AAAA;AAAA;AAAA;AAmDLC,YAAAA,SAnDK,GAmDOjC,UAAU,CAACkC,eAAX,CAA2B;AAC3CC,cAAAA,IAAI,EAAEX,OAAO,CAACC,GAAR,CAAYU,IADyB;AAG3CC,cAAAA,IAAI,EAAEZ,OAAO,CAACC,GAAR,CAAYY,UAHyB;AAK3CC,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,EAAEf,OAAO,CAACC,GAAR,CAAYc,IADd;AAGJC,gBAAAA,IAAI,EAAEhB,OAAO,CAACC,GAAR,CAAYe;AAHd;AALqC,aAA3B,CAnDP,EA+DX;;AAEAP,YAAAA,SAAS,CAACF,QAAV,CAAmBC,OAAnB,EAA4B,UAACS,GAAD,EAAMC,IAAN,EAAe;AACzC,kBAAID,GAAJ,EAAS;AACPtC,gBAAAA,KAAK,CAACsC,GAAD,CAAL;AAEA,uBAAO,KAAP;AACD;;AAED,kBAAIC,IAAJ,EAAU;AACRvC,gBAAAA,KAAK,CAACuC,IAAD,CAAL;AAEA,uBAAO,IAAP;AACD;AACF,aAZD;;AAjEW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;AAiFAC,MAAM,CAACC,OAAP,GAAiBvC,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth","sourcesContent":["require('dotenv').config();\r\n\r\nconst nodemailer = require('nodemailer');\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst moment = require('moment');\r\n\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\n\r\nconst db = require('../db/index.js');\r\n\r\nconst Helper = {\r\n  async updateLogin(userId) {\r\n    try {\r\n      const loginDate = moment().format();\r\n\r\n      const updateLogin =\r\n        'UPDATE sys_users set last_login=$1 where id=$2 returning id';\r\n\r\n      const { rows } = await db.query(updateLogin, [loginDate, userId]);\r\n\r\n      if (!rows[0].id) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      debug(error);\r\n\r\n      return false;\r\n    }\r\n  },\r\n\r\n  toTitleCase(word) {\r\n    return word\r\n\r\n      .split(' ')\r\n\r\n      .map(w => w[0].toUpperCase() + w.substr(1).toLowerCase())\r\n\r\n      .join(' ');\r\n  },\r\n\r\n  generateToken(id) {\r\n    const secretWord = process.env.secret;\r\n\r\n    const { expiry } = process.env;\r\n\r\n    const token = jwt.sign(\r\n      {\r\n        userId: id\r\n      },\r\n\r\n      secretWord,\r\n\r\n      { expiresIn: expiry }\r\n    );\r\n\r\n    return token;\r\n  },\r\n\r\n  async sendMail(message) {\r\n    const transport = nodemailer.createTransport({\r\n      host: process.env.host,\r\n\r\n      port: process.env.email_port,\r\n\r\n      auth: {\r\n        user: process.env.user,\r\n\r\n        pass: process.env.pass\r\n      }\r\n    });\r\n\r\n    // eslint-disable-next-line consistent-return\r\n\r\n    transport.sendMail(message, (err, info) => {\r\n      if (err) {\r\n        debug(err);\r\n\r\n        return false;\r\n      }\r\n\r\n      if (info) {\r\n        debug(info);\r\n\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports = Helper;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b62562319e9a050fa56cb97eb8d694a47f1e786e","contentHash":"249a883ab978ea37b3b4cc14a246865ff1343d36cf36db82b4a8c62a30d9619e"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\gifs.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\gifs.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":32}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":58}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":29}},"5":{"start":{"line":13,"column":11},"end":{"line":13,"column":51}},"6":{"start":{"line":15,"column":15},"end":{"line":15,"column":57}},"7":{"start":{"line":16,"column":20},"end":{"line":16,"column":42}},"8":{"start":{"line":17,"column":14},"end":{"line":17,"column":30}},"9":{"start":{"line":19,"column":16},"end":{"line":19,"column":55}},"10":{"start":{"line":20,"column":15},"end":{"line":20,"column":33}},"11":{"start":{"line":22,"column":16},"end":{"line":22,"column":54}},"12":{"start":{"line":23,"column":19},"end":{"line":23,"column":41}},"13":{"start":{"line":25,"column":9},"end":{"line":25,"column":37}},"14":{"start":{"line":27,"column":13},"end":{"line":27,"column":44}},"15":{"start":{"line":29,"column":0},"end":{"line":53,"column":3}},"16":{"start":{"line":31,"column":2},"end":{"line":52,"column":5}},"17":{"start":{"line":32,"column":4},"end":{"line":51,"column":5}},"18":{"start":{"line":33,"column":6},"end":{"line":50,"column":7}},"19":{"start":{"line":35,"column":10},"end":{"line":35,"column":772}},"20":{"start":{"line":36,"column":10},"end":{"line":36,"column":28}},"21":{"start":{"line":37,"column":10},"end":{"line":37,"column":63}},"22":{"start":{"line":40,"column":10},"end":{"line":40,"column":32}},"23":{"start":{"line":41,"column":10},"end":{"line":41,"column":26}},"24":{"start":{"line":42,"column":10},"end":{"line":45,"column":13}},"25":{"start":{"line":49,"column":10},"end":{"line":49,"column":33}},"26":{"start":{"line":54,"column":0},"end":{"line":94,"column":3}},"27":{"start":{"line":57,"column":2},"end":{"line":93,"column":28}},"28":{"start":{"line":58,"column":4},"end":{"line":92,"column":5}},"29":{"start":{"line":59,"column":6},"end":{"line":91,"column":7}},"30":{"start":{"line":61,"column":10},"end":{"line":61,"column":29}},"31":{"start":{"line":62,"column":10},"end":{"line":62,"column":329}},"32":{"start":{"line":63,"column":10},"end":{"line":63,"column":29}},"33":{"start":{"line":64,"column":10},"end":{"line":64,"column":62}},"34":{"start":{"line":67,"column":10},"end":{"line":67,"column":32}},"35":{"start":{"line":68,"column":10},"end":{"line":68,"column":27}},"36":{"start":{"line":69,"column":10},"end":{"line":69,"column":22}},"37":{"start":{"line":71,"column":10},"end":{"line":77,"column":11}},"38":{"start":{"line":72,"column":12},"end":{"line":72,"column":28}},"39":{"start":{"line":73,"column":12},"end":{"line":76,"column":15}},"40":{"start":{"line":79,"column":10},"end":{"line":79,"column":30}},"41":{"start":{"line":80,"column":10},"end":{"line":80,"column":16}},"42":{"start":{"line":83,"column":10},"end":{"line":83,"column":30}},"43":{"start":{"line":84,"column":10},"end":{"line":84,"column":47}},"44":{"start":{"line":85,"column":10},"end":{"line":85,"column":30}},"45":{"start":{"line":86,"column":10},"end":{"line":86,"column":92}},"46":{"start":{"line":90,"column":10},"end":{"line":90,"column":34}},"47":{"start":{"line":96,"column":0},"end":{"line":205,"column":3}},"48":{"start":{"line":99,"column":2},"end":{"line":204,"column":28}},"49":{"start":{"line":100,"column":4},"end":{"line":203,"column":5}},"50":{"start":{"line":101,"column":6},"end":{"line":202,"column":7}},"51":{"start":{"line":103,"column":10},"end":{"line":106,"column":11}},"52":{"start":{"line":104,"column":12},"end":{"line":104,"column":32}},"53":{"start":{"line":105,"column":12},"end":{"line":105,"column":18}},"54":{"start":{"line":108,"column":10},"end":{"line":108,"column":29}},"55":{"start":{"line":110,"column":10},"end":{"line":113,"column":11}},"56":{"start":{"line":111,"column":12},"end":{"line":111,"column":31}},"57":{"start":{"line":112,"column":12},"end":{"line":112,"column":18}},"58":{"start":{"line":115,"column":10},"end":{"line":118,"column":14}},"59":{"start":{"line":122,"column":10},"end":{"line":122,"column":38}},"60":{"start":{"line":123,"column":10},"end":{"line":123,"column":29}},"61":{"start":{"line":124,"column":10},"end":{"line":124,"column":70}},"62":{"start":{"line":127,"column":10},"end":{"line":127,"column":35}},"63":{"start":{"line":128,"column":10},"end":{"line":128,"column":25}},"64":{"start":{"line":130,"column":10},"end":{"line":133,"column":11}},"65":{"start":{"line":131,"column":12},"end":{"line":131,"column":32}},"66":{"start":{"line":132,"column":12},"end":{"line":132,"column":18}},"67":{"start":{"line":135,"column":10},"end":{"line":135,"column":59}},"68":{"start":{"line":136,"column":10},"end":{"line":136,"column":51}},"69":{"start":{"line":138,"column":10},"end":{"line":138,"column":104}},"70":{"start":{"line":139,"column":10},"end":{"line":139,"column":30}},"71":{"start":{"line":140,"column":10},"end":{"line":140,"column":120}},"72":{"start":{"line":143,"column":10},"end":{"line":143,"column":33}},"73":{"start":{"line":144,"column":10},"end":{"line":144,"column":28}},"74":{"start":{"line":146,"column":10},"end":{"line":149,"column":11}},"75":{"start":{"line":147,"column":12},"end":{"line":147,"column":32}},"76":{"start":{"line":148,"column":12},"end":{"line":148,"column":18}},"77":{"start":{"line":151,"column":10},"end":{"line":154,"column":14}},"78":{"start":{"line":158,"column":10},"end":{"line":158,"column":26}},"79":{"start":{"line":159,"column":10},"end":{"line":169,"column":13}},"80":{"start":{"line":170,"column":10},"end":{"line":170,"column":30}},"81":{"start":{"line":171,"column":10},"end":{"line":171,"column":16}},"82":{"start":{"line":174,"column":10},"end":{"line":177,"column":14}},"83":{"start":{"line":180,"column":10},"end":{"line":180,"column":30}},"84":{"start":{"line":181,"column":10},"end":{"line":181,"column":16}},"85":{"start":{"line":184,"column":10},"end":{"line":184,"column":30}},"86":{"start":{"line":185,"column":10},"end":{"line":185,"column":47}},"87":{"start":{"line":186,"column":10},"end":{"line":186,"column":30}},"88":{"start":{"line":187,"column":10},"end":{"line":187,"column":92}},"89":{"start":{"line":190,"column":10},"end":{"line":190,"column":30}},"90":{"start":{"line":191,"column":10},"end":{"line":191,"column":16}},"91":{"start":{"line":194,"column":10},"end":{"line":197,"column":14}},"92":{"start":{"line":201,"column":10},"end":{"line":201,"column":34}},"93":{"start":{"line":206,"column":0},"end":{"line":298,"column":3}},"94":{"start":{"line":209,"column":2},"end":{"line":297,"column":28}},"95":{"start":{"line":210,"column":4},"end":{"line":296,"column":5}},"96":{"start":{"line":211,"column":6},"end":{"line":295,"column":7}},"97":{"start":{"line":213,"column":10},"end":{"line":216,"column":11}},"98":{"start":{"line":214,"column":12},"end":{"line":214,"column":32}},"99":{"start":{"line":215,"column":12},"end":{"line":215,"column":18}},"100":{"start":{"line":218,"column":10},"end":{"line":218,"column":29}},"101":{"start":{"line":219,"column":10},"end":{"line":219,"column":43}},"102":{"start":{"line":221,"column":10},"end":{"line":224,"column":11}},"103":{"start":{"line":222,"column":12},"end":{"line":222,"column":32}},"104":{"start":{"line":223,"column":12},"end":{"line":223,"column":18}},"105":{"start":{"line":226,"column":10},"end":{"line":226,"column":49}},"106":{"start":{"line":227,"column":10},"end":{"line":227,"column":29}},"107":{"start":{"line":228,"column":10},"end":{"line":228,"column":71}},"108":{"start":{"line":231,"column":10},"end":{"line":231,"column":33}},"109":{"start":{"line":232,"column":10},"end":{"line":232,"column":28}},"110":{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},"111":{"start":{"line":235,"column":12},"end":{"line":235,"column":32}},"112":{"start":{"line":236,"column":12},"end":{"line":236,"column":18}},"113":{"start":{"line":239,"column":10},"end":{"line":242,"column":14}},"114":{"start":{"line":245,"column":10},"end":{"line":245,"column":136}},"115":{"start":{"line":246,"column":10},"end":{"line":246,"column":30}},"116":{"start":{"line":247,"column":10},"end":{"line":247,"column":72}},"117":{"start":{"line":250,"column":10},"end":{"line":250,"column":36}},"118":{"start":{"line":251,"column":10},"end":{"line":251,"column":26}},"119":{"start":{"line":252,"column":10},"end":{"line":262,"column":13}},"120":{"start":{"line":263,"column":10},"end":{"line":263,"column":30}},"121":{"start":{"line":264,"column":10},"end":{"line":264,"column":16}},"122":{"start":{"line":267,"column":10},"end":{"line":270,"column":14}},"123":{"start":{"line":273,"column":10},"end":{"line":273,"column":30}},"124":{"start":{"line":274,"column":10},"end":{"line":274,"column":16}},"125":{"start":{"line":277,"column":10},"end":{"line":277,"column":30}},"126":{"start":{"line":278,"column":10},"end":{"line":278,"column":47}},"127":{"start":{"line":279,"column":10},"end":{"line":279,"column":30}},"128":{"start":{"line":280,"column":10},"end":{"line":280,"column":92}},"129":{"start":{"line":283,"column":10},"end":{"line":283,"column":30}},"130":{"start":{"line":284,"column":10},"end":{"line":284,"column":16}},"131":{"start":{"line":287,"column":10},"end":{"line":290,"column":14}},"132":{"start":{"line":294,"column":10},"end":{"line":294,"column":34}},"133":{"start":{"line":299,"column":0},"end":{"line":554,"column":3}},"134":{"start":{"line":302,"column":2},"end":{"line":553,"column":28}},"135":{"start":{"line":303,"column":4},"end":{"line":552,"column":5}},"136":{"start":{"line":304,"column":6},"end":{"line":551,"column":7}},"137":{"start":{"line":306,"column":10},"end":{"line":306,"column":28}},"138":{"start":{"line":308,"column":10},"end":{"line":311,"column":11}},"139":{"start":{"line":309,"column":12},"end":{"line":309,"column":32}},"140":{"start":{"line":310,"column":12},"end":{"line":310,"column":18}},"141":{"start":{"line":313,"column":10},"end":{"line":313,"column":29}},"142":{"start":{"line":314,"column":10},"end":{"line":314,"column":43}},"143":{"start":{"line":316,"column":10},"end":{"line":319,"column":11}},"144":{"start":{"line":317,"column":12},"end":{"line":317,"column":32}},"145":{"start":{"line":318,"column":12},"end":{"line":318,"column":18}},"146":{"start":{"line":321,"column":10},"end":{"line":321,"column":49}},"147":{"start":{"line":322,"column":10},"end":{"line":322,"column":29}},"148":{"start":{"line":323,"column":10},"end":{"line":323,"column":71}},"149":{"start":{"line":326,"column":10},"end":{"line":326,"column":33}},"150":{"start":{"line":327,"column":10},"end":{"line":327,"column":28}},"151":{"start":{"line":329,"column":10},"end":{"line":332,"column":11}},"152":{"start":{"line":330,"column":12},"end":{"line":330,"column":32}},"153":{"start":{"line":331,"column":12},"end":{"line":331,"column":18}},"154":{"start":{"line":334,"column":10},"end":{"line":337,"column":14}},"155":{"start":{"line":340,"column":10},"end":{"line":343,"column":11}},"156":{"start":{"line":341,"column":12},"end":{"line":341,"column":32}},"157":{"start":{"line":342,"column":12},"end":{"line":342,"column":18}},"158":{"start":{"line":345,"column":10},"end":{"line":345,"column":69}},"159":{"start":{"line":346,"column":10},"end":{"line":346,"column":30}},"160":{"start":{"line":347,"column":10},"end":{"line":347,"column":70}},"161":{"start":{"line":350,"column":10},"end":{"line":350,"column":33}},"162":{"start":{"line":351,"column":10},"end":{"line":351,"column":32}},"163":{"start":{"line":352,"column":10},"end":{"line":352,"column":60}},"164":{"start":{"line":354,"column":10},"end":{"line":357,"column":11}},"165":{"start":{"line":355,"column":12},"end":{"line":355,"column":32}},"166":{"start":{"line":356,"column":12},"end":{"line":356,"column":18}},"167":{"start":{"line":359,"column":10},"end":{"line":359,"column":30}},"168":{"start":{"line":360,"column":10},"end":{"line":360,"column":77}},"169":{"start":{"line":363,"column":10},"end":{"line":363,"column":38}},"170":{"start":{"line":365,"column":10},"end":{"line":368,"column":11}},"171":{"start":{"line":366,"column":12},"end":{"line":366,"column":32}},"172":{"start":{"line":367,"column":12},"end":{"line":367,"column":18}},"173":{"start":{"line":370,"column":10},"end":{"line":373,"column":14}},"174":{"start":{"line":376,"column":10},"end":{"line":382,"column":14}},"175":{"start":{"line":385,"column":10},"end":{"line":385,"column":30}},"176":{"start":{"line":386,"column":10},"end":{"line":386,"column":77}},"177":{"start":{"line":389,"column":10},"end":{"line":389,"column":36}},"178":{"start":{"line":391,"column":10},"end":{"line":394,"column":11}},"179":{"start":{"line":392,"column":12},"end":{"line":392,"column":32}},"180":{"start":{"line":393,"column":12},"end":{"line":393,"column":18}},"181":{"start":{"line":396,"column":10},"end":{"line":399,"column":14}},"182":{"start":{"line":402,"column":10},"end":{"line":402,"column":26}},"183":{"start":{"line":403,"column":10},"end":{"line":409,"column":13}},"184":{"start":{"line":410,"column":10},"end":{"line":410,"column":30}},"185":{"start":{"line":411,"column":10},"end":{"line":411,"column":16}},"186":{"start":{"line":415,"column":10},"end":{"line":415,"column":79}},"187":{"start":{"line":416,"column":10},"end":{"line":416,"column":30}},"188":{"start":{"line":417,"column":10},"end":{"line":417,"column":86}},"189":{"start":{"line":420,"column":10},"end":{"line":420,"column":33}},"190":{"start":{"line":422,"column":10},"end":{"line":425,"column":11}},"191":{"start":{"line":423,"column":12},"end":{"line":423,"column":32}},"192":{"start":{"line":424,"column":12},"end":{"line":424,"column":18}},"193":{"start":{"line":427,"column":10},"end":{"line":430,"column":14}},"194":{"start":{"line":433,"column":10},"end":{"line":433,"column":70}},"195":{"start":{"line":434,"column":10},"end":{"line":434,"column":30}},"196":{"start":{"line":435,"column":10},"end":{"line":435,"column":80}},"197":{"start":{"line":438,"column":10},"end":{"line":438,"column":35}},"198":{"start":{"line":440,"column":10},"end":{"line":443,"column":11}},"199":{"start":{"line":441,"column":12},"end":{"line":441,"column":32}},"200":{"start":{"line":442,"column":12},"end":{"line":442,"column":18}},"201":{"start":{"line":445,"column":10},"end":{"line":448,"column":14}},"202":{"start":{"line":452,"column":10},"end":{"line":452,"column":78}},"203":{"start":{"line":453,"column":10},"end":{"line":453,"column":30}},"204":{"start":{"line":454,"column":10},"end":{"line":454,"column":71}},"205":{"start":{"line":457,"column":10},"end":{"line":457,"column":33}},"206":{"start":{"line":458,"column":10},"end":{"line":458,"column":33}},"207":{"start":{"line":459,"column":10},"end":{"line":459,"column":61}},"208":{"start":{"line":461,"column":10},"end":{"line":464,"column":11}},"209":{"start":{"line":462,"column":12},"end":{"line":462,"column":32}},"210":{"start":{"line":463,"column":12},"end":{"line":463,"column":18}},"211":{"start":{"line":466,"column":10},"end":{"line":466,"column":30}},"212":{"start":{"line":467,"column":10},"end":{"line":467,"column":83}},"213":{"start":{"line":470,"column":10},"end":{"line":470,"column":39}},"214":{"start":{"line":472,"column":10},"end":{"line":475,"column":11}},"215":{"start":{"line":473,"column":12},"end":{"line":473,"column":32}},"216":{"start":{"line":474,"column":12},"end":{"line":474,"column":18}},"217":{"start":{"line":477,"column":10},"end":{"line":480,"column":14}},"218":{"start":{"line":483,"column":10},"end":{"line":489,"column":14}},"219":{"start":{"line":492,"column":10},"end":{"line":492,"column":30}},"220":{"start":{"line":493,"column":10},"end":{"line":493,"column":78}},"221":{"start":{"line":496,"column":10},"end":{"line":496,"column":37}},"222":{"start":{"line":498,"column":10},"end":{"line":501,"column":11}},"223":{"start":{"line":499,"column":12},"end":{"line":499,"column":32}},"224":{"start":{"line":500,"column":12},"end":{"line":500,"column":18}},"225":{"start":{"line":503,"column":10},"end":{"line":506,"column":14}},"226":{"start":{"line":509,"column":10},"end":{"line":509,"column":26}},"227":{"start":{"line":510,"column":10},"end":{"line":516,"column":13}},"228":{"start":{"line":519,"column":10},"end":{"line":519,"column":30}},"229":{"start":{"line":520,"column":10},"end":{"line":520,"column":16}},"230":{"start":{"line":523,"column":10},"end":{"line":526,"column":14}},"231":{"start":{"line":529,"column":10},"end":{"line":529,"column":30}},"232":{"start":{"line":530,"column":10},"end":{"line":530,"column":16}},"233":{"start":{"line":533,"column":10},"end":{"line":533,"column":30}},"234":{"start":{"line":534,"column":10},"end":{"line":534,"column":47}},"235":{"start":{"line":535,"column":10},"end":{"line":535,"column":30}},"236":{"start":{"line":536,"column":10},"end":{"line":536,"column":92}},"237":{"start":{"line":539,"column":10},"end":{"line":539,"column":30}},"238":{"start":{"line":540,"column":10},"end":{"line":540,"column":16}},"239":{"start":{"line":543,"column":10},"end":{"line":546,"column":14}},"240":{"start":{"line":550,"column":10},"end":{"line":550,"column":34}},"241":{"start":{"line":555,"column":0},"end":{"line":688,"column":3}},"242":{"start":{"line":558,"column":2},"end":{"line":687,"column":28}},"243":{"start":{"line":559,"column":4},"end":{"line":686,"column":5}},"244":{"start":{"line":560,"column":6},"end":{"line":685,"column":7}},"245":{"start":{"line":562,"column":10},"end":{"line":562,"column":28}},"246":{"start":{"line":564,"column":10},"end":{"line":567,"column":11}},"247":{"start":{"line":565,"column":12},"end":{"line":565,"column":32}},"248":{"start":{"line":566,"column":12},"end":{"line":566,"column":18}},"249":{"start":{"line":569,"column":10},"end":{"line":569,"column":29}},"250":{"start":{"line":570,"column":10},"end":{"line":570,"column":43}},"251":{"start":{"line":572,"column":10},"end":{"line":575,"column":11}},"252":{"start":{"line":573,"column":12},"end":{"line":573,"column":32}},"253":{"start":{"line":574,"column":12},"end":{"line":574,"column":18}},"254":{"start":{"line":577,"column":10},"end":{"line":577,"column":49}},"255":{"start":{"line":578,"column":10},"end":{"line":578,"column":29}},"256":{"start":{"line":579,"column":10},"end":{"line":579,"column":71}},"257":{"start":{"line":582,"column":10},"end":{"line":582,"column":33}},"258":{"start":{"line":583,"column":10},"end":{"line":583,"column":28}},"259":{"start":{"line":585,"column":10},"end":{"line":588,"column":11}},"260":{"start":{"line":586,"column":12},"end":{"line":586,"column":32}},"261":{"start":{"line":587,"column":12},"end":{"line":587,"column":18}},"262":{"start":{"line":590,"column":10},"end":{"line":593,"column":14}},"263":{"start":{"line":596,"column":10},"end":{"line":596,"column":55}},"264":{"start":{"line":597,"column":10},"end":{"line":597,"column":30}},"265":{"start":{"line":598,"column":10},"end":{"line":598,"column":127}},"266":{"start":{"line":601,"column":10},"end":{"line":601,"column":35}},"267":{"start":{"line":603,"column":10},"end":{"line":606,"column":11}},"268":{"start":{"line":604,"column":12},"end":{"line":604,"column":32}},"269":{"start":{"line":605,"column":12},"end":{"line":605,"column":18}},"270":{"start":{"line":608,"column":10},"end":{"line":608,"column":30}},"271":{"start":{"line":609,"column":10},"end":{"line":609,"column":132}},"272":{"start":{"line":612,"column":10},"end":{"line":612,"column":35}},"273":{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},"274":{"start":{"line":615,"column":12},"end":{"line":615,"column":32}},"275":{"start":{"line":616,"column":12},"end":{"line":616,"column":18}},"276":{"start":{"line":619,"column":10},"end":{"line":622,"column":14}},"277":{"start":{"line":625,"column":10},"end":{"line":625,"column":30}},"278":{"start":{"line":626,"column":10},"end":{"line":626,"column":167}},"279":{"start":{"line":629,"column":10},"end":{"line":629,"column":32}},"280":{"start":{"line":631,"column":10},"end":{"line":634,"column":11}},"281":{"start":{"line":632,"column":12},"end":{"line":632,"column":32}},"282":{"start":{"line":633,"column":12},"end":{"line":633,"column":18}},"283":{"start":{"line":636,"column":10},"end":{"line":639,"column":14}},"284":{"start":{"line":642,"column":10},"end":{"line":642,"column":26}},"285":{"start":{"line":643,"column":10},"end":{"line":652,"column":13}},"286":{"start":{"line":653,"column":10},"end":{"line":653,"column":30}},"287":{"start":{"line":654,"column":10},"end":{"line":654,"column":16}},"288":{"start":{"line":657,"column":10},"end":{"line":660,"column":14}},"289":{"start":{"line":663,"column":10},"end":{"line":663,"column":30}},"290":{"start":{"line":664,"column":10},"end":{"line":664,"column":16}},"291":{"start":{"line":667,"column":10},"end":{"line":667,"column":30}},"292":{"start":{"line":668,"column":10},"end":{"line":668,"column":47}},"293":{"start":{"line":669,"column":10},"end":{"line":669,"column":30}},"294":{"start":{"line":670,"column":10},"end":{"line":670,"column":92}},"295":{"start":{"line":673,"column":10},"end":{"line":673,"column":30}},"296":{"start":{"line":674,"column":10},"end":{"line":674,"column":16}},"297":{"start":{"line":677,"column":10},"end":{"line":680,"column":14}},"298":{"start":{"line":684,"column":10},"end":{"line":684,"column":34}},"299":{"start":{"line":689,"column":0},"end":{"line":798,"column":3}},"300":{"start":{"line":692,"column":2},"end":{"line":797,"column":28}},"301":{"start":{"line":693,"column":4},"end":{"line":796,"column":5}},"302":{"start":{"line":694,"column":6},"end":{"line":795,"column":7}},"303":{"start":{"line":696,"column":10},"end":{"line":696,"column":28}},"304":{"start":{"line":698,"column":10},"end":{"line":701,"column":11}},"305":{"start":{"line":699,"column":12},"end":{"line":699,"column":32}},"306":{"start":{"line":700,"column":12},"end":{"line":700,"column":18}},"307":{"start":{"line":703,"column":10},"end":{"line":703,"column":29}},"308":{"start":{"line":704,"column":10},"end":{"line":704,"column":43}},"309":{"start":{"line":706,"column":10},"end":{"line":709,"column":11}},"310":{"start":{"line":707,"column":12},"end":{"line":707,"column":32}},"311":{"start":{"line":708,"column":12},"end":{"line":708,"column":18}},"312":{"start":{"line":711,"column":10},"end":{"line":711,"column":49}},"313":{"start":{"line":712,"column":10},"end":{"line":712,"column":29}},"314":{"start":{"line":713,"column":10},"end":{"line":713,"column":71}},"315":{"start":{"line":716,"column":10},"end":{"line":716,"column":33}},"316":{"start":{"line":717,"column":10},"end":{"line":717,"column":28}},"317":{"start":{"line":719,"column":10},"end":{"line":722,"column":11}},"318":{"start":{"line":720,"column":12},"end":{"line":720,"column":32}},"319":{"start":{"line":721,"column":12},"end":{"line":721,"column":18}},"320":{"start":{"line":724,"column":10},"end":{"line":727,"column":14}},"321":{"start":{"line":730,"column":10},"end":{"line":730,"column":57}},"322":{"start":{"line":731,"column":10},"end":{"line":731,"column":30}},"323":{"start":{"line":732,"column":10},"end":{"line":732,"column":168}},"324":{"start":{"line":735,"column":10},"end":{"line":735,"column":38}},"325":{"start":{"line":737,"column":10},"end":{"line":740,"column":11}},"326":{"start":{"line":738,"column":12},"end":{"line":738,"column":32}},"327":{"start":{"line":739,"column":12},"end":{"line":739,"column":18}},"328":{"start":{"line":742,"column":10},"end":{"line":745,"column":14}},"329":{"start":{"line":748,"column":10},"end":{"line":748,"column":26}},"330":{"start":{"line":749,"column":10},"end":{"line":762,"column":13}},"331":{"start":{"line":763,"column":10},"end":{"line":763,"column":30}},"332":{"start":{"line":764,"column":10},"end":{"line":764,"column":16}},"333":{"start":{"line":767,"column":10},"end":{"line":770,"column":14}},"334":{"start":{"line":773,"column":10},"end":{"line":773,"column":30}},"335":{"start":{"line":774,"column":10},"end":{"line":774,"column":16}},"336":{"start":{"line":777,"column":10},"end":{"line":777,"column":30}},"337":{"start":{"line":778,"column":10},"end":{"line":778,"column":47}},"338":{"start":{"line":779,"column":10},"end":{"line":779,"column":30}},"339":{"start":{"line":780,"column":10},"end":{"line":780,"column":92}},"340":{"start":{"line":783,"column":10},"end":{"line":783,"column":30}},"341":{"start":{"line":784,"column":10},"end":{"line":784,"column":16}},"342":{"start":{"line":787,"column":10},"end":{"line":790,"column":14}},"343":{"start":{"line":794,"column":10},"end":{"line":794,"column":34}},"344":{"start":{"line":799,"column":0},"end":{"line":799,"column":24}}},"fnMap":{"0":{"name":"_callee","decl":{"start":{"line":29,"column":47},"end":{"line":29,"column":54}},"loc":{"start":{"line":29,"column":65},"end":{"line":53,"column":1}},"line":29},"1":{"name":"_callee$","decl":{"start":{"line":31,"column":48},"end":{"line":31,"column":56}},"loc":{"start":{"line":31,"column":67},"end":{"line":52,"column":3}},"line":31},"2":{"name":"_callee2","decl":{"start":{"line":54,"column":47},"end":{"line":54,"column":55}},"loc":{"start":{"line":54,"column":66},"end":{"line":94,"column":1}},"line":54},"3":{"name":"_callee2$","decl":{"start":{"line":57,"column":48},"end":{"line":57,"column":57}},"loc":{"start":{"line":57,"column":69},"end":{"line":93,"column":3}},"line":57},"4":{"name":"_callee3","decl":{"start":{"line":96,"column":63},"end":{"line":96,"column":71}},"loc":{"start":{"line":96,"column":82},"end":{"line":205,"column":1}},"line":96},"5":{"name":"_callee3$","decl":{"start":{"line":99,"column":48},"end":{"line":99,"column":57}},"loc":{"start":{"line":99,"column":69},"end":{"line":204,"column":3}},"line":99},"6":{"name":"_callee4","decl":{"start":{"line":206,"column":54},"end":{"line":206,"column":62}},"loc":{"start":{"line":206,"column":73},"end":{"line":298,"column":1}},"line":206},"7":{"name":"_callee4$","decl":{"start":{"line":209,"column":48},"end":{"line":209,"column":57}},"loc":{"start":{"line":209,"column":69},"end":{"line":297,"column":3}},"line":209},"8":{"name":"_callee5","decl":{"start":{"line":299,"column":60},"end":{"line":299,"column":68}},"loc":{"start":{"line":299,"column":79},"end":{"line":554,"column":1}},"line":299},"9":{"name":"_callee5$","decl":{"start":{"line":302,"column":48},"end":{"line":302,"column":57}},"loc":{"start":{"line":302,"column":69},"end":{"line":553,"column":3}},"line":302},"10":{"name":"_callee6","decl":{"start":{"line":555,"column":61},"end":{"line":555,"column":69}},"loc":{"start":{"line":555,"column":80},"end":{"line":688,"column":1}},"line":555},"11":{"name":"_callee6$","decl":{"start":{"line":558,"column":48},"end":{"line":558,"column":57}},"loc":{"start":{"line":558,"column":69},"end":{"line":687,"column":3}},"line":558},"12":{"name":"_callee7","decl":{"start":{"line":689,"column":63},"end":{"line":689,"column":71}},"loc":{"start":{"line":689,"column":82},"end":{"line":798,"column":1}},"line":689},"13":{"name":"_callee7$","decl":{"start":{"line":692,"column":48},"end":{"line":692,"column":57}},"loc":{"start":{"line":692,"column":69},"end":{"line":797,"column":3}},"line":692}},"branchMap":{"0":{"loc":{"start":{"line":33,"column":6},"end":{"line":50,"column":7}},"type":"switch","locations":[{"start":{"line":34,"column":8},"end":{"line":37,"column":63}},{"start":{"line":39,"column":8},"end":{"line":45,"column":13}},{"start":{"line":47,"column":8},"end":{"line":47,"column":15}},{"start":{"line":48,"column":8},"end":{"line":49,"column":33}}],"line":33},"1":{"loc":{"start":{"line":59,"column":6},"end":{"line":91,"column":7}},"type":"switch","locations":[{"start":{"line":60,"column":8},"end":{"line":64,"column":62}},{"start":{"line":66,"column":8},"end":{"line":80,"column":16}},{"start":{"line":82,"column":8},"end":{"line":86,"column":92}},{"start":{"line":88,"column":8},"end":{"line":88,"column":16}},{"start":{"line":89,"column":8},"end":{"line":90,"column":34}}],"line":59},"2":{"loc":{"start":{"line":71,"column":10},"end":{"line":77,"column":11}},"type":"if","locations":[{"start":{"line":71,"column":10},"end":{"line":77,"column":11}},{"start":{"line":71,"column":10},"end":{"line":77,"column":11}}],"line":71},"3":{"loc":{"start":{"line":101,"column":6},"end":{"line":202,"column":7}},"type":"switch","locations":[{"start":{"line":102,"column":8},"end":{"line":118,"column":14}},{"start":{"line":120,"column":8},"end":{"line":124,"column":70}},{"start":{"line":126,"column":8},"end":{"line":140,"column":120}},{"start":{"line":142,"column":8},"end":{"line":154,"column":14}},{"start":{"line":156,"column":8},"end":{"line":171,"column":16}},{"start":{"line":173,"column":8},"end":{"line":177,"column":14}},{"start":{"line":179,"column":8},"end":{"line":181,"column":16}},{"start":{"line":183,"column":8},"end":{"line":187,"column":92}},{"start":{"line":189,"column":8},"end":{"line":191,"column":16}},{"start":{"line":193,"column":8},"end":{"line":197,"column":14}},{"start":{"line":199,"column":8},"end":{"line":199,"column":16}},{"start":{"line":200,"column":8},"end":{"line":201,"column":34}}],"line":101},"4":{"loc":{"start":{"line":103,"column":10},"end":{"line":106,"column":11}},"type":"if","locations":[{"start":{"line":103,"column":10},"end":{"line":106,"column":11}},{"start":{"line":103,"column":10},"end":{"line":106,"column":11}}],"line":103},"5":{"loc":{"start":{"line":103,"column":16},"end":{"line":103,"column":62}},"type":"binary-expr","locations":[{"start":{"line":103,"column":16},"end":{"line":103,"column":24}},{"start":{"line":103,"column":28},"end":{"line":103,"column":45}},{"start":{"line":103,"column":49},"end":{"line":103,"column":62}}],"line":103},"6":{"loc":{"start":{"line":110,"column":10},"end":{"line":113,"column":11}},"type":"if","locations":[{"start":{"line":110,"column":10},"end":{"line":113,"column":11}},{"start":{"line":110,"column":10},"end":{"line":113,"column":11}}],"line":110},"7":{"loc":{"start":{"line":130,"column":10},"end":{"line":133,"column":11}},"type":"if","locations":[{"start":{"line":130,"column":10},"end":{"line":133,"column":11}},{"start":{"line":130,"column":10},"end":{"line":133,"column":11}}],"line":130},"8":{"loc":{"start":{"line":146,"column":10},"end":{"line":149,"column":11}},"type":"if","locations":[{"start":{"line":146,"column":10},"end":{"line":149,"column":11}},{"start":{"line":146,"column":10},"end":{"line":149,"column":11}}],"line":146},"9":{"loc":{"start":{"line":211,"column":6},"end":{"line":295,"column":7}},"type":"switch","locations":[{"start":{"line":212,"column":8},"end":{"line":228,"column":71}},{"start":{"line":230,"column":8},"end":{"line":242,"column":14}},{"start":{"line":244,"column":8},"end":{"line":247,"column":72}},{"start":{"line":249,"column":8},"end":{"line":264,"column":16}},{"start":{"line":266,"column":8},"end":{"line":270,"column":14}},{"start":{"line":272,"column":8},"end":{"line":274,"column":16}},{"start":{"line":276,"column":8},"end":{"line":280,"column":92}},{"start":{"line":282,"column":8},"end":{"line":284,"column":16}},{"start":{"line":286,"column":8},"end":{"line":290,"column":14}},{"start":{"line":292,"column":8},"end":{"line":292,"column":16}},{"start":{"line":293,"column":8},"end":{"line":294,"column":34}}],"line":211},"10":{"loc":{"start":{"line":213,"column":10},"end":{"line":216,"column":11}},"type":"if","locations":[{"start":{"line":213,"column":10},"end":{"line":216,"column":11}},{"start":{"line":213,"column":10},"end":{"line":216,"column":11}}],"line":213},"11":{"loc":{"start":{"line":221,"column":10},"end":{"line":224,"column":11}},"type":"if","locations":[{"start":{"line":221,"column":10},"end":{"line":224,"column":11}},{"start":{"line":221,"column":10},"end":{"line":224,"column":11}}],"line":221},"12":{"loc":{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},"type":"if","locations":[{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},{"start":{"line":234,"column":10},"end":{"line":237,"column":11}}],"line":234},"13":{"loc":{"start":{"line":304,"column":6},"end":{"line":551,"column":7}},"type":"switch","locations":[{"start":{"line":305,"column":8},"end":{"line":323,"column":71}},{"start":{"line":325,"column":8},"end":{"line":337,"column":14}},{"start":{"line":339,"column":8},"end":{"line":347,"column":70}},{"start":{"line":349,"column":8},"end":{"line":360,"column":77}},{"start":{"line":362,"column":8},"end":{"line":373,"column":14}},{"start":{"line":375,"column":8},"end":{"line":382,"column":14}},{"start":{"line":384,"column":8},"end":{"line":386,"column":77}},{"start":{"line":388,"column":8},"end":{"line":399,"column":14}},{"start":{"line":401,"column":8},"end":{"line":411,"column":16}},{"start":{"line":413,"column":8},"end":{"line":417,"column":86}},{"start":{"line":419,"column":8},"end":{"line":430,"column":14}},{"start":{"line":432,"column":8},"end":{"line":435,"column":80}},{"start":{"line":437,"column":8},"end":{"line":448,"column":14}},{"start":{"line":450,"column":8},"end":{"line":454,"column":71}},{"start":{"line":456,"column":8},"end":{"line":467,"column":83}},{"start":{"line":469,"column":8},"end":{"line":480,"column":14}},{"start":{"line":482,"column":8},"end":{"line":489,"column":14}},{"start":{"line":491,"column":8},"end":{"line":493,"column":78}},{"start":{"line":495,"column":8},"end":{"line":506,"column":14}},{"start":{"line":508,"column":8},"end":{"line":516,"column":13}},{"start":{"line":518,"column":8},"end":{"line":520,"column":16}},{"start":{"line":522,"column":8},"end":{"line":526,"column":14}},{"start":{"line":528,"column":8},"end":{"line":530,"column":16}},{"start":{"line":532,"column":8},"end":{"line":536,"column":92}},{"start":{"line":538,"column":8},"end":{"line":540,"column":16}},{"start":{"line":542,"column":8},"end":{"line":546,"column":14}},{"start":{"line":548,"column":8},"end":{"line":548,"column":16}},{"start":{"line":549,"column":8},"end":{"line":550,"column":34}}],"line":304},"14":{"loc":{"start":{"line":308,"column":10},"end":{"line":311,"column":11}},"type":"if","locations":[{"start":{"line":308,"column":10},"end":{"line":311,"column":11}},{"start":{"line":308,"column":10},"end":{"line":311,"column":11}}],"line":308},"15":{"loc":{"start":{"line":316,"column":10},"end":{"line":319,"column":11}},"type":"if","locations":[{"start":{"line":316,"column":10},"end":{"line":319,"column":11}},{"start":{"line":316,"column":10},"end":{"line":319,"column":11}}],"line":316},"16":{"loc":{"start":{"line":329,"column":10},"end":{"line":332,"column":11}},"type":"if","locations":[{"start":{"line":329,"column":10},"end":{"line":332,"column":11}},{"start":{"line":329,"column":10},"end":{"line":332,"column":11}}],"line":329},"17":{"loc":{"start":{"line":340,"column":10},"end":{"line":343,"column":11}},"type":"if","locations":[{"start":{"line":340,"column":10},"end":{"line":343,"column":11}},{"start":{"line":340,"column":10},"end":{"line":343,"column":11}}],"line":340},"18":{"loc":{"start":{"line":354,"column":10},"end":{"line":357,"column":11}},"type":"if","locations":[{"start":{"line":354,"column":10},"end":{"line":357,"column":11}},{"start":{"line":354,"column":10},"end":{"line":357,"column":11}}],"line":354},"19":{"loc":{"start":{"line":365,"column":10},"end":{"line":368,"column":11}},"type":"if","locations":[{"start":{"line":365,"column":10},"end":{"line":368,"column":11}},{"start":{"line":365,"column":10},"end":{"line":368,"column":11}}],"line":365},"20":{"loc":{"start":{"line":391,"column":10},"end":{"line":394,"column":11}},"type":"if","locations":[{"start":{"line":391,"column":10},"end":{"line":394,"column":11}},{"start":{"line":391,"column":10},"end":{"line":394,"column":11}}],"line":391},"21":{"loc":{"start":{"line":422,"column":10},"end":{"line":425,"column":11}},"type":"if","locations":[{"start":{"line":422,"column":10},"end":{"line":425,"column":11}},{"start":{"line":422,"column":10},"end":{"line":425,"column":11}}],"line":422},"22":{"loc":{"start":{"line":440,"column":10},"end":{"line":443,"column":11}},"type":"if","locations":[{"start":{"line":440,"column":10},"end":{"line":443,"column":11}},{"start":{"line":440,"column":10},"end":{"line":443,"column":11}}],"line":440},"23":{"loc":{"start":{"line":461,"column":10},"end":{"line":464,"column":11}},"type":"if","locations":[{"start":{"line":461,"column":10},"end":{"line":464,"column":11}},{"start":{"line":461,"column":10},"end":{"line":464,"column":11}}],"line":461},"24":{"loc":{"start":{"line":472,"column":10},"end":{"line":475,"column":11}},"type":"if","locations":[{"start":{"line":472,"column":10},"end":{"line":475,"column":11}},{"start":{"line":472,"column":10},"end":{"line":475,"column":11}}],"line":472},"25":{"loc":{"start":{"line":498,"column":10},"end":{"line":501,"column":11}},"type":"if","locations":[{"start":{"line":498,"column":10},"end":{"line":501,"column":11}},{"start":{"line":498,"column":10},"end":{"line":501,"column":11}}],"line":498},"26":{"loc":{"start":{"line":560,"column":6},"end":{"line":685,"column":7}},"type":"switch","locations":[{"start":{"line":561,"column":8},"end":{"line":579,"column":71}},{"start":{"line":581,"column":8},"end":{"line":593,"column":14}},{"start":{"line":595,"column":8},"end":{"line":598,"column":127}},{"start":{"line":600,"column":8},"end":{"line":609,"column":132}},{"start":{"line":611,"column":8},"end":{"line":622,"column":14}},{"start":{"line":624,"column":8},"end":{"line":626,"column":167}},{"start":{"line":628,"column":8},"end":{"line":639,"column":14}},{"start":{"line":641,"column":8},"end":{"line":654,"column":16}},{"start":{"line":656,"column":8},"end":{"line":660,"column":14}},{"start":{"line":662,"column":8},"end":{"line":664,"column":16}},{"start":{"line":666,"column":8},"end":{"line":670,"column":92}},{"start":{"line":672,"column":8},"end":{"line":674,"column":16}},{"start":{"line":676,"column":8},"end":{"line":680,"column":14}},{"start":{"line":682,"column":8},"end":{"line":682,"column":16}},{"start":{"line":683,"column":8},"end":{"line":684,"column":34}}],"line":560},"27":{"loc":{"start":{"line":564,"column":10},"end":{"line":567,"column":11}},"type":"if","locations":[{"start":{"line":564,"column":10},"end":{"line":567,"column":11}},{"start":{"line":564,"column":10},"end":{"line":567,"column":11}}],"line":564},"28":{"loc":{"start":{"line":564,"column":16},"end":{"line":564,"column":45}},"type":"binary-expr","locations":[{"start":{"line":564,"column":16},"end":{"line":564,"column":26}},{"start":{"line":564,"column":30},"end":{"line":564,"column":45}}],"line":564},"29":{"loc":{"start":{"line":572,"column":10},"end":{"line":575,"column":11}},"type":"if","locations":[{"start":{"line":572,"column":10},"end":{"line":575,"column":11}},{"start":{"line":572,"column":10},"end":{"line":575,"column":11}}],"line":572},"30":{"loc":{"start":{"line":585,"column":10},"end":{"line":588,"column":11}},"type":"if","locations":[{"start":{"line":585,"column":10},"end":{"line":588,"column":11}},{"start":{"line":585,"column":10},"end":{"line":588,"column":11}}],"line":585},"31":{"loc":{"start":{"line":603,"column":10},"end":{"line":606,"column":11}},"type":"if","locations":[{"start":{"line":603,"column":10},"end":{"line":606,"column":11}},{"start":{"line":603,"column":10},"end":{"line":606,"column":11}}],"line":603},"32":{"loc":{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},"type":"if","locations":[{"start":{"line":614,"column":10},"end":{"line":617,"column":11}},{"start":{"line":614,"column":10},"end":{"line":617,"column":11}}],"line":614},"33":{"loc":{"start":{"line":631,"column":10},"end":{"line":634,"column":11}},"type":"if","locations":[{"start":{"line":631,"column":10},"end":{"line":634,"column":11}},{"start":{"line":631,"column":10},"end":{"line":634,"column":11}}],"line":631},"34":{"loc":{"start":{"line":694,"column":6},"end":{"line":795,"column":7}},"type":"switch","locations":[{"start":{"line":695,"column":8},"end":{"line":713,"column":71}},{"start":{"line":715,"column":8},"end":{"line":727,"column":14}},{"start":{"line":729,"column":8},"end":{"line":732,"column":168}},{"start":{"line":734,"column":8},"end":{"line":745,"column":14}},{"start":{"line":747,"column":8},"end":{"line":764,"column":16}},{"start":{"line":766,"column":8},"end":{"line":770,"column":14}},{"start":{"line":772,"column":8},"end":{"line":774,"column":16}},{"start":{"line":776,"column":8},"end":{"line":780,"column":92}},{"start":{"line":782,"column":8},"end":{"line":784,"column":16}},{"start":{"line":786,"column":8},"end":{"line":790,"column":14}},{"start":{"line":792,"column":8},"end":{"line":792,"column":16}},{"start":{"line":793,"column":8},"end":{"line":794,"column":34}}],"line":694},"35":{"loc":{"start":{"line":698,"column":10},"end":{"line":701,"column":11}},"type":"if","locations":[{"start":{"line":698,"column":10},"end":{"line":701,"column":11}},{"start":{"line":698,"column":10},"end":{"line":701,"column":11}}],"line":698},"36":{"loc":{"start":{"line":698,"column":16},"end":{"line":698,"column":46}},"type":"binary-expr","locations":[{"start":{"line":698,"column":16},"end":{"line":698,"column":26}},{"start":{"line":698,"column":30},"end":{"line":698,"column":46}}],"line":698},"37":{"loc":{"start":{"line":706,"column":10},"end":{"line":709,"column":11}},"type":"if","locations":[{"start":{"line":706,"column":10},"end":{"line":709,"column":11}},{"start":{"line":706,"column":10},"end":{"line":709,"column":11}}],"line":706},"38":{"loc":{"start":{"line":719,"column":10},"end":{"line":722,"column":11}},"type":"if","locations":[{"start":{"line":719,"column":10},"end":{"line":722,"column":11}},{"start":{"line":719,"column":10},"end":{"line":722,"column":11}}],"line":719},"39":{"loc":{"start":{"line":737,"column":10},"end":{"line":740,"column":11}},"type":"if","locations":[{"start":{"line":737,"column":10},"end":{"line":740,"column":11}},{"start":{"line":737,"column":10},"end":{"line":740,"column":11}}],"line":737}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":2,"18":2,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":5,"49":15,"50":40,"51":5,"52":0,"53":0,"54":5,"55":5,"56":5,"57":5,"58":0,"59":5,"60":5,"61":5,"62":5,"63":5,"64":5,"65":0,"66":0,"67":5,"68":5,"69":5,"70":5,"71":5,"72":5,"73":5,"74":5,"75":5,"76":5,"77":0,"78":5,"79":5,"80":5,"81":5,"82":0,"83":5,"84":5,"85":0,"86":0,"87":0,"88":0,"89":5,"90":5,"91":0,"92":5,"93":1,"94":1,"95":3,"96":7,"97":1,"98":0,"99":0,"100":1,"101":1,"102":1,"103":0,"104":0,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":0,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":0,"123":1,"124":1,"125":0,"126":0,"127":0,"128":0,"129":1,"130":1,"131":0,"132":1,"133":1,"134":2,"135":10,"136":26,"137":2,"138":2,"139":0,"140":0,"141":2,"142":2,"143":2,"144":0,"145":0,"146":2,"147":2,"148":2,"149":2,"150":2,"151":2,"152":2,"153":2,"154":0,"155":2,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":0,"182":1,"183":1,"184":1,"185":1,"186":1,"187":1,"188":1,"189":1,"190":1,"191":1,"192":1,"193":0,"194":1,"195":1,"196":1,"197":1,"198":1,"199":1,"200":1,"201":0,"202":1,"203":1,"204":1,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":1,"220":1,"221":1,"222":1,"223":1,"224":1,"225":0,"226":1,"227":1,"228":2,"229":2,"230":0,"231":2,"232":2,"233":0,"234":0,"235":0,"236":0,"237":2,"238":2,"239":0,"240":2,"241":1,"242":2,"243":10,"244":22,"245":2,"246":2,"247":0,"248":0,"249":2,"250":2,"251":2,"252":0,"253":0,"254":2,"255":2,"256":2,"257":2,"258":2,"259":2,"260":2,"261":2,"262":0,"263":2,"264":2,"265":2,"266":2,"267":2,"268":0,"269":0,"270":2,"271":2,"272":2,"273":2,"274":2,"275":2,"276":0,"277":2,"278":2,"279":2,"280":2,"281":2,"282":2,"283":0,"284":2,"285":2,"286":2,"287":2,"288":0,"289":2,"290":2,"291":0,"292":0,"293":0,"294":0,"295":2,"296":2,"297":0,"298":2,"299":1,"300":1,"301":3,"302":8,"303":1,"304":1,"305":0,"306":0,"307":1,"308":1,"309":1,"310":0,"311":0,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":0,"321":1,"322":1,"323":1,"324":1,"325":1,"326":1,"327":1,"328":0,"329":1,"330":1,"331":1,"332":1,"333":0,"334":1,"335":1,"336":0,"337":0,"338":0,"339":0,"340":1,"341":1,"342":0,"343":1,"344":1},"f":{"0":1,"1":2,"2":0,"3":0,"4":5,"5":15,"6":1,"7":3,"8":2,"9":10,"10":2,"11":10,"12":1,"13":3},"b":{"0":[1,1,1,1],"1":[0,0,0,0,0],"2":[0,0],"3":[5,5,5,5,5,0,5,0,5,0,5,5],"4":[0,5],"5":[5,5,5],"6":[5,0],"7":[0,5],"8":[5,0],"9":[1,1,1,1,0,1,0,1,0,1,1],"10":[0,1],"11":[0,1],"12":[1,0],"13":[2,2,2,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,1,1,2,0,2,0,2,0,2,2],"14":[0,2],"15":[0,2],"16":[2,0],"17":[1,1],"18":[1,0],"19":[0,0],"20":[1,0],"21":[1,0],"22":[1,0],"23":[1,0],"24":[0,0],"25":[1,0],"26":[2,2,2,2,2,2,2,2,0,2,0,2,0,2,2],"27":[0,2],"28":[2,2],"29":[0,2],"30":[2,0],"31":[0,2],"32":[2,0],"33":[2,0],"34":[1,1,1,1,1,0,1,0,1,0,1,1],"35":[0,1],"36":[1,1],"37":[0,1],"38":[1,0],"39":[1,0]},"inputSourceMap":{"version":3,"sources":["gifs.js"],"names":["express","require","debug","router","Router","Auth","multerUploads","dataUri","uploader","ErrorHandler","db","Helper","get","verifyToken","req","res","feed","query","feeds","status","json","data","rows","sql","post","file","body","category","text","parseInt","user","id","userId","error","content","upload","results","toTitleCase","gif","trim","url","message","createdOn","posted_date","title","gifId","imageUrl","gifurl","user_id","params","Number","isInteger","sql2","comments","pid","split","reverse","destroy","result","delG","deletedGif","deletedG","admin","sql3","flagged","pid2","delG2","patch","reason","gifFlag","flag","flagId","comment","gifComment","comment_date","gifTitle","gifUrl","gifCreatedBy","commentId","commentedBy","module","exports"],"mappings":"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","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\n\r\nconst router = express.Router();\r\nconst Auth = require('../../auth/middleware/auth.js');\r\nconst { multerUploads, dataUri } = require('../../auth/middleware/multer.js');\r\nconst { uploader } = require('../../../cloudinaryConfig.js');\r\nconst { ErrorHandler } = require('../../auth/middleware/error');\r\nconst db = require('../../db/index.js');\r\nconst Helper = require('../../auth/helper.js');\r\n\r\nrouter.get('/feed', Auth.verifyToken, async (req, res) => {\r\n  const feed = `SELECT articles.id as id, articles.category as category, articles.title as title, articles.text as article_url, \r\n    articles.posted_date as createdOn, articles.article_flagged as flagged, articles.user_id AS authorId,\r\n    'Article' as type, count(articles_comments.id) as comments FROM articles \r\n    LEFT JOIN articles_comments ON articles.id = articles_comments.article GROUP BY articles.id UNION \r\n    SELECT gifs.id as id, gifs.category as category, gifs.category as title, gifs.gifurl as url, gifs.posted_date as createdOn, \r\n    gifs.gif_flagged as flagged, gifs.user_id AS authorId, 'Gif' as type, count(gif_comments.id) as comments \r\n    FROM gifs LEFT JOIN gif_comments ON gifs.id = gif_comments.gif GROUP BY gifs.id ORDER BY createdOn DESC`;\r\n  const feeds = await db.query(feed);\r\n  res.status(200);\r\n  res.json({\r\n    status: 'success',\r\n    data: feeds.rows\r\n  });\r\n});\r\n\r\nrouter.get('/gifs', Auth.verifyToken, async (req, res) => {\r\n  try {\r\n    const sql =\r\n      'SELECT gifs.id as id, gifs.category as title, gifs.gifurl as url, gifs.text as text, gifs.posted_date as createdOn, gifs.gif_flagged as flagged, gifs.user_id AS authorId,count(gif_comments.id) as comments FROM gifs LEFT JOIN gif_comments ON gifs.id = gif_comments.gif GROUP BY gifs.id ORDER BY posted_date DESC';\r\n    const { rows } = await db.query(sql);\r\n    debug(rows);\r\n    if (rows) {\r\n      res.status(200);\r\n      res.json({\r\n        status: 'success',\r\n        data: rows\r\n      });\r\n    }\r\n  } catch (error) {\r\n    debug(error);\r\n    throw new ErrorHandler(\r\n      500,\r\n      'something went wrong while processing your request'\r\n    );\r\n  }\r\n});\r\n\r\n// eslint-disable-next-line consistent-return\r\nrouter.post('/gifs', Auth.verifyToken, multerUploads, async (req, res) => {\r\n  /* check if request has the file and body containing the Gif Title\r\n  and some brief text in regards to the GIF posted */\r\n  if (req.file && req.body.category && req.body.text) {\r\n    try {\r\n      /* check if authenticated(token) user is same as the user in request body */\r\n      // eslint-disable-next-line radix\r\n      if (parseInt(req.user.id) !== parseInt(req.body.userId)) {\r\n        return res.status(401).json({\r\n          status: 'error',\r\n          error: 'Invalid user'\r\n        });\r\n      }\r\n      // debug(req.body);\r\n      const file = dataUri(req).content;\r\n      const results = await uploader.upload(file);\r\n      debug(results);\r\n      if (results) {\r\n        const category = Helper.toTitleCase(req.body.category);\r\n        const text = Helper.toTitleCase(req.body.text);\r\n        // debug(results);\r\n        const gif =\r\n          'INSERT INTO gifs(category, gifurl, text, user_id) VALUES ($1, $2, $3, $4) returning *';\r\n        const { rows } = await db.query(gif, [\r\n          category.trim(),\r\n          results.url,\r\n          text.trim(),\r\n          req.user.id\r\n        ]);\r\n        if (!rows[0]) {\r\n          return res.status(500).json({\r\n            status: 'error',\r\n            error: 'something went wrong while saving your request'\r\n          });\r\n        }\r\n        // success and saved to db\r\n        res.status(201);\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            message: 'GIF image successfully posted',\r\n            createdOn: rows[0].posted_date,\r\n            title: rows[0].category,\r\n            gifId: rows[0].id,\r\n            imageUrl: rows[0].gifurl,\r\n            userId: rows[0].user_id\r\n          }\r\n        });\r\n      } else {\r\n        return res.status(500).json({\r\n          status: 'error',\r\n          error: 'something went wrong while processing your request'\r\n        });\r\n        // throw new ErrorHandler(\r\n        //   500,\r\n        //   'someting went wrong while processing your request'\r\n        // );\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      error: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.get('/gifs/:gifId', Auth.verifyToken, async (req, res) => {\r\n  if (req.params) {\r\n    try {\r\n      const gifId = Number(req.params.gifId);\r\n      if (Number.isInteger(gifId)) {\r\n        const sql = 'Select * from gifs where id=$1';\r\n        const { rows } = await db.query(sql, [gifId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Gif not found'\r\n          });\r\n        }\r\n        const sql2 =\r\n          'select id as commentId,user_id as authorId,text as comment from gif_comments where gif=$1 ORDER BY comment_date desc';\r\n        const comments = await db.query(sql2, [gifId]);\r\n        res.status(200);\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            id: rows[0].id,\r\n            createdOn: rows[0].posted_date,\r\n            title: rows[0].category,\r\n            url: rows[0].gifurl,\r\n            userId: rows[0].user_id,\r\n            comments: comments.rows\r\n          }\r\n        });\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.delete('/gifs/:gifId', Auth.verifyToken, async (req, res) => {\r\n  debug(req.params);\r\n  if (req.params) {\r\n    try {\r\n      const gifId = Number(req.params.gifId);\r\n      if (Number.isInteger(gifId)) {\r\n        const sql = 'Select * from gifs where id=$1';\r\n        const { rows } = await db.query(sql, [gifId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Gif not found'\r\n          });\r\n        }\r\n        if (req.user.id === rows[0].user_id) {\r\n          const pid = rows[0].gifurl\r\n            .split('/')\r\n            .reverse()[0]\r\n            .split('.')[0];\r\n          const { result } = await uploader.destroy(pid);\r\n          const delG = 'Delete from gifs where id=$1 RETURNING *';\r\n          if (result !== 'ok') {\r\n            /* delete in db any way */\r\n            const deletedGif = await db.query(delG, [rows[0].id]);\r\n            if (!deletedGif.rows[0]) {\r\n              return res.status(404).json({\r\n                status: 'error',\r\n                message: 'Gif not found'\r\n              });\r\n            }\r\n            return res.status(200).json({\r\n              status: 'success',\r\n              data: {\r\n                message: 'gif post successfully deleted',\r\n                gifId: deletedGif.rows[0].id\r\n              }\r\n            });\r\n          }\r\n          const deletedG = await db.query(delG, [rows[0].id]);\r\n          if (!deletedG.rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Gif not found'\r\n            });\r\n          }\r\n          res.status(200);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'gif post successfully deleted',\r\n              gifId: deletedG.rows[0].id\r\n            }\r\n          });\r\n        } else {\r\n          /* check if user is admin and GIF has been flagged as inappropriate */\r\n          const sql2 =\r\n            'SELECT * FROM sys_users WHERE id = $1 and is_superuser = $2';\r\n          const admin = await db.query(sql2, [req.user.id, 'True']);\r\n          if (!admin.rows[0]) {\r\n            return res.status(401).json({\r\n              status: 'error',\r\n              message: 'You are not allowed to do this'\r\n            });\r\n          }\r\n          const sql3 = 'Select * from gifs where id=$1 and gif_flagged =$2';\r\n          const flagged = await db.query(sql3, [gifId, 'True']);\r\n          if (!flagged.rows[0]) {\r\n            return res.status(401).json({\r\n              status: 'error',\r\n              message: 'You are not allowed to do this'\r\n            });\r\n          }\r\n          /* admin can now delete flagged gifs- inappropriate */\r\n          const pid2 = flagged.rows[0].gifurl\r\n            .split('/')\r\n            .reverse()[0]\r\n            .split('.')[0];\r\n          const { result } = await uploader.destroy(pid2);\r\n          const delG2 = 'Delete from gifs where id=$1 RETURNING *';\r\n          if (result !== 'ok') {\r\n            /* delete in db any way */\r\n            const deletedGif = await db.query(delG2, [flagged.rows[0]]);\r\n            if (!deletedGif.rows[0]) {\r\n              return res.status(404).json({\r\n                status: 'error',\r\n                message: 'Gif not found'\r\n              });\r\n            }\r\n            return res.status(200).json({\r\n              status: 'success',\r\n              data: {\r\n                message: 'gif post flagged successfully deleted',\r\n                gifId: deletedGif.rows[0].id\r\n              }\r\n            });\r\n          }\r\n          const deletedG = await db.query(delG2, [rows[0].id]);\r\n          if (!deletedG.rows[0]) {\r\n            return res.status(404).json({\r\n              status: 'error',\r\n              message: 'Gif not found'\r\n            });\r\n          }\r\n          res.status(200);\r\n          res.json({\r\n            status: 'success',\r\n            data: {\r\n              message: 'gif post flagged successfully deleted',\r\n              gifId: deletedG.rows[0].id\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.patch('/gifs/:gifId/flag', Auth.verifyToken, async (req, res) => {\r\n  debug(req.params);\r\n  if (req.params && req.body.reason) {\r\n    try {\r\n      const gifId = Number(req.params.gifId);\r\n      if (Number.isInteger(gifId)) {\r\n        const sql = 'Select * from gifs where id=$1';\r\n        const { rows } = await db.query(sql, [gifId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Gif not found'\r\n          });\r\n        }\r\n        const reason = Helper.toTitleCase(req.body.reason);\r\n        const flagged = await db.query(\r\n          'Select * from gifs where gif_flagged=$1 and id=$2',\r\n          ['True', gifId]\r\n        );\r\n        if (!flagged.rows[0]) {\r\n          const gifFlag = await db.query(\r\n            'UPDATE gifs SET gif_flagged=$1 where id=$2 returning *',\r\n            ['True', gifId]\r\n          );\r\n          if (!gifFlag.rows[0]) {\r\n            return res.status(500).json({\r\n              status: 'error',\r\n              message: 'something went wrong while processing your request'\r\n            });\r\n          }\r\n        }\r\n        const flag = await db.query(\r\n          'INSERT INTO gifs_flags(gif, reason, user_id) VALUES ($1, $2, $3) returning *',\r\n          [gifId, reason, req.user.id]\r\n        );\r\n        if (!flag.rows[0]) {\r\n          return res.status(500).json({\r\n            status: 'error',\r\n            message: 'something went wrong while processing your request'\r\n          });\r\n        }\r\n        res.status(200);\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            message: 'gif successfully flagged as inapproriate',\r\n            gifId,\r\n            flagId: flag.rows[0].id,\r\n            reason: flag.rows[0].reason,\r\n            userId: flag.rows[0].user_id\r\n          }\r\n        });\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nrouter.post('/gifs/:gifId/comment', Auth.verifyToken, async (req, res) => {\r\n  debug(req.params);\r\n  if (req.params && req.body.comment) {\r\n    try {\r\n      const gifId = Number(req.params.gifId);\r\n      if (Number.isInteger(gifId)) {\r\n        const sql = 'Select * from gifs where id=$1';\r\n        const { rows } = await db.query(sql, [gifId]);\r\n        if (!rows[0]) {\r\n          return res.status(404).json({\r\n            status: 'error',\r\n            message: 'Gif not found'\r\n          });\r\n        }\r\n        const comment = Helper.toTitleCase(req.body.comment);\r\n        const gifComment = await db.query(\r\n          'INSERT INTO gif_comments(gif, text, user_id) VALUES ($1, $2, $3) returning *',\r\n          [gifId, comment, req.user.id]\r\n        );\r\n        if (!gifComment.rows[0]) {\r\n          return res.status(500).json({\r\n            status: 'error',\r\n            message: 'something went wrong while processing your request'\r\n          });\r\n        }\r\n        res.status(201);\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            message: 'comment successfully created',\r\n            gifId,\r\n            createdOn: gifComment.rows[0].comment_date,\r\n            gifTitle: rows[0].reason,\r\n            gifUrl: rows[0].gifurl,\r\n            gifCreatedBy: rows[0].user_id,\r\n            commentId: gifComment.rows[0].id,\r\n            comment: gifComment.rows[0].text,\r\n            commentedBy: gifComment.rows[0].user_id\r\n          }\r\n        });\r\n      } else {\r\n        return res.status(400).json({\r\n          status: 'error',\r\n          message: 'Incomplete request'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      debug(error);\r\n      throw new ErrorHandler(\r\n        500,\r\n        'something went wrong while processing your request'\r\n      );\r\n    }\r\n  } else {\r\n    return res.status(400).json({\r\n      status: 'error',\r\n      message: 'Incomplete request'\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0644d1a584d5870e99f227af8069cfc1e37d263c","contentHash":"88d6726ab608c4c634547d7df84103ebc5527d4fbad9e5ba7085e676a46b0cc8"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\multer.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware\\multer.js","statementMap":{"0":{"start":{"line":3,"column":13},"end":{"line":3,"column":30}},"1":{"start":{"line":5,"column":14},"end":{"line":5,"column":32}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":26}},"3":{"start":{"line":9,"column":15},"end":{"line":9,"column":53}},"4":{"start":{"line":10,"column":19},"end":{"line":10,"column":40}},"5":{"start":{"line":12,"column":14},"end":{"line":12,"column":36}},"6":{"start":{"line":13,"column":20},"end":{"line":25,"column":16}},"7":{"start":{"line":17,"column":14},"end":{"line":17,"column":45}},"8":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"9":{"start":{"line":20,"column":6},"end":{"line":20,"column":76}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":25}},"11":{"start":{"line":26,"column":11},"end":{"line":26,"column":24}},"12":{"start":{"line":28,"column":14},"end":{"line":30,"column":1}},"13":{"start":{"line":29,"column":2},"end":{"line":29,"column":86}},"14":{"start":{"line":32,"column":0},"end":{"line":35,"column":2}}},"fnMap":{"0":{"name":"fileFilter","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":33}},"loc":{"start":{"line":16,"column":55},"end":{"line":24,"column":3}},"line":16},"1":{"name":"dataUri","decl":{"start":{"line":28,"column":23},"end":{"line":28,"column":30}},"loc":{"start":{"line":28,"column":36},"end":{"line":30,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},{"start":{"line":19,"column":4},"end":{"line":21,"column":5}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":6,"9":1,"10":5,"11":1,"12":1,"13":5,"14":1},"f":{"0":6,"1":5},"b":{"0":[1,5]},"inputSourceMap":{"version":3,"sources":["multer.js"],"names":["multer","require","Datauri","path","ErrorHandler","storage","memoryStorage","multerUploads","fileFilter","req","file","callback","ext","extname","originalname","single","dUri","dataUri","format","toString","buffer","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;eAEyBA,OAAO,CAAC,6BAAD,C;IAAxBG,Y,YAAAA,Y;;AAER,IAAMC,OAAO,GAAGL,MAAM,CAACM,aAAP,EAAhB;AAEA,IAAMC,aAAa,GAAGP,MAAM,CAAC;AAC3BK,EAAAA,OAAO,EAAPA,OAD2B;AAE3B;AACAG,EAAAA,UAH2B,sBAGhBC,GAHgB,EAGXC,IAHW,EAGLC,QAHK,EAGK;AAC9B,QAAMC,GAAG,GAAGT,IAAI,CAACU,OAAL,CAAaH,IAAI,CAACI,YAAlB,CAAZ;;AACA,QAAIF,GAAG,KAAK,MAAZ,EAAoB;AAClB,aAAOD,QAAQ,CAAC,IAAIP,YAAJ,CAAiB,GAAjB,EAAsB,6BAAtB,CAAD,CAAf,CADkB,CAElB;AACD;;AACDO,IAAAA,QAAQ,CAAC,IAAD,EAAO,IAAP,CAAR;AACD;AAV0B,CAAD,CAAN,CAWnBI,MAXmB,CAWZ,KAXY,CAAtB;AAYA,IAAMC,IAAI,GAAG,IAAId,OAAJ,EAAb,C,CAEA;;AACA,IAAMe,OAAO,GAAG,SAAVA,OAAU,CAAAR,GAAG;AAAA,SACjBO,IAAI,CAACE,MAAL,CAAYf,IAAI,CAACU,OAAL,CAAaJ,GAAG,CAACC,IAAJ,CAASI,YAAtB,EAAoCK,QAApC,EAAZ,EAA4DV,GAAG,CAACC,IAAJ,CAASU,MAArE,CADiB;AAAA,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAAEf,EAAAA,aAAa,EAAbA,aAAF;AAAiBU,EAAAA,OAAO,EAAPA;AAAjB,CAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\middleware","sourcesContent":["const multer = require('multer');\r\nconst Datauri = require('datauri');\r\nconst path = require('path');\r\n\r\nconst { ErrorHandler } = require('../../auth/middleware/error');\r\n\r\nconst storage = multer.memoryStorage();\r\n\r\nconst multerUploads = multer({\r\n  storage,\r\n  // eslint-disable-next-line consistent-return\r\n  fileFilter(req, file, callback) {\r\n    const ext = path.extname(file.originalname);\r\n    if (ext !== '.gif') {\r\n      return callback(new ErrorHandler(400, 'Only GIF images are allowed'));\r\n      // return callback(new Error('nly GIF images are allowed'));\r\n    }\r\n    callback(null, true);\r\n  }\r\n}).single('gif');\r\nconst dUri = new Datauri();\r\n\r\n// eslint-disable-next-line max-len\r\nconst dataUri = req =>\r\n  dUri.format(path.extname(req.file.originalname).toString(), req.file.buffer);\r\nmodule.exports = { multerUploads, dataUri };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"831d5f02a387425e81d3b3f7b749011803325038","contentHash":"08c8e8260de9f1c364260b3ad5e2e23b54228e3dddbf5fbecf53c73fc3c2c853"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\cloudinaryConfig.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\cloudinaryConfig.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":36}},"2":{"start":{"line":6,"column":13},"end":{"line":6,"column":28}},"3":{"start":{"line":7,"column":15},"end":{"line":7,"column":32}},"4":{"start":{"line":9,"column":23},"end":{"line":16,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":14,"column":5}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":9}},"7":{"start":{"line":28,"column":0},"end":{"line":31,"column":2}}},"fnMap":{"0":{"name":"cloudinaryConfig","decl":{"start":{"line":9,"column":32},"end":{"line":9,"column":48}},"loc":{"start":{"line":9,"column":65},"end":{"line":16,"column":1}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":60,"6":60,"7":1},"f":{"0":60},"b":{},"inputSourceMap":{"version":3,"sources":["cloudinaryConfig.js"],"names":["require","config","uploader","cloudinaryConfig","req","res","next","cloud_name","process","env","api_key","api_secret","module","exports"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;eAC6BD,OAAO,CAAC,YAAD,C;IAA5BC,M,YAAAA,M;IAAQC,Q,YAAAA,Q;;AAEhB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3CL,EAAAA,MAAM,CAAC;AACLM,IAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYF,UADnB;AAELG,IAAAA,OAAO,EAAEF,OAAO,CAACC,GAAR,CAAYC,OAFhB;AAGLC,IAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE;AAHnB,GAAD,CAAN;AAKAL,EAAAA,IAAI;AACL,CAPD,C,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAM,MAAM,CAACC,OAAP,GAAiB;AAAEV,EAAAA,gBAAgB,EAAhBA,gBAAF;AAAoBD,EAAAA,QAAQ,EAARA;AAApB,CAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API","sourcesContent":["require('dotenv').config();\r\nconst { config, uploader } = require('cloudinary');\r\n\r\nconst cloudinaryConfig = (req, res, next) => {\r\n  config({\r\n    cloud_name: process.env.cloud_name,\r\n    api_key: process.env.api_key,\r\n    api_secret: process.env.api_secret\r\n  });\r\n  next();\r\n};\r\n\r\n// exports.uploads = file =>\r\n//   new Promise(resolve => {\r\n//     cloudinary.uploader.upload(\r\n//       file,\r\n//       result => {\r\n//         resolve({ url: result.url, id: result.public_id });\r\n//       },\r\n//       { resource_type: 'auto' }\r\n//     );\r\n//   });\r\nmodule.exports = { cloudinaryConfig, uploader };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d483172a15fa8be24dd97f938a4bdd8beef1d4ba","contentHash":"0fd7a6d20713eb9c3b2197ee16658e6449c497753a02762b8e4f57bde2448ec8"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\gifs_comments.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\gifs_comments.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":13},"end":{"line":5,"column":29}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":51}},"3":{"start":{"line":9,"column":0},"end":{"line":15,"column":3}},"4":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"5":{"start":{"line":11,"column":2},"end":{"line":14,"column":5}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":54},"end":{"line":9,"column":55}},"loc":{"start":{"line":9,"column":74},"end":{"line":15,"column":1}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"sources":["gifs_comments.js"],"names":["express","require","router","Router","Auth","post","verifyToken","req","res","status","json","message","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,IAAI,GAAGH,OAAO,CAAC,+BAAD,CAApB;;AAEAC,MAAM,CAACG,IAAP,CAAY,sBAAZ,EAAoCD,IAAI,CAACE,WAAzC,EAAsD,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClEA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,IAAAA,MAAM,EAAE,SADD;AAEPE,IAAAA,OAAO,EAAE;AAFF,GAAT;AAID,CAND;AAQAC,MAAM,CAACC,OAAP,GAAiBX,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\n\r\nconst router = express.Router();\r\nconst Auth = require('../../auth/middleware/auth.js');\r\n\r\nrouter.post('/gifs/:gifId/comment', Auth.verifyToken, (req, res) => {\r\n  res.status(201);\r\n  res.json({\r\n    status: 'success',\r\n    message: 'Welcome to Api v1'\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2ad683e30b89bc67b675a160e776da5a7252a236","contentHash":"adf68152292271960c6684f8b255b130ae8e5075d712eb3076bfa2f3268e1133"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\articles_comment.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\articles_comment.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":32}},"1":{"start":{"line":5,"column":13},"end":{"line":5,"column":29}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":51}},"3":{"start":{"line":9,"column":0},"end":{"line":15,"column":3}},"4":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"5":{"start":{"line":11,"column":2},"end":{"line":14,"column":5}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":62},"end":{"line":9,"column":63}},"loc":{"start":{"line":9,"column":82},"end":{"line":15,"column":1}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"sources":["articles_comment.js"],"names":["express","require","router","Router","Auth","post","verifyToken","req","res","status","json","message","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,IAAI,GAAGH,OAAO,CAAC,+BAAD,CAApB;;AAEAC,MAAM,CAACG,IAAP,CAAY,8BAAZ,EAA4CD,IAAI,CAACE,WAAjD,EAA8D,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1EA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,IAAAA,MAAM,EAAE,SADD;AAEPE,IAAAA,OAAO,EAAE;AAFF,GAAT;AAID,CAND;AAQAC,MAAM,CAACC,OAAP,GAAiBX,MAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\n\r\nconst router = express.Router();\r\nconst Auth = require('../../auth/middleware/auth.js');\r\n\r\nrouter.post('/articles/:articleId/comment', Auth.verifyToken, (req, res) => {\r\n  res.status(201);\r\n  res.json({\r\n    status: 'success',\r\n    message: 'Welcome to Api v1'\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e33fecfd5e987925eff8ec48365697d2e5ec6744","contentHash":"2fc2a31ccdf24cee3dccc9b1f5946dfb7132e34bc64725dbd7ef3b088c8b0d29"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\auth_login.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers\\auth_login.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":32}},"3":{"start":{"line":9,"column":19},"end":{"line":9,"column":42}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":30}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":29}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":58}},"7":{"start":{"line":17,"column":11},"end":{"line":17,"column":51}},"8":{"start":{"line":19,"column":15},"end":{"line":19,"column":48}},"9":{"start":{"line":21,"column":13},"end":{"line":21,"column":44}},"10":{"start":{"line":23,"column":9},"end":{"line":23,"column":37}},"11":{"start":{"line":25,"column":15},"end":{"line":25,"column":53}},"12":{"start":{"line":26,"column":19},"end":{"line":26,"column":40}},"13":{"start":{"line":29,"column":0},"end":{"line":144,"column":3}},"14":{"start":{"line":33,"column":2},"end":{"line":143,"column":28}},"15":{"start":{"line":34,"column":4},"end":{"line":142,"column":5}},"16":{"start":{"line":35,"column":6},"end":{"line":141,"column":7}},"17":{"start":{"line":37,"column":10},"end":{"line":37,"column":28}},"18":{"start":{"line":39,"column":10},"end":{"line":42,"column":11}},"19":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"20":{"start":{"line":41,"column":12},"end":{"line":41,"column":18}},"21":{"start":{"line":44,"column":10},"end":{"line":44,"column":99}},"22":{"start":{"line":47,"column":10},"end":{"line":50,"column":11}},"23":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"24":{"start":{"line":49,"column":12},"end":{"line":49,"column":18}},"25":{"start":{"line":52,"column":10},"end":{"line":52,"column":102}},"26":{"start":{"line":55,"column":10},"end":{"line":55,"column":28}},"27":{"start":{"line":56,"column":10},"end":{"line":56,"column":85}},"28":{"start":{"line":59,"column":10},"end":{"line":62,"column":11}},"29":{"start":{"line":60,"column":12},"end":{"line":60,"column":30}},"30":{"start":{"line":61,"column":12},"end":{"line":61,"column":18}},"31":{"start":{"line":64,"column":10},"end":{"line":64,"column":104}},"32":{"start":{"line":67,"column":10},"end":{"line":67,"column":29}},"33":{"start":{"line":68,"column":10},"end":{"line":68,"column":85}},"34":{"start":{"line":71,"column":10},"end":{"line":74,"column":11}},"35":{"start":{"line":72,"column":12},"end":{"line":72,"column":31}},"36":{"start":{"line":73,"column":12},"end":{"line":73,"column":18}},"37":{"start":{"line":76,"column":10},"end":{"line":76,"column":96}},"38":{"start":{"line":79,"column":10},"end":{"line":79,"column":46}},"39":{"start":{"line":80,"column":10},"end":{"line":80,"column":47}},"40":{"start":{"line":81,"column":10},"end":{"line":81,"column":235}},"41":{"start":{"line":82,"column":10},"end":{"line":82,"column":29}},"42":{"start":{"line":83,"column":10},"end":{"line":83,"column":252}},"43":{"start":{"line":86,"column":10},"end":{"line":86,"column":31}},"44":{"start":{"line":87,"column":10},"end":{"line":87,"column":27}},"45":{"start":{"line":89,"column":10},"end":{"line":92,"column":11}},"46":{"start":{"line":90,"column":12},"end":{"line":90,"column":31}},"47":{"start":{"line":91,"column":12},"end":{"line":91,"column":18}},"48":{"start":{"line":94,"column":10},"end":{"line":94,"column":114}},"49":{"start":{"line":97,"column":10},"end":{"line":106,"column":12}},"50":{"start":{"line":107,"column":10},"end":{"line":107,"column":29}},"51":{"start":{"line":108,"column":10},"end":{"line":108,"column":74}},"52":{"start":{"line":111,"column":10},"end":{"line":114,"column":11}},"53":{"start":{"line":112,"column":12},"end":{"line":112,"column":31}},"54":{"start":{"line":113,"column":12},"end":{"line":113,"column":18}},"55":{"start":{"line":116,"column":10},"end":{"line":116,"column":123}},"56":{"start":{"line":119,"column":10},"end":{"line":119,"column":51}},"57":{"start":{"line":120,"column":10},"end":{"line":120,"column":26}},"58":{"start":{"line":121,"column":10},"end":{"line":128,"column":13}},"59":{"start":{"line":129,"column":10},"end":{"line":129,"column":29}},"60":{"start":{"line":130,"column":10},"end":{"line":130,"column":16}},"61":{"start":{"line":133,"column":10},"end":{"line":133,"column":29}},"62":{"start":{"line":134,"column":10},"end":{"line":134,"column":45}},"63":{"start":{"line":135,"column":10},"end":{"line":135,"column":29}},"64":{"start":{"line":136,"column":10},"end":{"line":136,"column":28}},"65":{"start":{"line":140,"column":10},"end":{"line":140,"column":33}},"66":{"start":{"line":146,"column":0},"end":{"line":228,"column":3}},"67":{"start":{"line":149,"column":2},"end":{"line":227,"column":28}},"68":{"start":{"line":150,"column":4},"end":{"line":226,"column":5}},"69":{"start":{"line":151,"column":6},"end":{"line":225,"column":7}},"70":{"start":{"line":153,"column":10},"end":{"line":153,"column":29}},"71":{"start":{"line":155,"column":10},"end":{"line":158,"column":11}},"72":{"start":{"line":156,"column":12},"end":{"line":156,"column":31}},"73":{"start":{"line":157,"column":12},"end":{"line":157,"column":18}},"74":{"start":{"line":160,"column":10},"end":{"line":160,"column":67}},"75":{"start":{"line":163,"column":10},"end":{"line":166,"column":11}},"76":{"start":{"line":164,"column":12},"end":{"line":164,"column":31}},"77":{"start":{"line":165,"column":12},"end":{"line":165,"column":18}},"78":{"start":{"line":168,"column":10},"end":{"line":168,"column":67}},"79":{"start":{"line":171,"column":10},"end":{"line":171,"column":60}},"80":{"start":{"line":172,"column":10},"end":{"line":172,"column":29}},"81":{"start":{"line":173,"column":10},"end":{"line":173,"column":81}},"82":{"start":{"line":176,"column":10},"end":{"line":176,"column":33}},"83":{"start":{"line":177,"column":10},"end":{"line":177,"column":28}},"84":{"start":{"line":179,"column":10},"end":{"line":182,"column":11}},"85":{"start":{"line":180,"column":12},"end":{"line":180,"column":32}},"86":{"start":{"line":181,"column":12},"end":{"line":181,"column":18}},"87":{"start":{"line":184,"column":10},"end":{"line":184,"column":67}},"88":{"start":{"line":187,"column":10},"end":{"line":190,"column":11}},"89":{"start":{"line":188,"column":12},"end":{"line":188,"column":32}},"90":{"start":{"line":189,"column":12},"end":{"line":189,"column":18}},"91":{"start":{"line":192,"column":10},"end":{"line":192,"column":67}},"92":{"start":{"line":195,"column":10},"end":{"line":195,"column":51}},"93":{"start":{"line":196,"column":10},"end":{"line":196,"column":30}},"94":{"start":{"line":197,"column":10},"end":{"line":197,"column":80}},"95":{"start":{"line":200,"column":10},"end":{"line":203,"column":11}},"96":{"start":{"line":201,"column":12},"end":{"line":201,"column":32}},"97":{"start":{"line":202,"column":12},"end":{"line":202,"column":18}},"98":{"start":{"line":205,"column":10},"end":{"line":205,"column":94}},"99":{"start":{"line":208,"column":10},"end":{"line":214,"column":14}},"100":{"start":{"line":217,"column":10},"end":{"line":217,"column":30}},"101":{"start":{"line":218,"column":10},"end":{"line":218,"column":47}},"102":{"start":{"line":219,"column":10},"end":{"line":219,"column":30}},"103":{"start":{"line":220,"column":10},"end":{"line":220,"column":29}},"104":{"start":{"line":224,"column":10},"end":{"line":224,"column":34}},"105":{"start":{"line":229,"column":0},"end":{"line":229,"column":24}}},"fnMap":{"0":{"name":"_callee","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":16}},"loc":{"start":{"line":30,"column":33},"end":{"line":144,"column":1}},"line":30},"1":{"name":"_callee$","decl":{"start":{"line":33,"column":48},"end":{"line":33,"column":56}},"loc":{"start":{"line":33,"column":67},"end":{"line":143,"column":3}},"line":33},"2":{"name":"_callee2","decl":{"start":{"line":146,"column":37},"end":{"line":146,"column":45}},"loc":{"start":{"line":146,"column":62},"end":{"line":228,"column":1}},"line":146},"3":{"name":"_callee2$","decl":{"start":{"line":149,"column":48},"end":{"line":149,"column":57}},"loc":{"start":{"line":149,"column":69},"end":{"line":227,"column":3}},"line":149}},"branchMap":{"0":{"loc":{"start":{"line":35,"column":6},"end":{"line":141,"column":7}},"type":"switch","locations":[{"start":{"line":36,"column":8},"end":{"line":44,"column":99}},{"start":{"line":46,"column":8},"end":{"line":52,"column":102}},{"start":{"line":54,"column":8},"end":{"line":56,"column":85}},{"start":{"line":58,"column":8},"end":{"line":64,"column":104}},{"start":{"line":66,"column":8},"end":{"line":68,"column":85}},{"start":{"line":70,"column":8},"end":{"line":76,"column":96}},{"start":{"line":78,"column":8},"end":{"line":83,"column":252}},{"start":{"line":85,"column":8},"end":{"line":94,"column":114}},{"start":{"line":96,"column":8},"end":{"line":108,"column":74}},{"start":{"line":110,"column":8},"end":{"line":116,"column":123}},{"start":{"line":118,"column":8},"end":{"line":130,"column":16}},{"start":{"line":132,"column":8},"end":{"line":136,"column":28}},{"start":{"line":138,"column":8},"end":{"line":138,"column":16}},{"start":{"line":139,"column":8},"end":{"line":140,"column":33}}],"line":35},"1":{"loc":{"start":{"line":39,"column":10},"end":{"line":42,"column":11}},"type":"if","locations":[{"start":{"line":39,"column":10},"end":{"line":42,"column":11}},{"start":{"line":39,"column":10},"end":{"line":42,"column":11}}],"line":39},"2":{"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":207}},"type":"binary-expr","locations":[{"start":{"line":39,"column":16},"end":{"line":39,"column":35}},{"start":{"line":39,"column":39},"end":{"line":39,"column":57}},{"start":{"line":39,"column":61},"end":{"line":39,"column":76}},{"start":{"line":39,"column":80},"end":{"line":39,"column":95}},{"start":{"line":39,"column":99},"end":{"line":39,"column":121}},{"start":{"line":39,"column":125},"end":{"line":39,"column":141}},{"start":{"line":39,"column":145},"end":{"line":39,"column":162}},{"start":{"line":39,"column":166},"end":{"line":39,"column":186}},{"start":{"line":39,"column":190},"end":{"line":39,"column":207}}],"line":39},"3":{"loc":{"start":{"line":47,"column":10},"end":{"line":50,"column":11}},"type":"if","locations":[{"start":{"line":47,"column":10},"end":{"line":50,"column":11}},{"start":{"line":47,"column":10},"end":{"line":50,"column":11}}],"line":47},"4":{"loc":{"start":{"line":59,"column":10},"end":{"line":62,"column":11}},"type":"if","locations":[{"start":{"line":59,"column":10},"end":{"line":62,"column":11}},{"start":{"line":59,"column":10},"end":{"line":62,"column":11}}],"line":59},"5":{"loc":{"start":{"line":71,"column":10},"end":{"line":74,"column":11}},"type":"if","locations":[{"start":{"line":71,"column":10},"end":{"line":74,"column":11}},{"start":{"line":71,"column":10},"end":{"line":74,"column":11}}],"line":71},"6":{"loc":{"start":{"line":89,"column":10},"end":{"line":92,"column":11}},"type":"if","locations":[{"start":{"line":89,"column":10},"end":{"line":92,"column":11}},{"start":{"line":89,"column":10},"end":{"line":92,"column":11}}],"line":89},"7":{"loc":{"start":{"line":111,"column":10},"end":{"line":114,"column":11}},"type":"if","locations":[{"start":{"line":111,"column":10},"end":{"line":114,"column":11}},{"start":{"line":111,"column":10},"end":{"line":114,"column":11}}],"line":111},"8":{"loc":{"start":{"line":151,"column":6},"end":{"line":225,"column":7}},"type":"switch","locations":[{"start":{"line":152,"column":8},"end":{"line":160,"column":67}},{"start":{"line":162,"column":8},"end":{"line":168,"column":67}},{"start":{"line":170,"column":8},"end":{"line":173,"column":81}},{"start":{"line":175,"column":8},"end":{"line":184,"column":67}},{"start":{"line":186,"column":8},"end":{"line":192,"column":67}},{"start":{"line":194,"column":8},"end":{"line":197,"column":80}},{"start":{"line":199,"column":8},"end":{"line":205,"column":94}},{"start":{"line":207,"column":8},"end":{"line":214,"column":14}},{"start":{"line":216,"column":8},"end":{"line":220,"column":29}},{"start":{"line":222,"column":8},"end":{"line":222,"column":16}},{"start":{"line":223,"column":8},"end":{"line":224,"column":34}}],"line":151},"9":{"loc":{"start":{"line":155,"column":10},"end":{"line":158,"column":11}},"type":"if","locations":[{"start":{"line":155,"column":10},"end":{"line":158,"column":11}},{"start":{"line":155,"column":10},"end":{"line":158,"column":11}}],"line":155},"10":{"loc":{"start":{"line":155,"column":16},"end":{"line":155,"column":53}},"type":"binary-expr","locations":[{"start":{"line":155,"column":16},"end":{"line":155,"column":31}},{"start":{"line":155,"column":35},"end":{"line":155,"column":53}}],"line":155},"11":{"loc":{"start":{"line":163,"column":10},"end":{"line":166,"column":11}},"type":"if","locations":[{"start":{"line":163,"column":10},"end":{"line":166,"column":11}},{"start":{"line":163,"column":10},"end":{"line":166,"column":11}}],"line":163},"12":{"loc":{"start":{"line":179,"column":10},"end":{"line":182,"column":11}},"type":"if","locations":[{"start":{"line":179,"column":10},"end":{"line":182,"column":11}},{"start":{"line":179,"column":10},"end":{"line":182,"column":11}}],"line":179},"13":{"loc":{"start":{"line":187,"column":10},"end":{"line":190,"column":11}},"type":"if","locations":[{"start":{"line":187,"column":10},"end":{"line":190,"column":11}},{"start":{"line":187,"column":10},"end":{"line":190,"column":11}}],"line":187},"14":{"loc":{"start":{"line":200,"column":10},"end":{"line":203,"column":11}},"type":"if","locations":[{"start":{"line":200,"column":10},"end":{"line":203,"column":11}},{"start":{"line":200,"column":10},"end":{"line":203,"column":11}}],"line":200}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":7,"16":14,"17":2,"18":2,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":0,"56":1,"57":1,"58":1,"59":1,"60":1,"61":0,"62":0,"63":0,"64":0,"65":2,"66":1,"67":26,"68":103,"69":230,"70":26,"71":26,"72":26,"73":26,"74":0,"75":26,"76":26,"77":26,"78":0,"79":26,"80":26,"81":26,"82":26,"83":26,"84":26,"85":25,"86":25,"87":1,"88":25,"89":25,"90":25,"91":0,"92":25,"93":25,"94":25,"95":25,"96":25,"97":25,"98":0,"99":25,"100":1,"101":1,"102":1,"103":1,"104":26,"105":1},"f":{"0":2,"1":7,"2":26,"3":103},"b":{"0":[2,1,1,1,1,1,1,1,1,1,1,0,1,2],"1":[1,1],"2":[2,2,2,2,1,1,1,1,1],"3":[1,0],"4":[1,0],"5":[1,0],"6":[1,0],"7":[1,0],"8":[26,26,26,26,25,25,25,25,1,1,26],"9":[26,0],"10":[26,26],"11":[26,0],"12":[25,1],"13":[25,0],"14":[25,0]},"inputSourceMap":{"version":3,"sources":["auth_login.js"],"names":["express","require","randomstring","bcrypt","router","Router","debug","Auth","Validate","Helper","db","ErrorHandler","post","verifyTokenAdmin","req","res","next","body","firstName","lastName","email","phone","is_superuser","gender","jobRole","department","address","isValidEmail","isEmailUsed","isPhoneUsed","password","generate","hash","hashSync","user","query","rows","id","message","from","to","subject","text","sendMail","token","generateToken","status","json","data","userId","comparePassword","updateLogin","send","module","exports"],"mappings":"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","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\routes\\controllers","sourcesContent":["const express = require('express');\r\nconst randomstring = require('randomstring');\r\nconst bcrypt = require('bcrypt');\r\n\r\nconst router = express.Router();\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\nconst Auth = require('../../auth/middleware/auth.js');\r\nconst Validate = require('../../auth/validate.js');\r\nconst Helper = require('../../auth/helper.js');\r\nconst db = require('../../db/index.js');\r\nconst { ErrorHandler } = require('../../auth/middleware/error');\r\n\r\n// eslint-disable-next-line consistent-return\r\nrouter.post(\r\n  '/auth/create-user',\r\n  Auth.verifyTokenAdmin,\r\n  // eslint-disable-next-line consistent-return\r\n  async (req, res, next) => {\r\n    try {\r\n      if (\r\n        !req.body.firstName ||\r\n        !req.body.lastName ||\r\n        !req.body.email ||\r\n        !req.body.phone ||\r\n        !req.body.is_superuser ||\r\n        !req.body.gender ||\r\n        !req.body.jobRole ||\r\n        !req.body.department ||\r\n        !req.body.address\r\n      ) {\r\n        return next(new ErrorHandler(401, 'incomplete user details'));\r\n      }\r\n      if (!Validate.isValidEmail(req.body.email)) {\r\n        return next(new ErrorHandler(401, 'invalid user email address'));\r\n      }\r\n      // console.log(await Validate.isEmailUsed(req.body.email));\r\n      if (await Validate.isEmailUsed(req.body.email)) {\r\n        return next(new ErrorHandler(401, 'email address already in use'));\r\n      }\r\n\r\n      if (await Validate.isPhoneUsed(req.body.phone)) {\r\n        return next(new ErrorHandler(401, 'phone already in use'));\r\n      }\r\n      const password = randomstring.generate(6);\r\n      const hash = bcrypt.hashSync(password, 10);\r\n      const user =\r\n        'INSERT INTO sys_users(password, firstName, lastName, email, phone, is_superuser, password_status,login_attempts,gender,jobRole,department,address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9,$10,$11,$12) returning id';\r\n      const { rows } = await db.query(user, [\r\n        hash,\r\n        req.body.firstName,\r\n        req.body.lastName,\r\n        req.body.email,\r\n        req.body.phone,\r\n        req.body.is_superuser,\r\n        'Change',\r\n        0,\r\n        req.body.gender,\r\n        req.body.jobRole,\r\n        req.body.department,\r\n        req.body.address\r\n      ]);\r\n\r\n      if (!rows[0].id) {\r\n        return next(\r\n          new ErrorHandler(500, 'An error occured while saving the user')\r\n        );\r\n      }\r\n      const message = {\r\n        from: 'ipkiruig83@gmail.com', // Sender address\r\n        to: req.body.email, // List of recipients\r\n        subject: 'Password for Teamwork App', // Subject line\r\n        text: `You have been successfully registered to access this app. your password is ${password}` // Plain text body\r\n      };\r\n      if (await !Helper.sendMail(message)) {\r\n        return next(\r\n          new ErrorHandler(\r\n            500,\r\n            'An error occured while sending mail to the user'\r\n          )\r\n        );\r\n      }\r\n      const token = Helper.generateToken(rows[0].id);\r\n      res.status(201);\r\n      res.json({\r\n        status: 'success',\r\n        data: {\r\n          message: 'User account successfully created',\r\n          token,\r\n          userId: rows[0].id\r\n        }\r\n      });\r\n    } catch (error) {\r\n      debug(error);\r\n      next(error);\r\n    }\r\n  }\r\n);\r\n\r\n// eslint-disable-next-line consistent-return\r\nrouter.post('/auth/signin', async (req, res, next) => {\r\n  try {\r\n    if (!req.body.email || !req.body.password) {\r\n      throw new ErrorHandler(401, 'invalid login credentials');\r\n    }\r\n    if (!Validate.isValidEmail(req.body.email)) {\r\n      throw new ErrorHandler(401, 'invalid login credentials');\r\n    }\r\n    const text = 'SELECT * FROM sys_users WHERE email = $1';\r\n\r\n    const { rows } = await db.query(text, [req.body.email]);\r\n    if (!rows[0]) {\r\n      throw new ErrorHandler(401, 'invalid login credentials');\r\n    }\r\n    if (!Validate.comparePassword(rows[0].password, req.body.password)) {\r\n      throw new ErrorHandler(401, 'invalid login credentials');\r\n    }\r\n    const token = Helper.generateToken(rows[0].id);\r\n    if (await !Helper.updateLogin(rows[0].id)) {\r\n      throw new ErrorHandler(\r\n        500,\r\n        'an error occured while processing your login request'\r\n      );\r\n    }\r\n    return res.status(200).send({\r\n      status: 'success',\r\n      data: {\r\n        token,\r\n        userId: rows[0].id\r\n      }\r\n    });\r\n  } catch (error) {\r\n    debug(error);\r\n    next(error);\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1f8855cf025c10cb59fb901a0a415814fbcd9d29","contentHash":"ef9bf4eb92a1476155c0e7ed3a2f13e0d24f4f46bdcf8190260f8a2cacbc576f"},"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\validate.js":{"path":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth\\validate.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":30}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":58}},"4":{"start":{"line":11,"column":9},"end":{"line":11,"column":34}},"5":{"start":{"line":13,"column":15},"end":{"line":93,"column":1}},"6":{"start":{"line":16,"column":4},"end":{"line":20,"column":5}},"7":{"start":{"line":17,"column":6},"end":{"line":17,"column":63}},"8":{"start":{"line":19,"column":6},"end":{"line":19,"column":19}},"9":{"start":{"line":24,"column":4},"end":{"line":28,"column":5}},"10":{"start":{"line":25,"column":6},"end":{"line":25,"column":56}},"11":{"start":{"line":27,"column":6},"end":{"line":27,"column":19}},"12":{"start":{"line":31,"column":4},"end":{"line":31,"column":38}},"13":{"start":{"line":36,"column":4},"end":{"line":61,"column":29}},"14":{"start":{"line":37,"column":6},"end":{"line":60,"column":7}},"15":{"start":{"line":38,"column":8},"end":{"line":59,"column":9}},"16":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"17":{"start":{"line":41,"column":12},"end":{"line":41,"column":78}},"18":{"start":{"line":42,"column":12},"end":{"line":42,"column":30}},"19":{"start":{"line":43,"column":12},"end":{"line":43,"column":74}},"20":{"start":{"line":46,"column":12},"end":{"line":46,"column":33}},"21":{"start":{"line":47,"column":12},"end":{"line":47,"column":29}},"22":{"start":{"line":48,"column":12},"end":{"line":48,"column":61}},"23":{"start":{"line":51,"column":12},"end":{"line":51,"column":30}},"24":{"start":{"line":52,"column":12},"end":{"line":52,"column":47}},"25":{"start":{"line":53,"column":12},"end":{"line":53,"column":31}},"26":{"start":{"line":54,"column":12},"end":{"line":54,"column":52}},"27":{"start":{"line":58,"column":12},"end":{"line":58,"column":35}},"28":{"start":{"line":66,"column":4},"end":{"line":91,"column":29}},"29":{"start":{"line":67,"column":6},"end":{"line":90,"column":7}},"30":{"start":{"line":68,"column":8},"end":{"line":89,"column":9}},"31":{"start":{"line":70,"column":12},"end":{"line":70,"column":31}},"32":{"start":{"line":71,"column":12},"end":{"line":71,"column":78}},"33":{"start":{"line":72,"column":12},"end":{"line":72,"column":31}},"34":{"start":{"line":73,"column":12},"end":{"line":73,"column":75}},"35":{"start":{"line":76,"column":12},"end":{"line":76,"column":35}},"36":{"start":{"line":77,"column":12},"end":{"line":77,"column":30}},"37":{"start":{"line":78,"column":12},"end":{"line":78,"column":62}},"38":{"start":{"line":81,"column":12},"end":{"line":81,"column":31}},"39":{"start":{"line":82,"column":12},"end":{"line":82,"column":49}},"40":{"start":{"line":83,"column":12},"end":{"line":83,"column":32}},"41":{"start":{"line":84,"column":12},"end":{"line":84,"column":53}},"42":{"start":{"line":88,"column":12},"end":{"line":88,"column":36}},"43":{"start":{"line":94,"column":0},"end":{"line":94,"column":26}}},"fnMap":{"0":{"name":"hashPassword","decl":{"start":{"line":15,"column":25},"end":{"line":15,"column":37}},"loc":{"start":{"line":15,"column":48},"end":{"line":21,"column":3}},"line":15},"1":{"name":"comparePassword","decl":{"start":{"line":23,"column":28},"end":{"line":23,"column":43}},"loc":{"start":{"line":23,"column":68},"end":{"line":29,"column":3}},"line":23},"2":{"name":"isValidEmail","decl":{"start":{"line":30,"column":25},"end":{"line":30,"column":37}},"loc":{"start":{"line":30,"column":45},"end":{"line":32,"column":3}},"line":30},"3":{"name":"isEmailUsed","decl":{"start":{"line":33,"column":24},"end":{"line":33,"column":35}},"loc":{"start":{"line":33,"column":43},"end":{"line":62,"column":3}},"line":33},"4":{"name":"isEmailUsed$","decl":{"start":{"line":36,"column":50},"end":{"line":36,"column":62}},"loc":{"start":{"line":36,"column":73},"end":{"line":61,"column":5}},"line":36},"5":{"name":"isPhoneUsed","decl":{"start":{"line":63,"column":24},"end":{"line":63,"column":35}},"loc":{"start":{"line":63,"column":43},"end":{"line":92,"column":3}},"line":63},"6":{"name":"isPhoneUsed$","decl":{"start":{"line":66,"column":50},"end":{"line":66,"column":62}},"loc":{"start":{"line":66,"column":74},"end":{"line":91,"column":5}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":38,"column":8},"end":{"line":59,"column":9}},"type":"switch","locations":[{"start":{"line":39,"column":10},"end":{"line":43,"column":74}},{"start":{"line":45,"column":10},"end":{"line":48,"column":61}},{"start":{"line":50,"column":10},"end":{"line":54,"column":52}},{"start":{"line":56,"column":10},"end":{"line":56,"column":18}},{"start":{"line":57,"column":10},"end":{"line":58,"column":35}}],"line":38},"1":{"loc":{"start":{"line":68,"column":8},"end":{"line":89,"column":9}},"type":"switch","locations":[{"start":{"line":69,"column":10},"end":{"line":73,"column":75}},{"start":{"line":75,"column":10},"end":{"line":78,"column":62}},{"start":{"line":80,"column":10},"end":{"line":84,"column":53}},{"start":{"line":86,"column":10},"end":{"line":86,"column":18}},{"start":{"line":87,"column":10},"end":{"line":88,"column":36}}],"line":68}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":25,"10":25,"11":0,"12":27,"13":1,"14":3,"15":3,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":3,"30":3,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1},"f":{"0":0,"1":25,"2":27,"3":1,"4":3,"5":1,"6":3},"b":{"0":[1,1,0,0,1],"1":[1,1,0,0,1]},"inputSourceMap":{"version":3,"sources":["validate.js"],"names":["bcrypt","require","debug","db","Validate","hashPassword","password","hashSync","genSaltSync","error","comparePassword","compareSync","isValidEmail","email","test","isEmailUsed","text","query","rows","exists","isPhoneUsed","phone","textP","module","exports"],"mappings":";;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAAP,CAAiB,4BAAjB,CAAd;;AACA,IAAME,EAAE,GAAGF,OAAO,CAAC,gBAAD,CAAlB;;AAEA,IAAMG,QAAQ,GAAG;AACf;AACAC,EAAAA,YAFe,wBAEFC,QAFE,EAEQ;AACrB,QAAI;AACF,aAAON,MAAM,CAACO,QAAP,CAAgBD,QAAhB,EAA0BN,MAAM,CAACQ,WAAP,CAAmB,EAAnB,CAA1B,CAAP;AACD,KAFD,CAEE,OAAOC,KAAP,EAAc;AACdP,MAAAA,KAAK,CAACO,KAAD,CAAL;AACD;AACF,GARc;AAUf;AACAC,EAAAA,eAXe,2BAWCL,YAXD,EAWeC,QAXf,EAWyB;AACtC,QAAI;AACF,aAAON,MAAM,CAACW,WAAP,CAAmBL,QAAnB,EAA6BD,YAA7B,CAAP;AACD,KAFD,CAEE,OAAOI,KAAP,EAAc;AACdP,MAAAA,KAAK,CAACO,KAAD,CAAL;AACD;AACF,GAjBc;AAmBfG,EAAAA,YAnBe,wBAmBFC,KAnBE,EAmBK;AAClB,WAAO,eAAeC,IAAf,CAAoBD,KAApB,CAAP;AACD,GArBc;AAuBTE,EAAAA,WAvBS,uBAuBGF,KAvBH;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBLG,YAAAA,IAzBK,GAyBE,0DAzBF;AAAA;AAAA,iDA0BYb,EAAE,CAACc,KAAH,CAASD,IAAT,EAAe,CAACH,KAAD,CAAf,CA1BZ;;AAAA;AAAA;AA0BHK,YAAAA,IA1BG,QA0BHA,IA1BG;AAAA,6CA2BJA,IAAI,CAAC,CAAD,CAAJ,CAAQC,MA3BJ;;AAAA;AAAA;AAAA;AA6BXjB,YAAAA,KAAK,aAAL;AA7BW,6CA8BJ,KA9BI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCTkB,EAAAA,WAlCS,uBAkCGC,KAlCH;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCLC,YAAAA,KApCK,GAoCG,yDApCH;AAAA;AAAA,iDAqCYnB,EAAE,CAACc,KAAH,CAASK,KAAT,EAAgB,CAACD,KAAD,CAAhB,CArCZ;;AAAA;AAAA;AAqCHH,YAAAA,IArCG,SAqCHA,IArCG;AAAA,8CAsCJA,IAAI,CAAC,CAAD,CAAJ,CAAQC,MAtCJ;;AAAA;AAAA;AAAA;AAwCXjB,YAAAA,KAAK,cAAL;AAxCW,8CAyCJ,KAzCI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AA8CAqB,MAAM,CAACC,OAAP,GAAiBpB,QAAjB","sourceRoot":"F:\\MyLearning\\Capstone-project\\Teamwork-Backend-API\\src\\auth","sourcesContent":["const bcrypt = require('bcrypt');\r\nconst debug = require('debug')('teamwork-backend-api:debug');\r\nconst db = require('../db/index.js');\r\n\r\nconst Validate = {\r\n  // eslint-disable-next-line consistent-return\r\n  hashPassword(password) {\r\n    try {\r\n      return bcrypt.hashSync(password, bcrypt.genSaltSync(10));\r\n    } catch (error) {\r\n      debug(error);\r\n    }\r\n  },\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  comparePassword(hashPassword, password) {\r\n    try {\r\n      return bcrypt.compareSync(password, hashPassword);\r\n    } catch (error) {\r\n      debug(error);\r\n    }\r\n  },\r\n\r\n  isValidEmail(email) {\r\n    return /\\S+@\\S+\\.\\S+/.test(email);\r\n  },\r\n\r\n  async isEmailUsed(email) {\r\n    try {\r\n      const text = 'SELECT EXISTS (SELECT 1 FROM sys_users WHERE email = $1)';\r\n      const { rows } = await db.query(text, [email]);\r\n      return rows[0].exists;\r\n    } catch (error) {\r\n      debug(error);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  async isPhoneUsed(phone) {\r\n    try {\r\n      const textP = 'SELECT EXISTS(SELECT 1 FROM sys_users WHERE phone = $1)';\r\n      const { rows } = await db.query(textP, [phone]);\r\n      return rows[0].exists;\r\n    } catch (error) {\r\n      debug(error);\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = Validate;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9fda6bdbabd59b69f7b73c20b5f73c2c2aff1919","contentHash":"6fa0bcb59b7757759e897066bdcf73cdb1ccf26990563214878bf965ef1b5829"}}